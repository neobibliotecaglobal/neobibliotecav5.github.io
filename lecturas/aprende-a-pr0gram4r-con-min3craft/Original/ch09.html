<html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ns="http://www.w3.org/2001/10/synthesis">
<head>
<title>Aprende a programar con Minecraft</title>
<link href="../styles/9781593276706.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:40af8c70-d268-482b-9282-0b537fc6ae71" name="Adept.expected.resource"/>
</head>
<body>
<h2 class="h2" id="ch09"><span epub:type="pagebreak" id="page_171"></span><strong><span class="blue1"><span class="big">9</span></span></strong><br translate="no"/><strong>GOLPEAR COSAS CON LISTAS Y DICCIONARIOS</strong></h2>
<div class="image1"><img alt="image" src="../images/common01.jpg" translate="no"/></div>
<p class="noindent">Utilizamos las listas, como las listas de la compra o las listas de instrucciones, para recordar un grupo de elementos o para seguir unos pasos en un orden determinado. Las listas en Python son muy similares: se utilizan para almacenar una colección de datos dentro de una secuencia. Una <em>lista</em> puede almacenar varios tipos de datos, como cadenas, números, booleanos e incluso otras listas.</p>
<p class="indent">Normalmente, las variables sólo pueden contener un valor. Las listas son útiles porque te permiten almacenar varios valores en una sola variable, como los números del 1 al 100 o los nombres de pila de tus amigos. En otros lenguajes de programación, las listas se denominan a veces <em>matrices</em>.</p>
<p class="indent">Puedes utilizar listas de IDs de bloques, coordenadas, o una variedad de otras cosas para ganar mucho poder sobre tu mundo Minecraft. Como las listas pueden almacenar varios tipos de valores en una sola variable, te dan una flexibilidad que una variable normal no puede ofrecer.</p>
<p class="indent"><span epub:type="pagebreak" id="page_172"></span>En este capítulo, aprenderás a utilizar listas con la API Python de Minecraft para crear un minijuego para registrar la altura, hacer una barra de progreso y escribir un programa que deslice aleatoriamente al jugador por el juego.</p>
<h3 class="h3" id="ch09lev1sec01"><strong><span class="blue1">Utilizar listas</span></strong></h3>
<p class="noindent">Hacer una lista con Python es sencillo. Para definir una lista, pon entre corchetes cualquier número de valores, o ningún valor, lo que se denomina lista <em>vacía</em>. Cada elemento de una lista debe ir separado por una coma.</p>
<p class="indent">Por ejemplo, una lista de ingredientes para una sopa de fideos podría tener este aspecto:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>]</p>
<p class="indent">La lista sopa de <span class="literal">fideos</span> contiene varios elementos y todos ellos son cadenas. Puedes crear una lista vacía como ésta:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> emptyList = []</p>
<p class="indent">Utiliza una lista vacía cuando quieras añadir valores más adelante en tu programa. Puedes almacenar cualquier tipo de datos en tu lista e incluso mezclar distintos tipos de datos. Por ejemplo, puedes tener una lista que contenga enteros y cadenas:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> wackyList = [<span class="green">"cardigan"</span>, 33, <span class="green">"goofballs"</span>]</p>
<p class="indent">A veces tus listas serán muy largas, lo que dificultará su lectura por los humanos. Pero puedes formatear listas largas en varias líneas en Python para que los programadores puedan leerlas fácilmente. Utilizar varias líneas para los elementos no afecta a la ejecución del código Python. Por ejemplo, el siguiente formato para los ingredientes de la sopa funciona igual que la lista anterior de <span class="literal">sopa de fideos</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>,<br translate="no"/> <span class="green">"soy sauce"</span>,<br translate="no"/> <span class="green">"spring onions"</span><br translate="no"/> <span class="green">"noodles",</span><br translate="no"/> <span class="green">"beef"</span>]</p>
<p class="indent">A continuación veremos cómo puedes acceder a los elementos de una lista y modificarlos.</p>
<h4 class="h4" id="ch09lev2sec01"><strong><span class="blue1">Acceder a un elemento de la lista</span></strong></h4>
<p class="noindent">Para acceder a un valor de una lista, haz referencia a la posición del elemento en la lista, lo que se conoce como su <em>índice</em>. Utilizando el ejemplo de la sopa de fideos, puedes acceder al primer elemento de la lista así:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(noodleSoup[0])<br translate="no"/><span class="blue1">water</span></p>
<p class="indent"><span epub:type="pagebreak" id="page_173"></span>Es importante tener en cuenta que el primer índice de una lista es 0. El segundo elemento es el índice 1, el tercero es el índice 2, y así sucesivamente. La razón es que los ordenadores cuentan desde cero cuando utilizan listas.</p>
<p class="indent">Contar desde cero puede parecer una tontería, pero hay una buena razón para ello. Los primeros ordenadores eran muy lentos y tenían muy poca memoria. Era más rápido y eficaz empezar a contar los índices desde cero. Aunque hoy en día los ordenadores son mucho más rápidos, siguen contando desde cero.</p>
<p class="indent">También es importante tener en cuenta que si intentas acceder a un índice de lista que sea mayor que el número de elementos de la lista, recibirás un mensaje de error. La siguiente línea intenta imprimir el elemento en la posición 5 del índice:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(noodleSoup[5])</p>
<p class="indent">Aquí tienes parte del mensaje de error:</p>
<p class="programs" translate="no"><span class="red">IndexError: list index out of range</span></p>
<p class="indent">El <span class="literal">IndexError</span> me dice que no hay datos en el índice al que quiero acceder. La posición 5 del índice de la lista no tiene datos porque está fuera de la longitud de la lista. ¡Python no puede devolver un valor que no existe!</p>
<h4 class="h4" id="ch09lev2sec02"><strong><span class="blue1">Cambiar un elemento de la lista</span></strong></h4>
<p class="noindent">Al igual que puedes cambiar el valor de las variables, también puedes cambiar elementos individuales de las listas. Esto se debe a que las listas son <em>mutables</em>, lo que significa que pueden modificarse. Para cambiar un elemento de una lista, utiliza la posición del índice del elemento y establece su valor del mismo modo que establecerías el valor de una variable (utilizando un signo igual).</p>
<p class="indent">Cambiemos el elemento ternera de la sopa de fideos por pollo. La ternera es el quinto elemento de la lista, por lo que tiene un índice de 4 (recuerda que en las listas se cuenta desde cero). Podemos cambiar fácilmente el elemento 4 por pollo, así:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup[4] = <span class="green">"chicken"</span></p>
<p class="indent">Ahora vamos a hacer algo guay con las listas en Minecraft.</p>
<h4 class="h4a" id="ch09lev2sec03"><strong>Misión nº 47: Alto y Bajo</strong></h4>
<p class="noindent">Cuando exploro el mundo de Minecraft, es interesante repasar mi viaje. Desde las montañas más altas hasta las cuevas más bajas, la exploración es una de mis actividades favoritas en el juego. A veces, cuando juego con amigos, hacemos carreras para ver quién llega más rápido al punto más alto o más bajo del juego. Para que nadie haga trampas, escribí un programa que almacena las coordenadas y más bajas y más altas que alcanza el jugador en 60 segundos.</p>
<p class="indent">Cuando ejecuto el programa, me dice los lugares más alto y más bajo del juego a los que he viajado durante un minuto. <a href="ch09.xhtml#ch9ex1">El listado 9-1</a> contiene el código que he iniciado para ti. Cópialo en un nuevo archivo y guárdalo como <em>altoYbajo.py</em> en una nueva carpeta llamada <em>listas</em>.</p>
<p class="sidenote" translate="no"><span epub:type="pagebreak" id="page_174"></span><span class="blue"><em>highAndLow.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">import</span> time<br translate="no"/><br translate="no"/><span class="ent">➊</span> heights = [100, 0]<br translate="no"/>   count = 0<br translate="no"/><br translate="no"/> <span class="orange">while</span> count &lt; 60:<br translate="no"/>       pos = mc.player.getTilePos()<br translate="no"/><br translate="no"/> <span class="orange">if</span> pos.y &lt; heights[0]:<br translate="no"/><span class="ent">➋</span> <span class="red"># Set the lowest height to the y variable</span><br translate="no"/> <span class="orange">elif</span> pos.y &gt; heights[1]:<br translate="no"/><span class="ent">➌</span> <span class="red"># Set the highest height to the y variable</span><br translate="no"/><br translate="no"/>       count += 1<br translate="no"/>       time.sleep(1)<br translate="no"/><br translate="no"/><span class="ent">➍</span> mc.postToChat(<span class="green">"Lowest: "</span>)   <span class="red"># Output lowest height</span><br translate="no"/><span class="ent">➎</span> mc.postToChat(<span class="green">"Highest: "</span>)  <span class="red"># Output highest height</span></p>
<p class="examplet"><a id="ch9ex1"></a><em>Listado 9-1: Inicio del código para obtener las posiciones más baja y más alta que visita el jugador</em></p>
<p class="indent">El programa almacenará las coordenadas y más bajas y más altas a las que ha viajado en una lista llamada <span class="literal">alturas</span> <span class="ent">➊.</span> El primer elemento de la lista (posición índice 0) almacena la coordenada más baja y el segundo (posición índice 1) almacena la más alta. Tenemos que empezar con un valor "más bajo" alto y un valor "más alto" bajo para que la primera vez que ejecutemos el programa, la posición del jugador sea el nuevo valor más bajo o más alto y se muestre en el chat. Aquí he utilizado por defecto un valor mínimo de 100 y un valor máximo de 0.</p>
<p class="indent">El bucle <span class="literal">while</span> se ejecuta una vez por segundo durante 60 segundos para actualizar constantemente los valores de <span class="literal">las alturas</span>. La sentencia <span class="literal">if</span> comprueba si la altura actual del jugador es inferior al valor más bajo almacenado en la lista <span class="ent">➋.</span> A continuación, la sentencia <span class="literal">elif</span> comprueba si la altura actual es mayor que la posición más alta almacenada en la lista <span class="ent">➌.</span></p>
<p class="indent">Para completar el código, tienes que establecer el valor de la altura más baja, <span class="literal">altura[0</span>], al valor de <span class="literal">pos.y</span> en <span class="ent">➋.</span> Recuerda que estableces los valores en listas como lo harías con una variable, por lo que la línea de código debería tener este aspecto: altura[0 <span class="literal">] = pos.y</span>. También tienes que establecer la altura más alta, <span class="literal">altura[1]</span>, al valor de <span class="literal">pos</span>.y <span class="ent">➌.</span></p>
<p class="indent">Por último, tienes que mostrar el valor de las alturas <span class="ent">➍</span> más baja y <span class="ent">➎</span> más alta en las dos últimas líneas del programa. Para ello, tendrás que acceder a las posiciones de los índices de las alturas más baja y más alta de la lista de <span class="literal">alturas</span> (de nuevo, el índice 0 es la altura más baja y el índice 1 es la altura más alta).</p>
<p class="indent">Ejecuta el programa y empieza a correr por el juego. Comprueba lo alto y lo bajo que puedes llegar. Después de 60 segundos, el bucle se detendrá y el programa mostrará tus alturas más alta y más baja. Ejecuta el programa varias veces y comprueba si puedes batir tu récord.</p>
<p class="indent"><a href="ch09.xhtml#ch9fig1">La Figura 9-1</a> muestra uno de mis intentos.</p>
<div class="image"><span epub:type="pagebreak" id="page_175"></span><img alt="image" src="../images/f09-01.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig1"></a><em>Figura 9-1: La coordenada y más baja que visité fue 15 y la más alta 102.</em></p>
<div class="sidebar">
<p class="sidebart" id="ch09sb01"><strong>OBJETIVO EXTRA: UN ERROR INESPERADO</strong></p>
<p class="noindent">En <em>highAndLow.py</em>, los valores por defecto para las posiciones más baja y más alta se establecen en 100 y 0. Esto no es un problema siempre que vayas más abajo de 100 y más arriba de 0. Sin embargo, si no vas más abajo de 100 y más arriba de 0, el valor no cambiará, lo que puede hacer que el programa sea impreciso. ¿Puedes solucionar esto?</p>
</div>
<h3 class="h3" id="ch09lev1sec02"><strong><span class="blue1">Manipulación de listas</span></strong></h3>
<p class="noindent">Las listas tienen un conjunto de funciones incorporadas que te permiten manipularlas. Estas funciones incluyen operaciones comunes como añadir un elemento a una lista, insertar un elemento o borrar un elemento.</p>
<h4 class="h4" id="ch09lev2sec04"><strong><span class="blue1">Añadir un elemento</span></strong></h4>
<p class="noindent">Puedes añadir un elemento al final de una lista utilizando la función <span class="literal">append()</span>: sólo tienes que incluir como argumento el valor del elemento que quieres añadir.</p>
<p class="indent">La sopa de fideos estaría mejor si añadiéramos algunas verduras. Para ello, utiliza la función <span class="literal">append()</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup.append(<span class="green">"vegetables"</span>)</p>
<p class="indent">Ahora la lista <span class="literal">sopaDeFideos</span> contiene una cadena <span class="literal">"verduras</span> " como último elemento de la lista.</p>
<p class="indent"><span epub:type="pagebreak" id="page_176"></span>Añadir elementos es muy útil cuando empiezas con una lista vacía. Utilizando la función <span class="literal">append</span> (), puedes añadir el primer elemento a una lista vacía:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> food = []<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> food.append(<span class="green">"cake"</span>)</p>
<h4 class="h4" id="ch09lev2sec05"><strong><span class="blue1">Insertar un elemento</span></strong></h4>
<p class="noindent">También es posible insertar un elemento en medio de una lista. La función <span class="literal">insertar</span> () coloca un elemento entre dos elementos existentes y cambia las posiciones de índice de todos los elementos situados después del elemento recién insertado.</p>
<p class="indent">Esta función toma dos argumentos, la posición del índice donde quieres insertar el elemento y el valor que quieres insertar.</p>
<p class="indent">Por ejemplo, aquí está nuestra lista actual de <span class="literal">sopa de fideos</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>,<br translate="no"/><span class="green">"vegetables"</span>]</p>
<p class="indent">Añadamos <span class="literal">"pimienta"</span> a la lista en la tercera posición del índice:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup.insert(3, <span class="green">"pepper"</span>)</p>
<p class="indent">La lista actualizada contiene los siguientes valores después de la inserción:</p>
<p class="programs" translate="no">[<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>, <span class="green">"vegetables"</span>]</p>
<p class="indent">Si intentas insertar un elemento en una posición de índice mayor que la longitud de la lista, el elemento se añadirá después del último elemento. Por ejemplo, si tu lista tiene siete elementos, pero intentas insertar en la posición 10, el elemento se añadirá al final de la lista.</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup.insert(10, <span class="green">"salt"</span>)</p>
<p class="indent">Después de ejecutar este código, el último elemento de la lista será <span class="literal">"</span>sal":</p>
<p class="programs" translate="no">[<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>,<br translate="no"/><span class="green">"vegetables"</span>, <span class="green">"salt"</span>]</p>
<p class="indent">Observa que la sal no está en la posición 10 del índice, sino en la posición 7.</p>
<h4 class="h4" id="ch09lev2sec06"><strong><span class="blue1">Borrar un elemento</span></strong></h4>
<p class="noindent">A veces querrás deshacerte de un elemento de una lista. Para ello, utiliza la palabra clave <span class="literal">del</span>. La palabra clave va delante del nombre de la lista, con la posición del índice del elemento que quieres borrar entre corchetes.</p>
<p class="indent">Por ejemplo, para eliminar el elemento <span class="literal">"ternera</span> ", que ahora está en la posición 5 del índice de la lista <span class="literal">sopa de fideos</span>, haz esto:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> <span class="orange">del</span> noodleSoup[5]</p>
<p class="indent"><span epub:type="pagebreak" id="page_177"></span>También puedes utilizar la palabra clave <span class="literal">del</span> en combinación con la función <span class="literal">index()</span> si quieres encontrar la posición de índice de un valor y luego borrarlo:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> beefPosition = noodleSoup.index(<span class="green">"beef"</span>)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">del</span> noodleSoup[beefPosition]</p>
<p class="indent">Después de eliminar un elemento, las posiciones del índice de una lista cambiarán. Este es el aspecto que tendrá la lista después de eliminar <span class="literal">"ternera"</span> en la posición 5 del índice:</p>
<p class="programs" translate="no">[<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>, <span class="green">"vegetables"</span>, <span class="green">"salt"</span>]</p>
<p class="indent">La posición del índice " <span class="literal">verduras</span> " cambia de 6 a 5, y la posición del índice <span class="literal">"sal</span> " cambia de 7 a 6. Ten en cuenta que sólo se verán afectados los índices posteriores al elemento eliminado; los índices anteriores al elemento eliminado no cambiarán. Tenlo en cuenta cuando borres elementos de tus listas.</p>
<h4 class="h4a" id="ch09lev2sec07"><strong>Misión nº 48: Barra de progreso</strong></h4>
<p class="noindent">Vamos a utilizar algunas de las funciones de lista para crear una barra de progreso en Minecraft. Se parecerá a la que ves en pantalla cuando estás descargando un archivo de Internet o cuando llevas la cuenta de tu siguiente subida de nivel en un juego de rol.</p>
<p class="indent">El programa utilizará la barra de progreso para contar hasta 10 segundos. Cuando se inicie el programa, la barra de progreso estará formada por bloques de cristal. Por cada segundo que pase, la barra de progreso sustituirá un bloque de cristal por un bloque de lapislázuli. La <a href="ch09.xhtml#ch9fig2">Figura 9-2</a> muestra los cinco primeros pasos de la barra de progreso.</p>
<div class="image"><img alt="image" src="../images/f09-02.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig2"></a><em>Figura 9-2: La barra de progreso muestra el progreso al 50% (5 de cada 10 bloques son de lapislázuli).</em></p>
<p class="indent">Abre IDLE y crea un nuevo archivo. Guárdalo como <em>progressBar.py</em> en la carpeta <em>de listas</em>. En <a href="ch09.xhtml#ch9ex2">el Listado 9-2</a> encontrarás una versión incompleta del programa. Cópiala en tu editor de texto.</p>
<p class="sidenote" translate="no"><span epub:type="pagebreak" id="page_178"></span><span class="blue"><em>progressBar.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">import</span> time<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x = pos.x + 1<br translate="no"/>   y = pos.y<br translate="no"/>   z = pos.z<br translate="no"/><br translate="no"/> <span class="red"># Add 10 glass blocks (ID 20) to this empty list</span><br translate="no"/><span class="ent">➊</span> blocks = [ ]<br translate="no"/>   barBlock = 22 <span class="red"># Lapis lazuli</span><br translate="no"/><br translate="no"/>   count = 0<br translate="no"/> <span class="orange">while</span> count &lt;= <span class="rose">len</span>(blocks):<br translate="no"/><br translate="no"/>       mc.setBlock(x, y, z, blocks[0])<br translate="no"/>       mc.setBlock(x, y + 1, z, blocks[1])<br translate="no"/>       mc.setBlock(x, y + 2, z, blocks[2])<br translate="no"/><span class="ent">➋</span> <span class="red"># Add setBlock() for the remaining blocks in the list</span><br translate="no"/><br translate="no"/>       count += 1<br translate="no"/><br translate="no"/><span class="ent">➌</span> <span class="red"># Delete the last block in the list</span><br translate="no"/><br translate="no"/><span class="ent">➍</span> <span class="red"># Insert a lapis lazuli block at the first position in the list</span><br translate="no"/><br translate="no"/>       time.sleep(2)</p>
<p class="examplet"><a id="ch9ex2"></a><em>Listado 9-2: Código incompleto para hacer una barra de progreso</em></p>
<p class="indent">Para completar el programa del Listado <a href="ch09.xhtml#ch9ex2">9-2</a>, tendrás que hacer lo siguiente:</p>
<ol>
<li class="noindent"><p class="list">Añadir 10 bloques de vidrio (ID 20) a la lista de <span class="literal">bloques</span> vacíos en <span class="ent">➊.</span></p></li>
<li class="noindent"><p class="list">Utiliza la función <span class="literal">setBlock()</span> para colocar los 10 bloques <span class="ent">➋</span> de la lista en el mundo del juego. Los tres primeros bloques ya están definidos.</p></li>
<li class="noindent"><p class="list">Escribe una sentencia que elimine el último bloque de la lista (posición índice 9) <span class="ent">➌.</span> Recuerda que para borrar un elemento de una lista se utiliza la palabra clave <span class="literal">del</span>.</p></li>
<li class="noindent"><p class="list">Inserta un nuevo bloque lapislázuli al principio de la lista <span class="ent">➍.</span> Utiliza la función <span class="literal">insert()</span> con la variable <span class="literal">barBlock</span> para insertar un nuevo bloque lapislázuli en la posición 0 del índice.</p></li>
</ol>
<p class="indent">Se incluyen comentarios en el código para ayudarte a encontrar dónde tienes que realizar estas tareas.</p>
<div class="sidebar">
<p class="sidebart" id="ch09sb02"><span epub:type="pagebreak" id="page_179"></span><strong>OBJETIVO EXTRA: ARRIBA Y ABAJO DE NUEVO</strong></p>
<p class="noindent">Actualmente, la barra de progreso de <em>progressBar.</em> py sólo cuenta hacia arriba y se detiene cuando está llena. ¿Puedes averiguar cómo hacer que la barra de progreso cuente hacia abajo en sentido contrario?</p>
</div>
<h3 class="h3" id="ch09lev1sec03"><strong><span class="blue1">Tratar las cadenas como listas</span></strong></h3>
<p class="noindent">Las cadenas pueden tratarse como listas, porque una cadena también es una <em>secuencia</em> de datos. Puedes acceder a caracteres individuales de una cadena utilizando su índice; sin embargo, no puedes cambiar los caracteres de cada posición del índice utilizando las funciones <span class="literal">añadir</span> o <span class="literal">insertar</span>, porque las cadenas son <em>inmutables</em>. Esto significa que no se pueden modificar.</p>
<p class="indent">El siguiente código imprimirá la segunda letra de la cadena <span class="literal">"Uva"</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> flavor = <span class="green">"Grape"</span><br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(flavor[1])<br translate="no"/><span class="blue1">r</span></p>
<p class="indent">Esto demuestra que puedes acceder a partes de una cadena como si fueran elementos de una lista. Por ejemplo, podrías acceder a las primeras letras del nombre y apellidos de alguien para imprimir sus iniciales:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> firstName = <span class="green">"Lyra"</span><br translate="no"/><span class="mer">&gt;&gt;&gt;</span> lastName = <span class="green">"Jones"</span><br translate="no"/><span class="mer">&gt;&gt;&gt;</span> initials = firstName[0] + <span class="green">" "</span> + lastName[0]<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(initials)<br translate="no"/><span class="blue1">L J</span></p>
<p class="indent">La nueva cadena <span class="literal">"L J</span> " que obtienes accediendo a partes de una cadena mediante posiciones de índice se denomina <em>subcadena</em>. Ten en cuenta que el índice de una cadena también cuenta desde cero.</p>
<h3 class="h3" id="ch09lev1sec04"><strong><span class="blue1">Tuplas</span></strong></h3>
<p class="noindent"><em>Las tuplas</em> son un tipo de lista inmutable. Pero, al igual que otras listas, son una secuencia de elementos de cualquier tipo variable. Las tuplas utilizan paréntesis en lugar de corchetes, y usan comas para separar los elementos.</p>
<p class="indent">Por ejemplo, supongamos que el único atleta olímpico de una nación, procedente de un programa de entrenamiento con escasa financiación, registra una serie de distancias para sus saltos de longitud en metros:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> distance = (5.17, 5.20, 4.56, 53.64, 9.58, 6.41, 2.20)</p>
<p class="indent"><span epub:type="pagebreak" id="page_180"></span>Si el atleta saltara sólo una vez, también podrías crear una tupla con un único valor. Para escribir una tupla con un único valor, debes incluir una coma:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> distance = (5.17,)</p>
<p class="indent">Cuando defines una tupla, los paréntesis son opcionales, así que puedes definir una tupla simplemente colocando comas entre los valores, de esta forma:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> distance = 5.17, 5.20, 4.56, 53.64, 9.58, 6.41, 2.20</p>
<p class="indent">Para acceder a los valores de las tuplas, utiliza la notación de corchetes que utilizas con las listas normales. Asignemos el valor del índice 1 de la tupla <span class="literal">distancia</span> a la variable <span class="literal">salto</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> jump = distance[1]<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(jump)<br translate="no"/><span class="blue1">5.20</span></p>
<p class="indent">La principal diferencia entre las listas y las tuplas es que las tuplas son inmutables: no puedes cambiar su contenido. No puedes añadir elementos al final de la tupla, insertar elementos, borrar elementos ni actualizar ningún valor. Utiliza tuplas en lugar de listas cuando tu programa no necesite cambiar los valores de los elementos de la tupla.</p>
<h4 class="h4" id="ch09lev2sec08"><strong><span class="blue1">Establecer variables con tuplas</span></strong></h4>
<p class="noindent">Una característica útil de las tuplas es que puedes utilizarlas para establecer más de una variable al mismo tiempo. Esto ahorra espacio y puede mantener agrupadas las variables relacionadas.</p>
<p class="indent">Normalmente, te referirías a una tupla como lo harías a una lista, utilizando un único nombre de variable:</p>
<p class="programs" translate="no">measurements = 6, 30</p>
<p class="indent">Sin embargo, supongamos que queremos almacenar los valores en dos variables en lugar de en una. La sintaxis para hacerlo no es compleja. Separas los nombres de las variables con comas, utilizas un signo igual y escribes las tuplas al otro lado del signo igual. Cada valor de tupla se asignará a la variable en la posición correspondiente. Echemos un vistazo.</p>
<p class="indent">En este ejemplo, dos variables, <span class="literal">anchura</span> y <span class="literal">altura</span>, se establecen en los valores <span class="literal">6</span> y <span class="literal">30</span>, respectivamente:</p>
<p class="programs" translate="no">width, height = 6, 30</p>
<p class="indent">Ahora tenemos dos variables. Una se llama <span class="literal">anchura</span> y tiene el valor <span class="literal">6</span>, y la otra se llama <span class="literal">altura</span> y tiene el valor <span class="literal">30</span>. ¡Y lo hemos hecho utilizando una sola línea de código!</p>
<h4 class="h4a" id="ch09lev2sec09"><span epub:type="pagebreak" id="page_181"></span><strong>Misión nº 49: Deslizamiento</strong></h4>
<p class="noindent">Establecer variables con tuplas es una forma rápida y sencilla de ahorrar espacio en tus programas. También es útil para establecer variables relacionadas entre sí en un mismo lugar de tu programa. Por ejemplo, a lo largo del libro has utilizado código como éste para establecer los valores de las variables <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span>:</p>
<p class="programs" translate="no">x = 10<br translate="no"/>y = 11<br translate="no"/>z = 12</p>
<p class="indent">En cambio, puedes utilizar una tupla para establecer todos estos valores en una sola línea:</p>
<p class="programs" translate="no">x, y, z = 10, 11, 12</p>
<p class="indent">A continuación, pondrás en práctica tus nuevas habilidades para escribir código. Tu misión es crear un programa que mueva al jugador aleatoriamente por el mundo del juego en pequeños pasos, haciendo que parezca que patinas sobre hielo. He empezado el programa por ti en el Listado <a href="ch09.xhtml#ch9ex3">9-3</a>; faltan algunas partes y tienes que completarlas.</p>
<p class="sidenote" translate="no"><span class="blue"><em>sliding.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">import</span> random<br translate="no"/> <span class="orange">import</span> time<br translate="no"/><br translate="no"/><span class="ent">➊</span> <span class="red"># Get the player's position</span><br translate="no"/><br translate="no"/><span class="ent">➋</span> <span class="red"># Set the x, y, and z variables on the same line using a tuple</span><br translate="no"/><br translate="no"/> <span class="orange">while True</span>:<br translate="no"/><span class="ent">➌</span>     x += random.uniform(-0.2, 0.2)<br translate="no"/> <span class="red"># Change the z variable by a random float</span><br translate="no"/><span class="ent">➍</span>     z +=<br translate="no"/>       y = mc.getHeight(x, z)<br translate="no"/><br translate="no"/>       mc.player.setPos(x, y, z)<br translate="no"/>       time.sleep(0.1)</p>
<p class="examplet"><a id="ch9ex3"></a><em>Listado 9-3: Inicio del código para hacer que el jugador se deslice por el mapa</em></p>
<p class="indent">Copia <a href="ch09.xhtml#ch9ex3">el Listado 9-3</a> en un nuevo archivo y guárdalo como <em>deslizamiento.py</em> en tu carpeta <em>de listas</em>. Para terminar el programa, necesitas obtener la posición inicial del jugador <span class="ent">➊</span> y establecer los valores de las variables <span class="literal">x</span>, <span class="literal">y</span>, <span class="literal">z</span> <span class="ent">➋.</span> Utiliza una tupla para fijar estos valores. Este programa también utiliza la función <span class="literal">uniforme</span> () <span class="ent">➌,</span> que es como la función <span class="literal">randint()</span> (ver "<a href="ch03.xhtml#ch03lev2sec12">Jugar con números aleatorios</a>" en <a href="ch03.xhtml#page_66">la página 66</a>) pero devuelve un valor flotante aleatorio en lugar de un valor entero. Utiliza la función <span class="literal">uniform()</span> para cambiar el valor de la variable <span class="literal">z</span> en el bucle <span class="ent">➍.</span> Esto ya se ha hecho para la variable <span class="literal">x</span> <span class="ent">➌.</span></p>
<p class="indent"><span epub:type="pagebreak" id="page_182"></span><a href="ch09.xhtml#ch9fig3">La Figura 9-3</a> muestra a mi jugador deslizándose lentamente por mi juego.</p>
<div class="image"><img alt="image" src="../images/f09-03.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig3"></a><em>Figura 9-3: Deslizándose lentamente hacia atrás por mi jardín</em></p>
<div class="sidebar">
<p class="sidebart" id="ch09sb03"><strong>OBJETIVO EXTRA: DESLIZAR BLOQUES</strong></p>
<p class="noindent">El programa <em>deslizar.</em> py hace que el jugador se deslice aleatoriamente por el juego. ¿Puedes averiguar cómo cambiar el programa para que haga deslizar un bloque?</p>
</div>
<h4 class="h4" id="ch09lev2sec10"><span epub:type="pagebreak" id="page_183"></span><strong><span class="blue1">Devolver una tupla</span></strong></h4>
<p class="noindent">Algunas de las funciones incorporadas en Python devuelven una tupla. Cuando defines tus propias funciones, también pueden devolver el resultado como una tupla. Para ello, coloca una tupla después de la palabra clave <span class="literal">return</span>. Por ejemplo, creemos una función para convertir una fecha en una tupla. Damos la fecha como argumento de cadena, y la función devolverá el año, el mes y el día en una tupla. Éste es el código:</p>
<p class="programs" translate="no"><span class="orange">def</span> <span class="blue1">getDateTuple</span>(dateString):<br translate="no"/>    year = <span class="rose">int</span>(dateString[0:4])<br translate="no"/>    month = <span class="rose">int</span>(dateString[5:7])<br translate="no"/>    day = <span class="rose">int</span>(dateString[8:10])<br translate="no"/> <span class="orange">return</span> year, month, day</p>
<p class="indent">Cuando llamamos a la función y le damos una fecha como cadena, nos devuelve una tupla que contiene el año, el mes y el día en ese orden:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> getDateTuple(<span class="green">"1997-09-27"</span>)<br translate="no"/><span class="blue1">(1997, 9, 27)</span></p>
<p class="indent">Cuando llamamos a la función, podemos almacenar la tupla devuelta como queramos. Este código almacena cada valor en una variable independiente:</p>
<p class="programs" translate="no">year, month, day = getDateTuple(<span class="green">"1997-09-27"</span>)</p>
<p class="indent">Ahora podemos convertir rápidamente cadenas de fechas en variables individuales. En mi trabajo como desarrollador de software, utilizo código muy similar a éste todo el tiempo.</p>
<h3 class="h3" id="ch09lev1sec05"><strong><span class="blue1">Otras funciones útiles de las listas</span></strong></h3>
<p class="noindent">Puedes hacer muchas otras tareas con listas. En esta sección se explica cómo averiguar la longitud de una lista, cómo elegir aleatoriamente un elemento de una lista y cómo utilizar una sentencia <span class="literal">if</span> para comprobar si un valor está en una lista.</p>
<h4 class="h4" id="ch09lev2sec11"><strong><span class="blue1">Longitud de una lista</span></strong></h4>
<p class="noindent">La función <span class="literal">len(</span> ) es una forma rápida de averiguar la longitud de cualquier lista en Python. La función devuelve el número de elementos de una lista cuando se utiliza una lista como argumento. Veámosla en acción:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>,<br translate="no"/><span class="green">"vegetables"</span>]<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="rose">len</span>(noodleSoup))<br translate="no"/><span class="blue1">6</span></p>
<p class="indent">Aunque Python empieza a contar los índices en cero, cuenta cuántos elementos hay en una lista en números de conteo regulares. El índice más alto de esta lista es 5, ¡pero Python sabe que hay 6 elementos en total!</p>
<h4 class="h4a" id="ch09lev2sec12"><span epub:type="pagebreak" id="page_184"></span><strong>Misión nº 50: Golpes de bloque</strong></h4>
<p class="noindent">La API Python de Minecraft tiene una práctica función que devuelve una lista de lugares que has golpeado con tu espada. Puedes utilizar los elementos de la lista para obtener las coordenadas de los bloques que has golpeado. Verás lo útil que es esto en programas más adelante en este capítulo y más adelante en el libro.</p>
<p class="indent">También puedes hacer un juego corto y divertido que cuente el número de bloques que puedes golpear en un minuto. En esta misión, harás precisamente eso. Es un juego muy divertido: ¡juega contra un amigo e intentad superar las puntuaciones de los demás! También puedes ampliarlo, por ejemplo, manteniendo una puntuación alta.</p>
<p class="indent"><a href="ch09.xhtml#ch9fig4">La Figura 9-4</a> muestra el programa en acción.</p>
<div class="image"><img alt="image" src="../images/f09-04.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig4"></a><em>Figura 9-4: En 60 segundos he conseguido 197 bloques.</em></p>
<p class="indent">No se necesita mucho código para hacer este juego. He aquí un resumen de la estructura del código:</p>
<ol>
<li class="noindent"><p class="list">Conéctate al juego Minecraft.</p></li>
<li class="noindent"><p class="list">Espera 60 segundos.</p></li>
<li class="noindent"><p class="list">Obtener la lista de bloques golpeados.</p></li>
<li class="noindent"><p class="list">Mostrar la longitud de la lista de éxitos de bloque al chat.</p></li>
</ol>
<p class="indent">El siguiente código muestra la única parte que no has visto hasta ahora, que es el código que obtiene la lista de éxitos de bloque del juego:</p>
<p class="programs" translate="no">blockHits = mc.events.pollBlockHits()</p>
<p class="indent">Este código utiliza la función <span class="literal">pollBlockHits()</span> para devolver una lista de golpes de bloque y almacena esa lista en una variable llamada <span class="literal">blockHits</span>. La variable <span class="literal">blockHits</span> actuará como cualquier otro tipo de lista, por lo que puedes acceder a los datos desde las posiciones de índice y obtener la longitud de la lista.</p>
<p class="indent">Cuando juegues a este juego, tendrás que hacer clic con el botón derecho en los bloques para llevar la cuenta de ellos. La razón es que la función <span class="literal">pollBlockHits(</span> ) registra todos los bloques que <em>pulsas</em> con el botón derecho del ratón. En la versión para PC de Minecraft, <span epub:type="pagebreak" id="page_185"></span>al hacer clic con el botón derecho con la espada parece más que te estés defendiendo que que estés golpeando algo, pero sigue registrando los bloques en los que has hecho clic. <a href="ch09.xhtml#ch9fig5">La Figura 9-5</a> muestra este aspecto. Asegúrate de que sólo haces clic derecho con la espada: los clics izquierdos con la espada no se registrarán, ¡y tampoco los clics derechos con cualquier otra cosa que tengas en la mano! Pero puedes utilizar cualquier tipo de espada, incluidas las de hierro, oro y diamante.</p>
<div class="image"><img alt="image" src="../images/f09-05.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig5"></a><em>Figura 9-5: Cuando hago clic con el botón derecho, el jugador sujeta la espada así.</em></p>
<p class="indent">Cuando imprimas la salida de la lista, debe tener un aspecto similar a éste, aunque los valores cambiarán cada vez dependiendo de dónde golpees:</p>
<p class="programs" translate="no">[BlockEvent(BlockEvent.HIT, 76, -2, 144, 1, 452),<br translate="no"/>BlockEvent(BlockEvent.HIT, 79, -2, 145, 1, 452),<br translate="no"/>BlockEvent(BlockEvent.HIT, 80, -3, 147, 1, 452),<br translate="no"/>BlockEvent(BlockEvent.HIT, 76, -3, 149, 1, 452)]</p>
<p class="indent">Esta salida de lista almacena los detalles de cuatro golpes en bloque. Cada elemento contiene las coordenadas del golpe. Aprenderás a acceder a estas coordenadas en la Misión nº 55<a href="ch10.xhtml#page_200">(página 200</a>).</p>
<p class="indent"><span epub:type="pagebreak" id="page_186"></span>Para ayudarte a empezar con el programa, he escrito la estructura básica en el Listado <a href="ch09.xhtml#ch9ex4">9-4</a>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>swordHits.py</em></span></p>
<p class="programs" translate="no"> <span class="red"># Connect to the Minecraft game</span><br translate="no"/> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">import</span> time<br translate="no"/><br translate="no"/> <span class="red"># Wait 60 seconds</span><br translate="no"/>   time.sleep(60)<br translate="no"/><br translate="no"/> <span class="red"># Get the list of block hits</span><br translate="no"/><span class="ent">➊</span> blockHits =<br translate="no"/><br translate="no"/> <span class="red"># Display the length of the block hits list to chat</span><br translate="no"/><span class="ent">➋</span> blockHitsLength =<br translate="no"/>   mc.postToChat(<span class="green">"Your score is "</span> + <span class="rose">str</span>(blockHitsLength))</p>
<p class="examplet"><a id="ch9ex4"></a><em>Listado 9-4: Inicio del juego de golpes de espada</em></p>
<p class="indent">Para completar este programa, abre IDLE, crea un nuevo archivo y copia <a href="ch09.xhtml#ch9ex4">el Listado 9-4</a> en él. Guarda este archivo como <em>swordHits.py</em> en la carpeta de <em>listas</em>. Establece la variable <span class="literal">blockHits</span> utilizando la función <span class="literal">pollBlockHits()</span> <span class="ent">➊</span> y establece la variable <span class="literal">blockHitsLength</span> obteniendo la longitud de la variable <span class="literal">blockHits</span> <span class="ent">➋.</span></p>
<h4 class="h4" id="ch09lev2sec13"><strong><span class="blue1">Elegir un elemento al azar</span></strong></h4>
<p class="noindent">A estas alturas ya te habrás dado cuenta de que me gusta mucho utilizar elementos generados aleatoriamente en mis programas. La aleatoriedad hace que un programa se comporte de forma impredecible cada vez que lo ejecutas.</p>
<p class="indent">Cuando utilices listas, querrás acceder a elementos aleatorios de la lista de vez en cuando. Por ejemplo, puede que quieras elegir un bloque al azar de una lista de bloques.</p>
<p class="indent">La función <span class="literal">choice()</span> del módulo <span class="literal">random</span> es la función a la que se puede recurrir para elegir un elemento de la lista al azar. La función toma un argumento, la lista que quieres utilizar, y devuelve un elemento aleatorio de dentro de la lista.</p>
<p class="indent">En <a href="ch09.xhtml#ch9ex5">el Listado 9-5</a>, la lista <span class="literal">colores</span> contiene los nombres de varios colores. Elige uno al azar utilizando la función <span class="literal">elección()</span> y luego imprímelo:</p>
<p class="programs" translate="no"><span class="orange">import</span> random<br translate="no"/>colors = [<span class="green">"red"</span>, <span class="green">"green"</span>, <span class="green">"blue"</span>, <span class="green">"yellow"</span>, <span class="green">"orange"</span>, <span class="green">"purple"</span>]<br translate="no"/><span class="rose">print</span>(random.choice(colors))</p>
<p class="examplet"><a id="ch9ex5"></a><em>Listado 9-5: Impresión de un color aleatorio de una lista de colores</em></p>
<p class="indent">Cuando ejecutes el código, el programa imprimirá un elemento de la lista al azar.</p>
<h4 class="h4a" id="ch09lev2sec14"><span epub:type="pagebreak" id="page_187"></span><strong>Misión nº 51: Bloque aleatorio</strong></h4>
<p class="noindent">En Minecraft, seleccionar un ID de bloque aleatorio a partir de un rango de números puede causar problemas en el programa porque algunos ID de bloque no tienen bloques correspondientes. Una solución es utilizar una lista de bloques válidos para seleccionarlos al azar. Las listas te permiten crear un número limitado de elementos y luego seleccionar uno al azar utilizando la función <span class="literal">choice()</span>.</p>
<p class="indent">Tu misión es crear una lista de IDs de bloques, seleccionar un bloque al azar de esa lista y, a continuación, colocar el bloque en la posición del jugador. Puedes utilizar <a href="ch09.xhtml#ch9ex5">el Listado 9-5</a> como punto de partida.</p>
<p class="indent">Primero, crea una lista de IDs de bloques. Segundo, utiliza la función <span class="literal">random.choice</span> () para seleccionar un bloque de la lista. Tercero, utiliza la función <span class="literal">setBlock</span> () para colocar el bloque aleatorio en el juego Minecraft.</p>
<p class="indent">Guarda el programa como <em>randomBlock.py</em> en la carpeta de <em>listas</em>.</p>
<p class="indent">Incluye tantos bloques como quieras en tu lista. Para mi lista elegí cinco bloques, incluyendo melón, diamante y oro. Puedes ver el resultado de ejecutar el programa en la <a href="ch09.xhtml#ch9fig6">Figura 9-6</a>.</p>
<div class="image"><img alt="image" src="../images/f09-06.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig6"></a><em>Figura 9-6: El programa seleccionó al azar un bloque de oro.</em></p>
<h4 class="h4" id="ch09lev2sec15"><strong><span class="blue1">Copiar una lista</span></strong></h4>
<p class="noindent">Copiar listas es bastante complicado en la mayoría de los lenguajes de programación. En realidad, las variables de lista no contienen valores, sino una referencia a una dirección de la memoria de tu ordenador que tiene más referencias a los valores contenidos en la lista. Aunque tu ordenador se encarga de esta función entre bastidores, merece la pena que entiendas cómo funciona, ¡porque te convertirá en un programador más inteligente! Puedes ver la dirección de memoria de una lista utilizando la función <span class="literal">id()</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>,<br translate="no"/> <span class="green">"Butter"</span>,<br translate="no"/> <span class="green">"Sugar"</span>,<br translate="no"/> <span class="green">"Milk"</span>,<br translate="no"/> <span class="green">"Flour"</span>]<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="rose">id</span>(cake))</p>
<p class="indent"><span epub:type="pagebreak" id="page_188"></span>Por ejemplo, la salida de este código en mi ordenador fue <span class="literal">3067456428.</span> El valor <span class="literal">3067456428</span> es la posición de memoria donde se almacena <span class="literal">pastel</span>. Cuando ejecutes este código en tu ordenador, probablemente obtendrás un número diferente porque está almacenado en un lugar distinto de la memoria de tu ordenador.</p>
<p class="indent">No es necesario que entiendas completamente este comportamiento, pero sí que sepas que tiene consecuencias cuando quieres copiar una lista en otra variable. En lugar de copiarse los valores de la lista, como cabría esperar, se copia la posición de la lista en la memoria de la nueva variable. Esto significa que cuando cambies un valor de cualquiera de las dos listas, afectará a la otra.</p>
<p class="indent">Por ejemplo, el siguiente programa crea una lista llamada <span class="literal">tarta</span> y luego establece el valor de <span class="literal">tartaChocolate</span> para que sea el mismo que <span class="literal">tarta</span>. A continuación, se añade un elemento, <span class="literal">"Chocolate"</span>, a la lista <span class="literal">tartaChocolate</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>,<br translate="no"/> <span class="green">"Butter"</span>,<br translate="no"/> <span class="green">"Sugar"</span>,<br translate="no"/> <span class="green">"Milk"</span>,<br translate="no"/> <span class="green">"Flour"</span>]<br translate="no"/><br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="red"># Store the list in a second variable</span><br translate="no"/><span class="mer">&gt;&gt;&gt;</span> chocolateCake = cake<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> chocolateCake.append(<span class="green">"Chocolate"</span>)</p>
<p class="indent">Por desgracia, "Chocolate <span class="literal">"</span> también se añade a la lista <span class="literal">tarta</span>, aunque no querías que lo hiciera. Puedes ver este error cuando se imprimen las listas:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(cake)<br translate="no"/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour', 'Chocolate']</span><br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(chocolateCake)<br translate="no"/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour', 'Chocolate']</span></p>
<p class="indent">Este problema se produce porque las variables almacenan la posición de memoria de la lista, no los elementos de la lista.</p>
<p class="indent">Una forma sencilla de superar este problema es utilizar una <em>rebanada</em> de lista. Cuando rebanas un alimento con un cuchillo, lo estás cortando en diferentes partes. Un corte de lista en Python es similar. Cuando cortas una lista, tomas un trozo de la lista. Puedes utilizar una rebanada de lista para tomar sólo determinados elementos de una lista, pero en este caso, utilizarás una rebanada de lista para copiar todos los elementos de una lista. Para copiar la lista <span class="literal">Tarta</span> en la variable <span class="literal">TartaDeChocolate</span>, utiliza este código:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> chocolateCake = cake[:]</p>
<p class="indent">La variable <span class="literal">tartaChocolate</span> contendrá ahora los valores de la lista de <span class="literal">tartas</span>, pero con una dirección de memoria diferente.</p>
<p class="indent"><span epub:type="pagebreak" id="page_189"></span>El código de los ingredientes de la tarta se puede corregir utilizando la rebanada de lista:</p>
<p class="programs" translate="no"> <span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>,<br translate="no"/> <span class="green">"Butter"</span>,<br translate="no"/> <span class="green">"Sugar"</span>,<br translate="no"/> <span class="green">"Milk"</span>,<br translate="no"/> <span class="green">"Flour"</span>]<br translate="no"/><br translate="no"/> <span class="mer">&gt;&gt;&gt;</span> <span class="red"># Store the list in a second variable</span><br translate="no"/><span class="ent">➊</span> <span class="mer">&gt;&gt;&gt;</span> chocolateCake = cake[:]<br translate="no"/> <span class="mer">&gt;&gt;&gt;</span> chocolateCake.append(<span class="green">"Chocolate"</span>)</p>
<p class="indent">Puedes ver que los elementos de <span class="literal">tarta</span> se han copiado a <span class="literal">tartaChocolate</span> utilizando <span class="literal">[:]</span> en <span class="ent">➊.</span></p>
<p class="indent">Este es el resultado:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(cake)<br translate="no"/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour']</span><br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(chocolateCake)<br translate="no"/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour', 'Chocolate']</span></p>
<p class="indent">Observa que los valores de ambas listas son ahora diferentes: sólo <span class="literal">tartaChocolate</span> contiene el valor <span class="literal">"Chocolate"</span>.</p>
<h4 class="h4" id="ch09lev2sec16"><strong><span class="blue1">Elementos y sentencias if</span></strong></h4>
<p class="noindent">Para saber si un valor está en una lista, puedes utilizar el operador <span class="literal">in</span>. El operador <span class="literal">in</span> va entre un valor y la lista que quieres comprobar. Si el valor está en la lista, la expresión se evaluará como <span class="literal">Verdadero</span>; si el valor no está en la lista, la expresión se evaluará como <span class="literal">Falso</span>.</p>
<p class="indent">El siguiente ejemplo comprueba si el valor <span class="literal">"Huevos"</span> está en la lista de <span class="literal">pasteles</span>:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>, <span class="green">"Butter"</span>, <span class="green">"Sugar"</span>, <span class="green">"Milk"</span>, <span class="green">"Flour"</span>]<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"Eggs"</span> <span class="orange">in</span> cake)</p>
<p class="indent">Se imprimirá el valor <span class="literal">Verdadero</span>, porque "Huevos <span class="literal">"</span> está en la lista.</p>
<p class="indent">Por supuesto, puedes utilizar el operador <span class="literal">in</span> como parte de una condición de la sentencia <span class="literal">if</span>. El código siguiente amplía y adapta este ejemplo para utilizar una sentencia <span class="literal">if</span> en lugar de imprimir el valor booleano. Comprueba si <span class="literal">"Jamón"</span> está en la lista de <span class="literal">pasteles</span> e imprime diferentes mensajes dependiendo de si está o no en la lista:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>, <span class="green">"Butter"</span>, <span class="green">"Sugar"</span>, <span class="green">"Milk"</span>, <span class="green">"Flour"</span>]<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">if</span> <span class="green">"Ham"</span> <span class="orange">in</span> cake:<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"That cake sounds disgusting."</span>)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">else</span>:<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"Good. Ham in a cake is a terrible mistake."</span>)</p>
<p class="indent"><span epub:type="pagebreak" id="page_190"></span>Puedes combinar el operador <span class="literal">not</span> con el operador <span class="literal">in</span> para producir el efecto contrario. En lugar de devolver <span class="literal">Verdadero</span> cuando un elemento está en una lista, el código devolverá <span class="literal">Falso</span> y viceversa. Así es como queda (observa que también se han intercambiado los cuerpos de las sentencias <span class="literal">if</span> y <span class="literal">else</span> ):</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>, <span class="green">"Butter"</span>, <span class="green">"Sugar"</span>, <span class="green">"Milk"</span>, <span class="green">"Flour"</span>]<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">if</span> <span class="green">"Ham"</span> <span class="orange">not in</span> cake:<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"Good. Ham in a cake is a terrible mistake."</span>)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">else</span>:<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"That cake sounds disgusting"</span>)</p>
<p class="indent">Puedes utilizar cualquiera de las dos técnicas en tus programas. Sólo tienes que elegir la que creas que tiene más sentido.</p>
<h4 class="h4a" id="ch09lev2sec17"><strong>Misión nº 52: Espada de visión nocturna</strong></h4>
<p class="noindent">¿Te olvidas de llevar suficientes antorchas cuando exploras cuevas en Minecraft? Yo lo hago siempre. A veces me olvido de llevar antorchas, y estoy demasiado dentro de la cueva para volver atrás. Así que voy tanteando en la oscuridad, sin estar muy seguro de si encuentro algo útil. Pero con tus conocimientos de Python, puedes hacer un programa que te ayude a encontrar diamantes con tu espada.</p>
<p class="indent">Escribamos un programa básico que utilice la función <span class="literal">pollBlockHits()</span> para comprobar si alguno de los bloques que has golpeado es mineral de diamante. Esto es útil para explorar cuevas sin luz o para jugar a "encontrar el mineral de diamante" en la oscuridad. El código está en <a href="ch09.xhtml#ch9ex6">el Listado 9-6</a>. Cópialo en un archivo nuevo y guárdalo como <em>nightVisionSword.py</em> en la carpeta de <em>listas</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>nightVisionSword.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">import</span> time<br translate="no"/><br translate="no"/>   blocks = []<br translate="no"/><br translate="no"/> <span class="orange">while True</span>:<br translate="no"/>       hits = mc.events.pollBlockHits()<br translate="no"/> <span class="orange">if</span> <span class="rose">len</span>(hits) &gt; 0:<br translate="no"/>           hit = hits[0]<br translate="no"/><span class="ent">➊</span>         hitX, hitY, hitZ = hit.pos.x, hit.pos.y, hit.pos.z<br translate="no"/>           block = mc.getBlock(hitX, hitY, hitZ)<br translate="no"/>           blocks.append(block)<br translate="no"/><br translate="no"/><span class="ent">➋</span> <span class="red"># Add the if statement here</span><br translate="no"/><br translate="no"/>       time.sleep(0.2)</p>
<p class="examplet"><a id="ch9ex6"></a><em>Listado 9-6: Este programa te ayudará a encontrar mineral de diamante en la oscuridad.</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_191"></span>Observa cómo se utilizan hit <span class="literal">.pos.x</span>, <span class="literal">hit.pos.y</span> y <span class="literal">hit.pos.z</span> <span class="ent">➊.</span> Cada golpe almacena las coordenadas del bloque sobre el que se hizo clic mediante una tupla. Puedes acceder a estas coordenadas utilizando la notación de puntos. En este ejemplo, el nombre de la variable <span class="literal">hit</span> se utiliza para nombrar la lista que contiene cada bloque hit, por lo que accedo a las coordenadas utilizando <span class="literal">hit.pos.x</span>, <span class="literal">hit.pos.y</span> y <span class="literal">hit.pos.</span>z.</p>
<p class="indent">El código está casi completo. Sólo queda comprobar si has encontrado algún diamante. Añade una sentencia <span class="literal">if</span> <span class="ent">➋</span> para comprobar si el <span class="literal"> mineral de diam</span> ante (bloque ID 56) está en la lista de <span class="literal">bloques</span> y envía un mensaje al chat diciendo <span class="literal">"¡Has encontrado mineral de diamante!"</span> si es así. Añade también una sentencia <span class="literal">break</span> dentro de la sentencia <span class="literal">if</span> para que el bucle deje de repetirse cuando encuentres el mineral.</p>
<p class="indent"><a href="ch09.xhtml#ch9fig7">La Figura 9-7</a> muestra el programa en acción.</p>
<div class="image"><img alt="image" src="../images/f09-07.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig7"></a><em>Figura 9-7: Está oscuro, pero he encontrado mineral de diamante. ¡Qué bien!</em></p>
<p class="indent">Si no eres tan olvidadizo como yo y te acuerdas de llevar antorchas a las cuevas, también puedes utilizar este código como juego. Crea una habitación subterránea sin luz y coloca un único mineral de diamante en algún lugar de la pared. Ejecuta el programa y comprueba cuánto tardas en encontrar el mineral de diamante en la oscuridad. ¡Recuerda hacer clic con el botón derecho del ratón con una espada! Sólo así la función <span class="literal">pollBlockHits(</span> ) podrá registrar los bloques que golpeas.</p>
<div class="sidebar">
<p class="sidebart" id="ch09sb04"><strong>OBJETIVO EXTRA: DESAFÍO DEL DIAMANTE</strong></p>
<p class="noindent">Sería genial convertir el programa <em>nightVisionSword.</em> py en un minijuego completo. ¿Puedes generar automáticamente una habitación con un único bloque de diamante colocado al azar, poner al jugador en esa habitación y luego cronometrar cuánto tarda en encontrar el bloque en la oscuridad?</p>
</div>
<h3 class="h3" id="ch09lev1sec06"><span epub:type="pagebreak" id="page_192"></span><strong><span class="blue1">Diccionarios</span></strong></h3>
<p class="noindent">Los diccionarios son un tipo de lista que utiliza un enfoque diferente. En lugar de utilizar un índice para identificar los elementos, los diccionarios identifican los elementos utilizando un conjunto de claves definidas por el programador.</p>
<p class="indent">Por ejemplo, este diccionario <span class="literal">raceTimes</span> almacena los nombres de las personas que corrieron en una carrera y sus tiempos de carrera:</p>
<p class="programs" translate="no">raceTimes = {<span class="green">'Katy'</span>: 26,<br translate="no"/> <span class="green">'Alex'</span>: 30,<br translate="no"/> <span class="green">'Richard'</span>: 19}</p>
<p class="indent">La clave identifica de forma única cada valor del diccionario. En este ejemplo, la clave es el nombre de la persona. La clave <span class="literal">"Katy</span> " tiene un valor asociado de <span class="literal">26</span>.</p>
<p class="indent">Al igual que las listas, los diccionarios son mutables; su contenido puede modificarse.</p>
<h4 class="h4" id="ch09lev2sec18"><strong><span class="blue1">Definir un diccionario</span></strong></h4>
<p class="noindent">Para definir un diccionario, utiliza un par de llaves alrededor de un conjunto de pares clave-valor. Por ejemplo, puedes utilizar un diccionario para describir a una persona. Puedes utilizar claves como <span class="literal">"nombre"</span> y <span class="literal">"animal favorito</span> " para almacenar información sobre la persona, de esta forma</p>
<p class="programs" translate="no">person = {<span class="green">'name'</span>: <span class="green">'David'</span>,<br translate="no"/> <span class="green">'age'</span>: 42,<br translate="no"/> <span class="green">'favoriteAnimal'</span>: <span class="green">'Snake'</span>,<br translate="no"/> <span class="green">'favoritePlace'</span>: <span class="green">'Inside a cardboard box'</span>}</p>
<p class="indent">En este ejemplo, cada clave es una cadena. Cada clave se empareja con un valor mediante dos puntos. Por ejemplo, <span class="literal">"edad"</span> es una clave y <span class="literal">42</span> es su valor correspondiente. A continuación, los elementos del diccionario se separan mediante comas.</p>
<p class="indent">Te habrás dado cuenta de que utilizar diccionarios facilita al programador la comprensión de lo que representa cada elemento de la lista; por ejemplo, es fácil entender que la clave <span class="literal">"nombre</span> " almacena un nombre, no un número u otra información aleatoria.</p>
<p class="indent">También puedes utilizar enteros y flotantes como claves del diccionario. Utilizar flotantes o enteros en los diccionarios es muy útil cuando las claves que quieres emparejar con valores no siguen una secuencia estricta.</p>
<p class="indent">El siguiente ejemplo crea un diccionario de horas de tren. La hora del tren (que es un flotante) se almacena como clave, y el destino del tren se almacena como valor:</p>
<p class="programs" translate="no">trainTimes = {1.00: <span class="green">'Castle Town'</span>,<br translate="no"/>             2.30: <span class="green">'Sheep Farm'</span>,<br translate="no"/>             3.15: <span class="green">'Lake City'</span>,<br translate="no"/>             3.45: <span class="green">'Castle Town'</span>,<br translate="no"/>             3.55: <span class="green">'Storage Land'</span><br translate="no"/>             }</p>
<p class="indent"><span epub:type="pagebreak" id="page_193"></span>Como los diccionarios pueden almacenar dos datos que van juntos como un par, son ideales para una situación como ésta. Si utilizara una lista de destinos de trenes en lugar de un diccionario, no podría emparejar los tiempos con los destinos. Sólo podría utilizar las posiciones de índice de la lista, que serían 0, 1, 2, 3, 4, etc., en lugar de las horas.</p>
<h4 class="h4" id="ch09lev2sec19"><strong><span class="blue1">Acceder a los elementos de los diccionarios</span></strong></h4>
<p class="noindent">Para acceder al valor de un elemento de un diccionario, utiliza corchetes y una clave en lugar de un índice. La clave suele ser una cadena o un número entero. Cuando crees un diccionario que utilice cadenas como claves, asegúrate de entrecomillarlas.</p>
<p class="indent">Por ejemplo, para acceder al valor de la clave <span class="literal">"nombre</span> " en el diccionario de <span class="literal">personas</span> creado anteriormente, utilizarías esta sintaxis</p>
<p class="programs" translate="no">person = {<span class="green">'name'</span>: <span class="green">'David'</span>,<br translate="no"/> <span class="green">'age'</span>: 42,<br translate="no"/> <span class="green">'favoriteAnimal'</span>: <span class="green">'Snake'</span>,<br translate="no"/> <span class="green">'favoritePlace'</span>: <span class="green">'Inside a cardboard box'</span>}<br translate="no"/><br translate="no"/>agentName = person[<span class="green">'name'</span>]</p>
<p class="indent">La variable <span class="literal">NombreAgente</span> contendrá el valor <span class="literal">"David</span> " porque accede al valor de la clave " <span class="literal">nombre</span> ". Del mismo modo, si quisieras acceder a la edad del agente, utilizarías la clave ' <span class="literal">edad</span> ':</p>
<p class="programs" translate="no">agentAge = person[<span class="green">'age'</span>]</p>
<p class="indent">Esto almacenaría el valor <span class="literal">42</span> en la variable <span class="literal">agentAge</span>.</p>
<p class="indent">En el ejemplo de <span class="literal">trainTimes</span>, puedes acceder a los valores del diccionario (los destinos) utilizando sus valores clave (las horas de los trenes), que son flotantes:</p>
<p class="programs" translate="no">trainTimes = {1.00: <span class="green">'Castle Town'</span>,<br translate="no"/>             2.30: <span class="green">'Sheep Farm'</span>,<br translate="no"/>             3.15: <span class="green">'Lake City'</span>,<br translate="no"/>             3.45: <span class="green">'Castle Town'</span>,<br translate="no"/>             3.55: <span class="green">'Storage Land'</span><br translate="no"/>             }<br translate="no"/><br translate="no"/>myTrain = trainTimes[3.15]</p>
<p class="indent">Al acceder a la clave <span class="literal">3.15</span> del diccionario <span class="literal">trainTimes</span>, la variable <span class="literal">myTrain</span> se establece en <span class="literal">'Lake City'</span>.</p>
<h4 class="h4a" id="ch09lev2sec20"><span epub:type="pagebreak" id="page_194"></span><strong>Misión nº 53: Guía turística</strong></h4>
<p class="noindent">Cuando utilizas diccionarios, puedes almacenar cualquier tipo de datos como valor, incluso listas y tuplas. Por ejemplo, puedes almacenar una tupla que contenga los valores de <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span>. He aquí un ejemplo de código que hace exactamente eso:</p>
<p class="programs" translate="no">places = {<span class="green">'Living room'</span>: (76, 1, -61), <span class="green">'Bedroom'</span>: (61, 9, -61)}</p>
<p class="indent">El diccionario de <span class="literal">lugares</span> almacena dos elementos. La clave del diccionario es el nombre de una ubicación en mi juego Minecraft (como mi salón o mi dormitorio), y el valor es una tupla de las coordenadas. Si quisiera acceder a las coordenadas de mi salón, utilizaría el siguiente código:</p>
<p class="programs" translate="no">location = places[<span class="green">'Living room'</span>]<br translate="no"/>x, y, z = location[0], location[1], location[2]</p>
<p class="indent">Tu misión es crear un programa que utilice un diccionario para almacenar las ubicaciones de los distintos lugares de tu juego Minecraft, de forma que puedas teletransportarte a ellos por su nombre. Incluye tantas localizaciones en el diccionario como quieras. Para teletransportarte a esos lugares, tienes que acceder a la tupla de coordenadas almacenada en el diccionario y luego establecer <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span> a los valores almacenados en la tupla. Los comentarios del código muestran dónde hacerlo.</p>
<p class="indent">Copia <a href="ch09.xhtml#ch9ex7">el Listado 9-7</a> en el editor de texto IDLE y guárdalo en la carpeta de <em>listas</em> como <em>guiaviajes.py</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>sightseeingGuide.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="red"># Add locations to the dictionary</span><br translate="no"/>   places = {}<br translate="no"/><br translate="no"/>   choice = <span class="green">""</span><br translate="no"/> <span class="orange">while</span> choice != <span class="green">"exit"</span>:<br translate="no"/><span class="ent">➊</span>     choice = <span class="rose">input</span>(<span class="green">"Enter a location ('exit' to close): "</span>)<br translate="no"/><span class="ent">➋</span> <span class="orange">if</span> choice <span class="orange">in</span> places:<br translate="no"/> <span class="red"># Store the dictionary item's value using its key (choice)</span><br translate="no"/>           location =<br translate="no"/> <span class="red"># Store the values stored in the tuple in the x, y, and z variables</span><br translate="no"/>           x, y, z =<br translate="no"/>           mc.player.setTilePos(x, y, z)</p>
<p class="examplet"><a id="ch9ex7"></a><em>Listado 9-7: Código para teletransportarse a distintos lugares</em></p>
<p class="indent">He incluido una sentencia que te pide que introduzcas el nombre del lugar al que quieres ir. Esta información se almacena en la variable de <span class="literal">elección</span> <span class="ent">➊.</span> A continuación, el programa utiliza una sentencia <span class="literal">if</span> para comprobar si el valor de <span class="literal">elección</span> está en el diccionario <span class="ent">➋.</span> La última línea utiliza las variables <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span> para teletransportar al jugador a la posición almacenada en el diccionario.</p>
<p class="indent">Cuando se ejecute el programa, introduce el nombre del lugar al que quieres ir. <a href="ch09.xhtml#ch9fig8">La Figura 9-8</a> muestra mi versión del programa teletransportándome a distintos lugares de mi juego.</p>
<div class="image"><span epub:type="pagebreak" id="page_195"></span><img alt="image" src="../images/f09-08.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig8"></a><em>Figura 9-8: Me teletransporté a mi salón (arriba) y a mi dormitorio (abajo).</em></p>
<h4 class="h4" id="ch09lev2sec21"><strong><span class="blue1">Cambiar o añadir un elemento en un diccionario</span></strong></h4>
<p class="noindent">No cuesta mucho trabajo cambiar el valor de un elemento de un diccionario. Utiliza corchetes con una tecla para acceder al elemento y establécelo como harías con una variable normal (con un signo igual). También puedes añadir un nuevo elemento utilizando este método.</p>
<p class="indent">Cambiemos el valor del elemento <span class="literal">edad</span> del diccionario <span class="literal">persona</span> de 42 a 43:</p>
<p class="programs" translate="no">person[<span class="green">'age'</span>] = 43</p>
<p class="indent"><span epub:type="pagebreak" id="page_196"></span>Añadamos también un nuevo elemento llamado <span class="literal">ubicación</span> con el valor <span class="literal">"USS Discovery"</span>:</p>
<p class="programs" translate="no">person[<span class="green">'location'</span>] = <span class="green">'USS Discovery'</span></p>
<p class="indent">Después de ejecutar este código, el diccionario tendrá una nueva clave llamada <span class="literal">ubicación</span> con el valor "USS <span class="literal"> Discovery</span>".</p>
<h4 class="h4" id="ch09lev2sec22"><strong><span class="blue1">Borrar elementos de los diccionarios</span></strong></h4>
<p class="noindent">A veces querrás borrar un elemento de un diccionario. Al igual que con una lista, utiliza la palabra clave <span class="literal">del</span> para hacerlo. Por ejemplo, para borrar el ítem <span class="literal">AnimalFavorito</span> del diccionario <span class="literal">Persona</span>, harías lo siguiente:</p>
<p class="programs" translate="no"><span class="orange">del</span> person[<span class="green">'favoriteAnimal'</span>]</p>
<p class="indent">Como puedes ver, funciona igual que borrar elementos de una lista.</p>
<h4 class="h4a" id="ch09lev2sec23"><strong>Misión nº 54: Bloquear la puntuación de los aciertos</strong></h4>
<p class="noindent">En la Misión nº 50<a href="ch09.xhtml#page_184">(página 184</a>), escribiste un programa que cuenta el número de veces que el jugador golpea un bloque con su espada en 60 segundos. Por muy divertido que sea el programa, sería aún más genial si pudieras registrar las puntuaciones de todos los que jugaron.</p>
<p class="indent">Para añadir un marcador al juego, utilizarás un diccionario. El diccionario almacenará el nombre del jugador y su puntuación, que luego podrá mostrarse junto a las puntuaciones de todos los demás.</p>
<p class="indent">Para empezar, abre <em>swordHits.py</em> y guárdalo como <em>swordHitsScore.py</em> en la carpeta de <em>listas</em>. Actualiza el código para que coincida con <a href="ch09.xhtml#ch9ex8">el Listado 9-8</a>, donde he hecho algunos cambios en el programa para que se repita, pregunte al jugador su nombre y luego imprima todas las puntuaciones. (También he incluido las soluciones al código que falta en <em>swordHits.py</em>.) Las secciones antiguas están en gris. (Recuerda sangrar todo dentro del bucle).</p>
<p class="sidenote" translate="no"><span class="blue"><em>swordHitsScore.py</em></span></p>
<p class="programs" translate="no"> <span class="ash"># Connect to the Minecraft game</span><br translate="no"/> <span class="ash">from mcpi.minecraft import Minecraft</span><br translate="no"/> <span class="ash">mc = Minecraft.create()</span><br translate="no"/><br translate="no"/> <span class="ash">import time</span><br translate="no"/><br translate="no"/>   name = <span class="green">""</span><br translate="no"/>   scoreboard = {}<br translate="no"/><br translate="no"/> <span class="orange">while True</span>:<br translate="no"/> <span class="red"># Get the player's name</span><br translate="no"/>       name = <span class="rose">input</span>(<span class="green">"What is your name? "</span>)<br translate="no"/> <span class="red"># Break loop if name is exit</span><br translate="no"/> <span class="orange">if</span> name == <span class="green">"exit"</span>:<br translate="no"/> <span class="orange">break</span><br translate="no"/>       mc.postToChat("G<span class="green">o!")</span><br translate="no"/><br translate="no"/> <span class="ash"># Wait 60 seconds</span><br translate="no"/> <span class="ash">time.sleep(60)</span><br translate="no"/><br translate="no"/> <span class="ash"># Get the list of block hits</span><br translate="no"/> <span class="ash">blockHits = mc.events.pollBlockHits()</span><br translate="no"/><br translate="no"/> <span class="ash"># Display the length of the block hits list to chat</span><br translate="no"/> <span class="ash">blockHitsLength = len(blockHits)</span><br translate="no"/> <span class="ash">mc.postToChat("Your score is " + str(blockHitsLength))</span><br translate="no"/><br translate="no"/><span class="ent">➊</span> <span class="red"># Add the player to the scoreboard</span><br translate="no"/><br translate="no"/> <span class="red"># Display the scoreboard</span><br translate="no"/> <span class="rose">print</span>(scoreboard)</p>
<p class="examplet"><span epub:type="pagebreak" id="page_197"></span><a id="ch9ex8"></a><em>Listado 9-8: Cuando el código esté completo, añadirá un marcador al juego de golpes de bloque.</em></p>
<p class="indent">Para terminar el programa, necesitas almacenar el nombre y la puntuación de cada jugador que participe en el juego. Hazlo añadiendo un nuevo elemento de diccionario utilizando los datos del código en <span class="ent">➊.</span> El diccionario se llama <span class="literal">marcador</span>, y el nombre del jugador se almacena en la variable <span class="literal">nombre</span>.</p>
<p class="indent"><a href="ch09.xhtml#ch9fig9">La Figura 9-9</a> muestra la salida de mi marcador.</p>
<div class="image"><img alt="image" src="../images/f09-09.jpg" translate="no"/></div>
<p class="figcap"><a id="ch9fig9"></a><em>Figura 9-9: Mis amigos y yo jugamos una partida, y Jim es el ganador con 274 aciertos de bloque.</em></p>
<div class="note">
<p class="notet"><strong><span class="notes">NOTA</span></strong></p>
<p class="notep"><em>Te habrás dado cuenta de que cuando</em> se <em>imprime el diccionario del marcador, no es fácil de leer. Aprenderás a solucionarlo en la Misión 59 (<a href="ch10.xhtml#page_209">página 209</a>).</em></p>
</div>
<div class="sidebar">
<p class="sidebart" id="ch09sb05"><span epub:type="pagebreak" id="page_198"></span><strong>OBJETIVO EXTRA: MEJOR PUNTUACIÓN</strong></p>
<p class="noindent">Actualmente, si alguien juega al juego <em>swordHitsScore.</em> py dos o más veces (e introduce el mismo nombre de usuario), el programa sólo registrará su puntuación más reciente. ¿Puedes averiguar cómo utilizar una sentencia <span class="literal">if</span> para comprobar si el jugador ya ha introducido una puntuación y almacenar la nueva puntuación sólo si es mayor que la anterior? Aquí tienes el principio del código para ayudarte. Comprueba si el nombre de alguien ya está en el diccionario <span class="literal">del marcador</span>:</p>
<p class="programs" translate="no">if name in scoreboard:</p>
</div>
<h3 class="h3" id="ch09lev1sec07"><strong><span class="blue1">Lo que has aprendido</span></strong></h3>
<p class="noindent">¡Excelente trabajo! En este capítulo has aprendido sobre listas, tuplas y diccionarios. Has visto que pueden almacenar varios valores de datos en una sola variable. Son una forma muy útil de estructurar y almacenar datos en tus programas.</p>
<p class="indent">En las misiones, creaste varios programas divertidos que utilizan listas, diccionarios y tuplas. Con listas, creaste una barra de progreso utilizando lapislázuli y cristal. Con las tuplas, aprendiste una forma más rápida de establecer las variables <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span>. Y los diccionarios te permitieron almacenar las coordenadas de las cosas que has construido y teletransportarte a ellas introduciendo sus nombres.</p>
<p class="indent">En <a href="ch10.xhtml#ch10">el Capítulo 10</a>, desarrollarás aún más tus conocimientos sobre listas aprendiendo sobre los bucles <span class="literal">for</span>. Crearás algunos programas muy chulos, incluido uno que puedes utilizar para duplicar objetos que hayas construido.</p>
</body>
</html>