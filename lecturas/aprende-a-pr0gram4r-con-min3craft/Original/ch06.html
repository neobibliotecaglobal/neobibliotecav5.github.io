<html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ns="http://www.w3.org/2001/10/synthesis">
<head>
<title>Aprende a programar con Minecraft</title>
<link href="../styles/9781593276706.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:40af8c70-d268-482b-9282-0b537fc6ae71" name="Adept.expected.resource"/>
</head>
<body>
<h2 class="h2" id="ch06"><span epub:type="pagebreak" id="page_107"></span><strong><span class="blue1"><span class="big">6</span></span></strong><br translate="no"/><strong>CREAR MINIJUEGOS CON SENTENCIAS IF</strong></h2>
<div class="image1"><img alt="image" src="../images/common01.jpg" translate="no"/></div>
<p class="noindent">En <a href="ch05.xhtml#ch05">el Capítulo 5</a> aprendiste a hacer preguntas en Python. Utilizaste operadores de comparación (como <span class="literal">==</span>, <span class="literal">!=</span>, <span class="literal">&gt;,</span> <span class="literal">&lt;,</span> etc.) y operadores lógicos<span class="literal">(and</span>, <span class="literal">or</span>, <span class="literal">not</span>) para averiguar si una condición o un conjunto de condiciones se evaluaban como <span class="literal">Verdadero</span> o <span class="literal">Falso</span>. En este capítulo, utilizarás las respuestas a estas preguntas -los resultados de las condiciones que pruebes- para decidir qué código ejecutar.</p>
<p class="indent">Todos los días tomas decisiones basadas en condiciones. ¿Es de noche? Si es así, te pones tu armadura de diamantes y llevas una espada para luchar contra los monstruos. Si no, puedes dejar todo tu equipo en tu base secreta. ¿Tienes hambre? Si es así, comes un poco de pan o una manzana. Si no, puedes irte a una gran aventura para abrir el apetito. Del mismo modo que tomas decisiones en la vida cotidiana, tus programas deben realizar tareas diferentes en función de una condición.</p>
<p class="indent">Utilizaremos un poco de código Python para ayudar a tus programas a tomar decisiones. Las sentencias <span class="literal">if</span> indican a tu programa si debe ejecutar o no un determinado fragmento de código <span epub:type="pagebreak" id="page_108"></span>. Una sentencia <span class="literal">if</span> significa "<em>Si</em> esta condición es verdadera, ejecuta este código". Por ejemplo, podrías comprobar si el jugador está en una sala prohibida y convertir el suelo en lava si es así. O podrías comprobar si ha colocado un bloque en un lugar determinado y abrir una puerta oculta si lo ha hecho. Utilizando condiciones y sentencias <span class="literal">if</span>, puedes empezar a crear tus propios minijuegos en Minecraft.</p>
<h3 class="h3" id="ch06lev1sec01"><strong><span class="blue1">Uso de sentencias if</span></strong></h3>
<p class="noindent">Ser capaz de controlar la ejecución de tu programa es una habilidad muy poderosa; de hecho, ¡es crucial para la codificación! Los programadores a veces llaman a este concepto <em>control de flujo</em>. La forma más fácil de añadir este tipo de control es utilizar la simple sentencia <span class="literal">if</span>, que ejecuta código cuando una condición es <span class="literal">Verdadera</span>.</p>
<p class="indentb">Una sentencia <span class="literal">if</span> tiene tres partes:</p>
<p class="bull">- El operador <span class="literal">if</span> </p>
<p class="bull">- Una condición a comprobar</p>
<p class="bull">- Un cuerpo de código que se ejecutará si la condición es <span class="literal">Verdadera</span></p>
<p class="indentt">Veamos una sentencia <span class="literal">if</span> en acción. El siguiente código imprimirá <span class="literal">"Son muchos zombis"</span> sólo si hay más de 20 zombis. De lo contrario, no hará nada.</p>
<p class="programs" translate="no">zombies = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter the number of zombies: "</span>))<br translate="no"/><span class="orange">if</span> zombies &gt; 20:<br translate="no"/> <span class="rose">print</span>(<span class="green">"That's a lot of zombies."</span>)</p>
<p class="indent">Aquí, <span class="literal">zombis</span> <span class="literal">&gt; 20</span> es la condición que estamos comprobando, y <span class="literal">print("Son muchos zombis.")</span> es el cuerpo de la sentencia <span class="literal">if</span>; es el código que se ejecuta si <span class="literal">zombis &gt; 20</span> es <span class="literal">Verdadero</span>. Los dos puntos (<span class="literal">:</span>) al final de la línea <span class="literal">if</span> indican a Python que la siguiente línea iniciará el cuerpo de la sentencia <span class="literal">if</span>. La sangría indica a Python qué líneas de código forman este cuerpo. La <em>sangría</em> significa que hay un espacio extra al principio de una línea de texto. En Python las líneas tienen una sangría de cuatro espacios. Si quisiéramos añadir más líneas de código para ejecutarlas dentro de la sentencia <span class="literal">if</span>, pondríamos el mismo número de espacios delante de todas ellas, sangrándolas igual que <span class="literal">print("Eso son muchos zombis")</span>.</p>
<p class="indent">Intenta ejecutar este código unas cuantas veces, probando cada condición, y observa qué ocurre. Por ejemplo, prueba a introducir un número menor que 20, el número 20, y un número mayor que 20. Esto es lo que ocurre si introduces 22:</p>
<p class="programs" translate="no"><span class="blue1">Enter the number of zombies:</span> 22<br translate="no"/><span class="blue1">That's a lot of zombies.</span></p>
<p class="indent">Vale, el resultado tiene sentido. Ejecutémoslo otra vez y veamos qué ocurre cuando no se cumple la condición.</p>
<p class="programs" translate="no"><span class="blue1">Enter the number of zombies:</span> 5</p>
<p class="indent"><span epub:type="pagebreak" id="page_109"></span>Observa que no ocurre nada si la condición es <span class="literal">Falsa</span>. El cuerpo de la sentencia <span class="literal">if</span> se ignora por completo. Una sentencia <span class="literal">if</span> ejecutará el código de su cuerpo sólo si la condición es <span class="literal">Verdadera</span>. Cuando finaliza la sentencia <span class="literal">if</span>, el programa continúa en la línea siguiente a la sentencia <span class="literal">if</span>.</p>
<p class="indent">Veamos otro ejemplo para entender mejor cómo funciona esto. El siguiente código utiliza una sentencia <span class="literal">if</span> para comprobar si una contraseña es correcta:</p>
<p class="programs" translate="no">password = <span class="green">"cats"</span><br translate="no"/>attempt = <span class="rose">input</span>(<span class="green">"Please enter the password: "</span>)<br translate="no"/><span class="orange">if</span> attempt == password:<br translate="no"/><span class="rose">print</span>(<span class="green">"Password is correct"</span>)<br translate="no"/><span class="rose">print</span>(<span class="green">"Program finished"</span>)</p>
<p class="indent">La expresión después de la sentencia <span class="literal">if</span> es la condición: intento <span class="literal">== contraseña</span>. La línea sangrada después de if intento <span class="literal">== contraseña:</span> es el cuerpo de la sentencia <span class="literal">if</span>: <span class="literal">print("La contraseña es correcta")</span>.</p>
<p class="indent">El código imprimirá "La contraseña es correcta <span class="literal">"</span> sólo si el valor almacenado en la variable <span class="literal">intento</span> es el mismo que el valor de la variable <span class="literal">contraseña</span>. Si no son iguales, no imprimirá nada. La última línea se ejecutará e imprimirá " <span class="literal">Programa finalizado"</span> tanto si se ejecuta el cuerpo de la sentencia <span class="literal">if</span> como si no.</p>
<p class="indent">Ahora vamos a intentar algo un poco más explosivo.</p>
<h4 class="h4a" id="ch06lev2sec01"><strong>Misión 26: Explotar un cráter</strong></h4>
<p class="noindent">Ya has aprendido a hacer que el jugador se teletransporte y salte alto. Ahora harás desaparecer los bloques que rodean al jugador.</p>
<p class="indent">Cuando el programa se ejecute, los bloques situados encima, debajo y alrededor del jugador se convertirán en aire. Este poder es muy destructivo, así que ten cuidado cuando lo utilices. Para mayor seguridad, el programa preguntará al usuario si está seguro de querer destruir los bloques, y sólo lo hará si la respuesta del usuario es afirmativa.</p>
<p class="indent"><a href="ch06.xhtml#ch6ex1">El Listado 6-1</a> crea un cráter alrededor del jugador borrando todos los bloques que hay encima, debajo y a su alrededor. Luego publica <span class="literal">"¡Boom!"</span> en el chat. Guarda este programa como <em>crater.py</em> en una nueva carpeta llamada <em>declaracionessi</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>crater.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/>   answer = <span class="rose">input</span>(<span class="green">"Create a crater? Y/N "</span>)<br translate="no"/><br translate="no"/><span class="ent">➊</span> <span class="red"># Add an if statement here</span><br translate="no"/><br translate="no"/>   pos = mc.player.getPos()<br translate="no"/><span class="ent">➋</span> mc.setBlocks(pos.x + 1, pos.y + 1, pos.z + 1, pos.x - 1, pos.y - 1, pos.z - 1, 0)<br translate="no"/>   mc.postToChat(<span class="green">"Boom!"</span>)</p>
<p class="examplet"><a id="ch6ex1"></a><em>Listado 6-1: Este código crea un cráter, independientemente de lo que introduzca el usuario.</em></p>
<p class="indent">La variable <span class="literal">respuesta</span> utiliza la función <span class="literal">input()</span> para preguntar al usuario si desea crear un cráter. De momento, sin embargo, el código creará un cráter independientemente de lo que introduzca el usuario: <span class="literal">Y</span>, <span class="literal">N</span>, otra cosa o nada.</p>
<p class="indent"><span epub:type="pagebreak" id="page_110"></span>Para completar este programa, tendrás que añadir una sentencia <span class="literal">if</span> para comprobar si el usuario ha introducido <span class="literal">Y</span> en respuesta a la pregunta. Puedes añadir esa lógica al juego en <span class="ent">➊.</span> Recuerda que la respuesta del usuario se almacena en la variable <span class="literal">respuesta</span>, por lo que tu sentencia <span class="literal">if</span> debe comprobar la variable <span class="literal">respuesta</span>. Después de añadir tu sentencia <span class="literal">if</span>, el programa sólo debe ejecutar las tres últimas líneas de código cuando el jugador introduzca <span class="literal">Y</span>. Para ello, debes sangrar estas líneas cuatro espacios.</p>
<p class="indent">Ten en cuenta que el último argumento de la función <span class="literal">setBlocks(</span> ) debe ser el tipo de bloque que quieres establecer. Aquí, el último argumento es <span class="literal">0</span>, el tipo de bloque para el aire. En otras palabras, el cráter se crea utilizando setBlocks( <span class="literal">)</span> para establecer los bloques en aire <span class="ent">➋,</span> haciendo que parezca que todos los bloques alrededor del jugador han sido destruidos. Sumando y restando 1 a los valores de pos <span class="literal">.x</span>, <span class="literal">pos.y</span> y <span class="literal">pos.z</span>, el código coloca bloques de aire alrededor de la posición del jugador como un cubo de 3 por 3. Esto es el cráter.</p>
<p class="indent">Cuando hayas hecho los cambios en el programa, guárdalo y ejecútalo. Aparecerá la pregunta <span class="literal">¿Crear un cráter? S/N</span> aparecerá en el intérprete de comandos Python. Introduce <span class="literal">Y</span> o <span class="literal">N</span>. Asegúrate de que la Y es mayúscula, o el programa no funcionará correctamente.</p>
<p class="indent">Cuando el usuario introduzca <span class="literal">Y</span>, aparecerá un cráter, como se muestra en la <a href="ch06.xhtml#ch6fig1">Figura 6-1</a>.</p>
<div class="image"><img alt="image" src="../images/f06-01.jpg" translate="no"/></div>
<p class="figcap"><a id="ch6fig1"></a><em>Figura 6-1: ¡Boom! Hay un cráter a mi alrededor.</em></p>
<div class="sidebar">
<p class="sidebart" id="ch06sb01"><strong>OBJETIVO EXTRA: CONSTRUIR UNA CASA</strong></p>
<p class="noindent">¿Qué más puedes hacer con este programa? Prueba a cambiar el programa para que construya una casa alrededor del jugador en lugar de crear un cráter.</p>
</div>
<h4 class="h4" id="ch06lev2sec02"><span epub:type="pagebreak" id="page_111"></span><strong><span class="blue1">sentencias else</span></strong></h4>
<p class="noindent">Ahora veremos una sentencia más avanzada que podemos utilizar si queremos ejecutar un fragmento de código <em>diferente</em> cuando la condición <span class="literal">if</span> sea <span class="literal">False</span>. Ahí es donde entra en juego la sentencia <span class="literal">else</span>.</p>
<p class="indent">Una sentencia <span class="literal">else</span> funciona junto con una sentencia <span class="literal">if</span>. Primero escribes una sentencia <span class="literal">if</span> para ejecutar código si la condición es <span class="literal">Verdadera</span>. Después del <span class="literal">if</span>, escribes una sentencia <span class="literal">else</span> para ejecutar otro código cuando la condición se evalúe como <span class="literal">Falso</span>. Es como si dijeras: "Si la condición es verdadera, haz esto. Si no, haz otra cosa".</p>
<p class="indent">El siguiente programa imprimirá <span class="literal">"¡Ahhhh! Zombis!"</span> si hay más de 20 zombis en una habitación; de lo contrario, imprimirá " <span class="literal">Sabes, los zombis no sois tan malos".</span></p>
<p class="programs" translate="no">zombies = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter the number of zombies: "</span>))<br translate="no"/><span class="orange">if</span> zombies &gt; 20:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Ahhhh! Zombies!"</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"You know, you zombies aren't so bad."</span>)</p>
<p class="indent">Al igual que la sentencia <span class="literal">if</span>, la sentencia <span class="literal">else</span> utiliza dos puntos y sangría para indicar qué código pertenece al cuerpo de la sentencia <span class="literal">else</span>. Pero la sentencia <span class="literal">else</span> no puede utilizarse por sí sola; debe ir precedida de un <span class="literal">if</span>. La sentencia <span class="literal">else</span> no tiene su propia condición; el cuerpo de la sentencia <span class="literal">else</span> sólo se ejecuta si la condición de la sentencia <span class="literal">if</span><span class="literal">(zombis &gt; 20</span> en este ejemplo) no es <span class="literal">Verdadera</span>.</p>
<p class="indent">Volviendo al ejemplo anterior de la contraseña, podemos añadir una sentencia <span class="literal">else</span> para imprimir un mensaje cuando la contraseña sea incorrecta, así</p>
<p class="programs" translate="no">password = <span class="green">"cats"</span><br translate="no"/>attempt = <span class="rose">input</span>(<span class="green">"Please enter the password: "</span>)<br translate="no"/><span class="orange">if</span> attempt == password:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Password is correct."</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Password is incorrect."</span>)</p>
<p class="indent">Cuando el valor de <span class="literal">intento</span> coincida con el valor de <span class="literal">contraseña</span>, la condición será <span class="literal">Verdadero</span>. El programa ejecuta el código que imprime "La contraseña es correcta <span class="literal">".</span></p>
<p class="indent">Cuando <span class="literal">intento</span> no coincida con <span class="literal">contraseña</span>, la condición será <span class="literal">Falso</span>. El programa ejecuta el código que imprime "La contraseña es incorrecta" <span class="literal">.</span></p>
<p class="indent">¿Qué ocurre si se utiliza una sentencia <span class="literal">else</span> sin una sentencia <span class="literal">if</span>? Por ejemplo, si un programa tuviera sólo estas dos líneas:</p>
<p class="programs" translate="no"><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Nothing happened."</span>)</p>
<p class="indent">Python no entendería lo que está pasando y obtendría un error.</p>
<h4 class="h4a" id="ch06lev2sec03"><span epub:type="pagebreak" id="page_112"></span><strong>Misión 27: Evitar el aplastamiento, o no</strong></h4>
<p class="noindent">En la Misión nº 17<a href="ch05.xhtml#page_86">(página 86</a>), creaste un programa que impedía que el jugador rompiera bloques haciendo que el mundo fuera <span class="literal">inmutable</span> mediante <span class="literal">mc.setting("mundo_inmutable", Verdadero)</span>. El programa te ayudó a proteger tus preciosas creaciones de accidentes o vándalos. Pero aunque era útil, el programa no era muy flexible. Desactivarlo requería un segundo programa, ¡lo cual es bastante incómodo!</p>
<p class="indent">Utilizando una sentencia <span class="literal">if</span>, una sentencia <span class="literal">else</span> y la entrada de la consola, puedes crear un programa que active y desactive la inmutabilidad. Tu programa te preguntará si quieres que los bloques sean inmutables y, en función de tu respuesta, establecerá inmutable en <span class="literal">Verdadero</span> o <span class="literal">Falso</span>.</p>
<p class="indent">Abre IDLE y crea un nuevo archivo. Guarda el archivo como <em>inmutableChoice.py</em> en la carpeta <em>ifStatements</em>. Sigue estas instrucciones para completar el programa:</p>
<ol>
<li class="noindent"><p class="list">El programa debe preguntar al usuario si desea que los bloques sean inmutables:</p>
<p class="programs" translate="no"><span class="green">"Do you want blocks to be immutable? Y/N"</span></p>
<p class="indent">Añade esta cadena como argumento dentro de <span class="literal">input()</span> y almacena la entrada en una variable llamada <span class="literal">respuesta</span>.</p></li>
<li class="noindent"><p class="list">El programa comprueba si el valor almacenado en la variable <span class="literal">respuesta</span> es <span class="literal">"Y"</span>. Si lo es, ejecuta el siguiente código:</p>
<p class="programs" translate="no">mc.setting(<span class="green">"world_immutable"</span>, <span class="orange">True</span>)<br translate="no"/>mc.postToChat(<span class="green">"World is immutable"</span>)</p>
<p class="indent">Copia este código y ponlo en una sentencia <span class="literal">if</span> para que se ejecute sólo si el valor de la variable <span class="literal">respuesta</span> es igual a "Y <span class="literal">"</span>. ¡No olvides la sangría!</p></li>
<li class="noindent"><p class="list">El programa ejecuta el siguiente código si la variable de <span class="literal">respuesta</span> no es <span class="literal">"</span>Y".</p>
<p class="programs" translate="no">mc.setting(<span class="green">"world_immutable"</span>, <span class="orange">False</span>)<br translate="no"/>mc.postToChat(<span class="green">"World is mutable"</span>)</p>
<p class="indent">Copia este código y ponlo en una sentencia <span class="literal">else</span> sangrada.</p></li>
</ol>
<p class="indent">Guarda y ejecuta el programa. Cuando te pregunte si quieres que los bloques sean inmutables, escribe <span class="literal">Y</span> o <span class="literal">N</span> y pulsa <small>INTRO</small>. Prueba el programa. Si eliges que los bloques sean inmutables, no deberían romperse; en caso contrario, deberían romperse.</p>
<p class="indent"><a href="ch06.xhtml#ch6fig2">La Figura 6-2</a> muestra el mensaje de salida y la pregunta en el intérprete de comandos. Obtendrás el mismo resultado si introduces <span class="literal">"N"</span> que si introduces datos sin sentido como <span class="literal">"plátano"</span>. ¿Por qué crees que ocurre esto?</p>
<div class="image"><span epub:type="pagebreak" id="page_113"></span><img alt="image" src="../images/f06-02.jpg" translate="no"/></div>
<p class="figcap"><a id="ch6fig2"></a><em>Figura 6-2: Puedo elegir que el mundo sea inmutable, y ahora no puedo destruir ninguno de los bloques.</em></p>
<div class="sidebar">
<p class="sidebart" id="ch06sb02"><strong>OBJETIVO EXTRA: UNA INTERFAZ MEJOR</strong></p>
<p class="noindent">Podríamos hacer que este programa fuera más fácil de usar utilizando operadores booleanos para aceptar variaciones de <span class="literal">"Sí"</span> y <span class="literal">"No</span>", como <span class="literal">"sí"</span> en minúsculas, <span class="literal">"SÍ"</span> en mayúsculas y una respuesta de un solo carácter <span class="literal">"y"</span>. ¡Inténtalo!</p>
</div>
<h4 class="h4" id="ch06lev2sec04"><strong><span class="blue1">Sentencias elif</span></strong></h4>
<p class="noindent">Utilizando una sentencia <span class="literal">if</span> y una sentencia <span class="literal">else</span>, tu programa pudo ejecutar cierto código si una condición era <span class="literal">Verdadera</span> y código diferente si la condición era <span class="literal">Falsa</span>. Pero, ¿y si quieres que se ejecuten más de dos bloques de código?</p>
<p class="indent">Para ello, puedes utilizar una sentencia <span class="literal">else-if</span>, o <span class="literal">elif</span> en Python. Primero escribes una sentencia <span class="literal">if</span>, luego escribes una sentencia <span class="literal">elif</span> y después escribes una sentencia <span class="literal">else</span>. Cuando utilizas estas sentencias juntas, estás diciendo: "Si una condición es <span class="literal">Verdadera</span>, ejecuta este código. De lo contrario, si una segunda condición diferente es <span class="literal">Verdadera</span>, ejecuta otro código. Por último, si ninguna de esas dos condiciones es <span class="literal">Verdadera</span>, ejecuta otro código".</p>
<p class="indent">Veámoslo. Supongamos que estás decidiendo qué sabor comprar en la heladería. Podrías decir: "Si queda helado de chocolate, lo compraré. Si no hay de chocolate, pero hay de fresa, cogeré el de fresa. Si no hay ni de chocolate ni de fresa, cogeré de vainilla".</p>
<p class="indent">En un programa, este proceso de decisión tiene este aspecto:</p>
<p class="programs" translate="no">hasChocolate = <span class="orange">False</span><br translate="no"/>hasStrawberry = <span class="orange">True</span><br translate="no"/><span class="orange">if</span> hasChocolate:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Hooray! I'm getting chocolate."</span>)<br translate="no"/><span class="orange">elif</span> hasStrawberry:<br translate="no"/> <span class="rose">print</span>(<span class="green">"I'm getting the second best flavor, strawberry."</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Vanilla is OK too, I guess."</span>)</p>
<p class="indent"><span epub:type="pagebreak" id="page_114"></span>Las dos primeras líneas sólo preparan el escenario: supondremos que hoy no queda chocolate en la heladería, pero sí fresa. Así que establecemos <span class="literal">hasChocolate</span> en <span class="literal">Falso</span> y <span class="literal">hasFresa</span> en <span class="literal">Verdadero</span>.</p>
<p class="indent">A continuación está la lógica del proceso de decisión: una sentencia <span class="literal">if</span> imprime <span class="literal">"¡Hurra! Tengo chocolate"</span> si <span class="literal">tieneChocolate</span> es <span class="literal">Verdadero</span>. Pero en este ejemplo, es <span class="literal">Falso</span>, así que ese mensaje no se imprime. En su lugar, el programa pasa a la sentencia <span class="literal">elif</span> y comprueba si <span class="literal">tieneFresa</span> es <span class="literal">Verdadero</span>. Como lo es, el código en el cuerpo de la sentencia <span class="literal">elif</span> se ejecuta e imprime <span class="literal">"Tengo el segundo mejor sabor, fresa".</span></p>
<p class="indent">Como puedes ver, esta sentencia <span class="literal">elif</span> tiene su propia condición y cuerpo. La sentencia <span class="literal">elif</span> sólo se ejecuta cuando la condición de la sentencia <span class="literal">if</span> es <span class="literal">False</span> y la condición de la sentencia <span class="literal">elif</span> es <span class="literal">True</span>.</p>
<p class="indent">Por último, la sentencia <span class="literal">else</span> que sigue a la sentencia <span class="literal">elif</span> se ejecuta cuando la condición de la sentencia <span class="literal">if</span> es <span class="literal">False</span> y la condición de la sentencia <span class="literal">elif</span> también es <span class="literal">False</span>. En este ejemplo, el código de la sentencia <span class="literal">else</span> se ejecutaría si tanto <span class="literal">hasChocolate</span> como <span class="literal">hasFresa</span> fueran <span class="literal">Falsas</span>, imprimiendo <span class="literal">"Supongo que la Vainilla también está bien".</span></p>
<p class="indent">Para ver otro ejemplo, volvamos al programa que imprimía <span class="literal">"¡Ahhhh! Zombis!"</span> si había más de 20 zombis en una habitación. Podemos añadir una sentencia <span class="literal">elif</span> para comprobar otra condición cuando la condición de la sentencia <span class="literal">if</span> sea <span class="literal">False</span>:</p>
<p class="programs" translate="no">zombies = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter the number of zombies: "</span>))<br translate="no"/><span class="orange">if</span> zombies &gt; 20:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Ahhhh! Zombies!"</span>)<br translate="no"/><span class="orange">elif</span> zombies == 0:<br translate="no"/> <span class="rose">print</span>(<span class="green">"No zombies here! Phew!"</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"You know, you zombies aren't so bad."</span>)</p>
<p class="indent">Añadimos una sentencia <span class="literal">elif</span> para comparar <span class="literal">zombis</span> y 0. Si <span class="literal">zombis == 0</span> es <span class="literal">Verdadero</span>, el código del cuerpo de la sentencia <span class="literal">elif</span> imprime " <span class="literal">¡Aquí no hay zombis! Uf!"</span> Si la condición de esta sentencia <span class="literal">elif</span> es <span class="literal">False</span>, el código pasa a la sentencia <span class="literal">else</span> e imprime " <span class="literal">Sabéis, los zombis no sois tan malos".</span></p>
<h4 class="h4a" id="ch06lev2sec05"><strong>Misión 28: Ofrece un regalo</strong></h4>
<p class="noindent">Vamos a crear un programa que compruebe si en un bloque determinado se ha colocado un regalo y que envíe al chat respuestas diferentes en función de cuál sea el regalo.</p>
<p class="indent">El programa te permitirá colocar uno de dos regalos diferentes. Un regalo es un bloque de diamantes, y como no todo el mundo tiene tantos bloques de diamantes, el otro es un árbol joven.</p>
<p class="indent"><span epub:type="pagebreak" id="page_115"></span><a href="ch06.xhtml#ch6ex2">El listado 6-2</a> comprueba si un bloque en la posición 10, 11, 12 es un bloque de diamante o un árbol joven o si no hay ningún regalo. Sin embargo, el programa no está completo.</p>
<p class="sidenote" translate="no"><span class="blue"><em>gift.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/>   x = 10<br translate="no"/>   y = 11<br translate="no"/>   z = 12<br translate="no"/>   gift = mc.getBlock(x, y, z)<br translate="no"/><br translate="no"/> <span class="red"># if gift is a diamond block</span><br translate="no"/><span class="ent">➊</span> <span class="orange">if</span><br translate="no"/><br translate="no"/> <span class="red"># else if gift is a sapling</span><br translate="no"/><span class="ent">➋</span> <span class="orange">elif</span><br translate="no"/><br translate="no"/> <span class="orange">else</span>:<br translate="no"/>       mc.postToChat(<span class="green">"Bring a gift to "</span> + <span class="rose">str</span>(x) + <span class="green">", "</span> + <span class="rose">str</span>(y) + <span class="green">", "</span> + <span class="rose">str</span>(z))</p>
<p class="examplet"><a id="ch6ex2"></a><em>Listado 6-2: Inicio del código que comprueba si has entregado un regalo</em></p>
<p class="indent">Crea un nuevo archivo en IDLE y guárdalo como <em>regalo.py</em> en la carpeta <em>ifDeclaraciones</em>. Copia <a href="ch06.xhtml#ch6ex2">el Listado 6-2</a> en el archivo. El código que obtiene el tipo de bloque ya está hecho por ti. El tipo de bloque se almacena en la variable <span class="literal">regalo</span>. La sentencia <span class="literal">else</span> se ejecutará si no se ha colocado ni un bloque de diamante ni un árbol joven, y enviará un mensaje al chat indicando al jugador que lleve un regalo a esas coordenadas. Puedes cambiar las coordenadas de las variables <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span> a la ubicación que desees.</p>
<p class="indent">Para completar el programa, sigue estos pasos</p>
<ol>
<li class="noindent"><p class="list">Completa la sentencia <span class="literal">if</span> en <span class="ent">➊</span> para que compruebe si la variable <span class="literal">regalo</span> contiene el valor de un bloque diamante (57). Si es así, haz que publique este mensaje en el chat <span class="literal">"Gracias por el diamante".</span></p></li>
<li class="noindent"><p class="list">Añade una sentencia <span class="literal">elif</span> bajo el segundo comentario en <span class="ent">➋</span> que compruebe si la variable de <span class="literal">regalo</span> contiene el valor de un árbol joven (6). Si es así, haz que publique este mensaje en el chat <span class="literal">"Supongo que los arbolitos son tan buenos como los diamantes...".</span></p></li>
</ol>
<p class="indent">Después de hacer los cambios, guarda y ejecuta el programa. Prueba a poner un bloque de diamante en las coordenadas y mira a ver qué pasa. Haz lo mismo con un árbol joven, y prueba también a no dejar nada en las coordenadas. No olvides que el arbolito debe estar plantado en un bloque de tierra o hierba. ¿Obtienes la respuesta correcta en cada situación? Tendrás que volver a ejecutar el programa cada vez para comprobar que funciona. <a href="ch06.xhtml#ch6fig3">La Figura 6-3</a> muestra mi programa funcionando.</p>
<div class="image"><span epub:type="pagebreak" id="page_116"></span><img alt="image" src="../images/f06-03.jpg" translate="no"/></div>
<p class="figcap"><a id="ch6fig3"></a><em>Figura 6-3: He colocado un retoño de árbol como regalo.</em></p>
<div class="sidebar">
<p class="sidebart" id="ch06sb03"><strong>OBJETIVO EXTRA: ALABAR AL DIOS MELÓN</strong></p>
<p class="noindent">En esta misión puedes utilizar muchos bloques diferentes. Prueba a cambiar el código para que compruebe si has colocado un bloque de oro o un melón como regalo. Prueba a escribir un código que destruya el bloque regalo una vez lo hayas colocado.</p>
</div>
<h4 class="h4" id="ch06lev2sec06"><strong><span class="blue1">Encadenar sentencias elif</span></strong></h4>
<p class="noindent">No hay límite en el número de sentencias <span class="literal">elif</span> que puedes incluir con una sentencia <span class="literal">if</span>. Puedes tener una sentencia <span class="literal">elif</span> o 100 sentencias <span class="literal">elif</span>. Python simplemente las evalúa una tras otra.</p>
<p class="indent">He aquí un ejemplo utilizando el programa "número de zombis":</p>
<p class="programs" translate="no">   zombies = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter the number of zombies: "</span>))<br translate="no"/> <span class="orange">if</span> zombies &gt; 20:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Ahhhh! Zombies!"</span>)<br translate="no"/><span class="ent">➊</span> <span class="orange">elif</span> zombies &gt; 10:<br translate="no"/> <span class="rose">print</span>(<span class="green">"There's just half a Minecraft zombie apocalypse."</span>)<br translate="no"/> <span class="orange">elif</span> zombies == 0:<br translate="no"/> <span class="rose">print</span>(<span class="green">"No zombies here! Phew!"</span>)<br translate="no"/> <span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"You know, you zombies aren't so bad."</span>)</p>
<p class="indent">Aquí hemos añadido una nueva sentencia <span class="literal">elif</span> en <span class="ent">➊,</span> justo después de la sentencia <span class="literal">if</span>, para comprobar si hay más de 10 zombis en la habitación. Si los hay, imprime <span class="literal">"Acaba de haber medio apocalipsis zombi Minecraft"</span>; de lo contrario, el código pasa a la siguiente <span class="literal">elif</span>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_117"></span>El orden de las sentencias <span class="literal">if</span> y <span class="literal">elif</span> es muy importante. Si las colocas en el orden incorrecto, es posible que nunca se llegue a parte del código, y tu programa no se ejecutará como se espera.</p>
<p class="indent">Por ejemplo, si intercambiamos la condición de la sentencia <span class="literal">if</span> con la condición de la primera sentencia <span class="literal">elif</span>, nos encontramos con un problema:</p>
<p class="programs" translate="no">zombies = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter the number of zombies: "</span>))<br translate="no"/><span class="orange">if</span> zombies &gt; 10:<br translate="no"/> <span class="rose">print</span>(<span class="green">"There's just half a Minecraft zombie apocalypse."</span>)<br translate="no"/><span class="orange">elif</span> zombies &gt; 20:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Ahhhh! Zombies!"</span>)<br translate="no"/><span class="orange">elif</span> zombies == 0:<br translate="no"/> <span class="rose">print</span>(<span class="green">"No zombies here! Phew!"</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"You know, you zombies aren't so bad."</span>)</p>
<p class="indent">¿Por qué es un error? Veamos qué ocurre cuando <span class="literal">los zombis</span> son, digamos, 22. Como 22 es mayor que 10, la condición de la primera sentencia <span class="literal">if</span>, <span class="literal">zombies &gt; 10</span>, es <span class="literal">Verdadera</span>, y el código de la sentencia if se ejecuta. Una vez que esto ocurre, no se ejecuta ninguna de las demás sentencias <span class="literal">elif</span> y <span class="literal">else</span>. El programa nunca llega a <span class="literal">elif zombies &gt; 20</span> porque ya ha ejecutado el cuerpo de la sentencia <span class="literal">if</span>. Esto es un error.</p>
<p class="indent">Si alguna vez obtienes resultados inesperados de tus sentencias <span class="literal">if</span>, comprueba siempre que tus sentencias <span class="literal">if</span> y <span class="literal">elif</span> están en el orden correcto.</p>
<h4 class="h4a" id="ch06lev2sec07"><strong>Misión nº 29: Teletransportarse al lugar correcto</strong></h4>
<p class="noindent">Cuando las sentencias <span class="literal">if</span> y <span class="literal">elif</span> están en el orden incorrecto, el código que esperas que se ejecute no se ejecutará, y el código que no esperas que se ejecute se ejecutará. Esto puede causar fallos extraños en tus programas. Para arreglar el programa, tienes que poner las condiciones en el orden correcto. Vamos a intentarlo.</p>
<p class="indent"><a href="ch06.xhtml#ch6ex3">El listado 6-3</a> no funcionará. Se supone que debe teletransportar al jugador a diferentes lugares dependiendo de cuántos puntos introduzca el usuario. Los puntos coinciden con las ubicaciones correctas, pero parece que las condiciones no están en el orden correcto.</p>
<p class="indent">Cuantos más puntos tenga el jugador, mejor será la ubicación. Éste es el código. Las condiciones se establecen utilizando <span class="literal">setPos()</span> para cada transporte de ubicación.</p>
<p class="sidenote" translate="no"><span class="blue"><em>teleportScore.py</em></span></p>
<p class="programs" translate="no"><span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>mc = Minecraft.create()<br translate="no"/><br translate="no"/>points = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter your points: "</span>))<br translate="no"/><span class="orange">if</span> points &gt; 2:<br translate="no"/>    mc.player.setPos(112, 10, 112)<br translate="no"/><span class="orange">elif</span> points &lt;= 2:<br translate="no"/>    mc.player.setPos(0, 12, 20)<br translate="no"/><span class="orange">elif</span> points &gt; 4:<br translate="no"/>    mc.player.setPos(60, 20, 32)<br translate="no"/><span class="orange">elif</span> points &gt; 6:<br translate="no"/>    mc.player.setPos(32, 18, -38)<br translate="no"/><span class="orange">else</span>:<br translate="no"/>    mc.postToChat(<span class="green">"I don't know what to do with that information."</span>)</p>
<p class="examplet"><span epub:type="pagebreak" id="page_118"></span><a id="ch6ex3"></a><em>Listado 6-3: Dependiendo de tus puntos, te teletransportarás a una ubicación diferente.</em></p>
<p class="indent">Hay una condición distinta para más de 6 puntos, más de 4 puntos, más de 2 puntos, y luego 2 o menos puntos.</p>
<p class="indent">La última línea, dentro de la sentencia <span class="literal">else</span>, no se ejecutará a menos que el usuario introduzca algo totalmente extraño, como una cadena de texto en lugar de sus puntos, o no introduzca nada en absoluto.</p>
<p class="indent">Crea un nuevo archivo en IDLE y guárdalo como <em>teleportScore.py</em> en la carpeta <em>ifStatements</em>. Cambia el programa para que las condiciones estén en el orden correcto y se pueda llegar a todos los lugares. Prueba el programa con diferentes números de puntos para asegurarte de que el código de cada destino de teletransporte puede ejecutarse. La <a href="ch06.xhtml#ch6fig4">Figura 6-4</a> muestra que el programa no funciona.</p>
<div class="image"><img alt="image" src="../images/f06-04.jpg" translate="no"/></div>
<p class="figcap"><a id="ch6fig4"></a><em>Figura 6-4: ¡No esperaba acabar aquí!</em></p>
<p class="indent">Como el programa no funciona en este momento, cuando introduzco 5, me teletransporta al lugar de más de 2 puntos, aunque debería ir al lugar de más de 4 puntos.</p>
<div class="sidebar">
<p class="sidebart" id="ch06sb04"><strong>OBJETIVO EXTRA: TRANSPÓRTAME, SCOTTY</strong></p>
<p class="noindent">Crea un programa que te permita introducir un lugar al que quieras teletransportarte como una cadena, por ejemplo <span class="literal">"castillo"</span>. Utiliza sentencias <span class="literal">if</span> y <span class="literal">elif</span> para elegir a qué lugar quieres teletransportarte. Por ejemplo, <span class="literal">"fortaleza marina"</span> te teletransportará a un lugar y <span class="literal">"casa del árbol"</span> te teletransportará a otro.</p>
</div>
<h4 class="h4" id="ch06lev2sec08"><span epub:type="pagebreak" id="page_119"></span><strong><span class="blue1">Sentencias if anidadas</span></strong></h4>
<p class="noindent">Digamos que tienes una sentencia <span class="literal">if</span>, y si su condición es <span class="literal">Verdadera</span>, quieres probar otra condición (y ejecutar algún código si esta segunda condición es <span class="literal">Verdadera</span>). Por ejemplo, si intentas que la entrada a tu base sea extra secreta, podrías escribir algún código que compruebe si estás sobre un interruptor. Si es cierto, otra línea de código comprueba si estás sujetando el objeto secreto que desbloqueará la puerta. ¿Cómo lo harías?</p>
<p class="indent">Puedes poner una sentencia <span class="literal">if</span> dentro del cuerpo de otra sentencia <span class="literal">if</span>. Esto se conoce como sentencia <span class="literal">if</span> <em>anidada</em>.</p>
<p class="indent"><a href="ch06.xhtml#ch6ex4">El listado 6-4</a> es un ejemplo de sentencia <span class="literal">if</span> anidada. Un simple cajero automático comprueba si tienes suficiente dinero y, en caso afirmativo, te pide que confirmes la retirada. Si lo confirmas, el programa realiza la retirada.</p>
<p class="programs" translate="no">   withdraw = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"How much do you want to withdraw? "</span>))<br translate="no"/>   balance = 1000<br translate="no"/><br translate="no"/><span class="ent">➊</span> <span class="orange">if</span> balance &gt;= withdraw:<br translate="no"/>       confirm = <span class="rose">input</span>(<span class="green">"Are you sure? "</span>)<br translate="no"/><span class="ent">➋</span> <span class="orange">if</span> confirm == <span class="green">"Yes"</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Here is your money."</span>)<br translate="no"/> <span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Sorry, you don't have enough money."</span>)</p>
<p class="examplet"><a id="ch6ex4"></a><em>Listado 6-4: Un cajero automático imaginario escrito con Python</em></p>
<p class="indent">Observa que la segunda sentencia <span class="literal">if</span> está sangrada dentro de la primera sentencia <span class="literal">if</span>. Si la condición de la sentencia <span class="literal">if</span> externa <span class="ent">➊</span> es <span class="literal">Verdadera</span>, tienes suficiente dinero en tu cuenta, y se ejecuta la línea <span class="literal">confirm = input("¿Estás seguro? ")</span>. Entonces, si la condición <span class="ent">➋</span> de la sentencia <span class="literal">if</span> interna es <span class="literal">Verdadera</span>, el código imprime <span class="literal">"Aquí tienes tu dinero".</span></p>
<h4 class="h4a" id="ch06lev2sec09"><strong>Misión 30: Abrir un pasadizo secreto</strong></h4>
<p class="noindent">En esta misión, ampliarás un poco el ejemplo anterior. Crearás un edificio con un pasadizo secreto que sólo se abre cuando se coloca un bloque de diamante sobre un pedestal. Si se coloca cualquier otro tipo de bloque sobre el pedestal, ¡el suelo se convertirá en lava!</p>
<p class="indent">Primero, construye un edificio. Para hacerlo rápidamente, busca el programa <em>edificio.py</em><a href="ch03.xhtml#page_60">(página 60</a>) en la carpeta <em>matemáticas</em> y ejecútalo. No añadas ninguna puerta al edificio. Fuera, donde quieras codificar la entrada al edificio, coloca un solo bloque para representar el pedestal. Cuando coloques un bloque de diamante encima del pedestal, el código abrirá una entrada secreta en el lateral del edificio. <a href="ch06.xhtml#ch6ex5">El Listado 6-5</a> proporciona un esqueleto de código que puedes utilizar para empezar.</p>
<p class="sidenote" translate="no"><span class="blue"><em>secretDoor.py</em></span></p>
<p class="programs" translate="no"><span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>mc = Minecraft.create()<br translate="no"/><br translate="no"/>x = 10<br translate="no"/>y = 11<br translate="no"/>z = 12<br translate="no"/><br translate="no"/>gift = mc.getBlock(x, y, z)<br translate="no"/><span class="orange">if</span> gift != 0:<br translate="no"/> <span class="red"># Add your code here</span><br translate="no"/><span class="orange">else</span>:<br translate="no"/>    mc.postToChat(<span class="green">"Place an offering on the pedestal."</span>)</p>
<p class="examplet"><span epub:type="pagebreak" id="page_120"></span><a id="ch6ex5"></a><em>Listado 6-5: Inicio del código para abrir una puerta secreta al colocar un regalo sobre un pedestal</em></p>
<p class="indent">Crea un nuevo archivo en IDLE y guárdalo como puertaSecreta <em>.py</em> en la carpeta <em>ifDeclaraciones</em>. Cambia las coordenadas de este programa para que coincidan con la ubicación donde tendrás que colocar tu llave de bloque de diamante en tu mundo Minecraft.</p>
<p class="indentb">Copia <a href="ch06.xhtml#ch6ex5">el Listado 6-5</a> y añade código para estas tareas:</p>
<p class="bull">- Si hay un bloque diamante (57) en el pedestal, abre un pasadizo secreto a la habitación secreta. (Sugerencia: para crear una abertura en el edificio, prueba a poner los bloques al aire).</p>
<p class="bull">- Cuando un bloque que no sea diamante esté sobre el pedestal, haz que el suelo bajo el jugador se convierta en lava (10).</p>
<p class="indentt">Tendrás que utilizar una sentencia <span class="literal">if</span> anidada para completar este programa.</p>
<p class="indent">Como se trata de un programa más complejo, debes construirlo y probarlo por etapas. Cuando hayas añadido una función, ejecuta el programa y asegúrate de que esa parte funciona antes de seguir adelante. Depurar trozos de código pequeños es más fácil que arreglar trozos de código largos. La <a href="ch06.xhtml#ch6fig5">Figura 6-5</a> muestra la apertura del pasadizo secreto.</p>
<div class="image"><img alt="image" src="../images/f06-05.jpg" translate="no"/></div>
<p class="figcap"><a id="ch6fig5"></a><em>Figura 6-5: El pasadizo secreto al templo ya está abierto.</em></p>
<div class="sidebar">
<p class="sidebart" id="ch06sb05"><strong>OBJETIVO EXTRA: ESCALERA MECÁNICA</strong></p>
<p class="noindent">¿Qué más podrías hacer cambiando el programa <em>puertasecreta.py</em>? ¿Podrías hacer una puerta automática que detectara cuando el jugador está junto a ella o una escalera mecánica que hiciera subir automáticamente al jugador por unas escaleras cuando se encuentra en la parte inferior?</p>
</div>
<h3 class="h3" id="ch06lev1sec02"><span epub:type="pagebreak" id="page_121"></span><strong><span class="blue1">Uso de sentencias if para comprobar un rango de valores</span></strong></h3>
<p class="noindent">Como aprendiste en <a href="ch05.xhtml#ch05">el Capítulo 5</a>, en Python puedes determinar si un valor se encuentra entre otros dos valores. Como una comprobación de rango se evalúa como <span class="literal">Verdadero</span> o <span class="literal">Falso</span>, puedes utilizar una comprobación de rango como condición en una sentencia <span class="literal">if</span>, igual que utilizarías una simple comparación menor que/mayor que o igual a/no igual a. Cualquier expresión que se evalúe como <span class="literal">Verdadero</span> o <span class="literal">Falso</span> puede ser una condición de una sentencia <span class="literal">if</span>.</p>
<p class="indent">Digamos que te has pasado todo el día reuniendo ingredientes para hornear unos deliciosos pasteles de Minecraft. Encuentras suficientes ingredientes para hornear 30 pasteles, y ahora quieres vender los pasteles. La persona que te compre pasteles debe comprar 1 pastel pero menos de 30; de lo contrario, no le venderás pasteles a esa persona. ¡No pueden acaparar todos los pasteles!</p>
<p class="indent">Este código representa la situación de los pasteles:</p>
<p class="programs" translate="no">   cakes = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter the number of cakes to buy: "</span>))<br translate="no"/><span class="ent">➊</span> <span class="orange">if</span> 0 &lt; cakes &lt; 30:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Here are your "</span> + <span class="rose">str</span>(cakes) + <span class="green">" cakes."</span>)<br translate="no"/><span class="ent">➋</span> <span class="orange">elif</span> cakes == 0:<br translate="no"/>       print(<span class="green">"Don't you want some delicious cake?"</span>)<br translate="no"/><span class="ent">➌</span> <span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"That's too many cakes! Don't be selfish!"</span>)</p>
<p class="indent">Si la variable <span class="literal">pasteles</span> tiene un valor entre 0 y 30, como 15, imprimimos <span class="literal">"Aquí tienes tus 15 pasteles".</span> <span class="ent">➊.</span> En caso contrario, imprimimos un mensaje diferente. Si <span class="literal">pasteles</span> tiene el valor 0, imprimimos "¿No <span class="literal"> quieres un delicioso pastel?</span> ". <span class="ent">➋</span> y si es mayor que 30, imprimimos "¡Son <span class="literal"> demasiados past</span> eles! <span class="literal"> No seas egoísta!"</span> <span class="ent">➌.</span></p>
<p class="indent">Podemos probar una expresión más complicada añadiendo un operador booleano. Si fuera realmente raro y no quisiera que la gente comprara una cantidad de pan entre 20 y 30, podría hacerlo utilizando el operador <span class="literal">no</span>:</p>
<p class="programs" translate="no">bread = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter the amount of bread: "</span>))<br translate="no"/><span class="orange">if not</span> 20 &lt;= bread &lt;= 30:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Here are your "</span> + bread + <span class="green">" breads."</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"I don't sell that amount of bread for some reason."</span>)</p>
<p class="indent">Aquí utilizo un operador <span class="literal">not</span> y las comparaciones mayor que o igual a para comprobar un rango de valores como primera condición. La comprobación del rango determina si la cantidad de pan que la gente quiere comprar está entre 20 y 30. Entonces, el operador <span class="literal">not</span> pasa de <span class="literal">Verdadero</span> a <span class="literal">Falso</span> y de <span class="literal">Falso</span> a <span class="literal">Verdadero</span>. Por tanto, si <span class="literal">el</span> pan está dentro del intervalo, la expresión global se evalúa como <span class="literal">Falso</span>, y ejecutamos el código de la sentencia <span class="literal">else</span>. Si <span class="literal">el</span> pan no está en el rango entre 20 y 30 -digamos que es 40- la expresión global es <span class="literal">Verdadera</span>, e imprimimos <span class="literal">"Aquí tienes tus 40 panes".</span></p>
<p class="indent">Si alguien intenta comprar 23 panes, no se lo permito. Pero 17 ó 32 está bien.</p>
<h4 class="h4a" id="ch06lev2sec10"><span epub:type="pagebreak" id="page_122"></span><strong>Misión 31: Restringir las ubicaciones de teletransporte</strong></h4>
<p class="noindent">¿Recuerdas el programa de teletransporte que creaste en el <a href="ch02.xhtml#ch02">Capítulo 2</a>? Se llamaba <em>teleport.py</em>. En esta misión, utilizarás comprobaciones de rango y sentencias <span class="literal">if</span> para limitar a dónde puede teletransportarse el jugador. Si utilizas Minecraft en la Raspberry Pi, hay lugares fuera del mundo del juego que no existen, pero tu programa te permitirá teletransportarte a ellos. Si estás utilizando la edición de escritorio de Minecraft, tu mundo es mucho más grande, por lo que no tienes las mismas restricciones que en la edición Pi del juego, pero este programa sigue siendo útil. Por ejemplo, podrías utilizarlo en un juego del escondite para limitar la zona donde pueden esconderse los jugadores.</p>
<p class="indent"><a href="ch06.xhtml#ch6ex6">El listado 6-6</a> se supone que obtiene las coordenadas x, y y z de la entrada del usuario y las teletransporta a esa posición. Pero el programa no está completo.</p>
<p class="sidenote" translate="no"><span class="blue"><em>teleportLimit.py</em></span></p>
<p class="programs" translate="no"><span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>mc = Minecraft.create()<br translate="no"/>valid = <span class="orange">True</span><br translate="no"/><br translate="no"/>x = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter x: "</span>))<br translate="no"/>y = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter y: "</span>))<br translate="no"/>z = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter z: "</span>))<br translate="no"/><br translate="no"/><span class="orange">if not</span> -127 &lt; x &lt; 127:<br translate="no"/>    valid = <span class="orange">False</span><br translate="no"/><br translate="no"/><span class="red"># check if y is not between -63 and 63</span><br translate="no"/><br translate="no"/><span class="red"># check if z is not between -127 and 127</span><br translate="no"/><br translate="no"/><span class="orange">if</span> valid:<br translate="no"/>    mc.player.setPos(x, y, z)<br translate="no"/><span class="orange">else</span>:<br translate="no"/>    mc.postToChat("P<span class="green">lease enter a valid location")</span></p>
<p class="examplet"><a id="ch6ex6"></a><em>Listado 6-6: Un programa para limitar los lugares a los que puede teletransportarse el jugador</em></p>
<p class="indent">Para limitar a dónde puede teletransportarse el jugador, creamos una variable llamada <span class="literal">válido</span>. Esta variable almacenará un <span class="literal">Verdadero</span> o un <span class="literal">Falso</span> para representar si todas las coordenadas del destino son válidas o no. Pedimos al usuario que introduzca valores para <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span>. A continuación, hacemos que una sentencia <span class="literal">if</span> compruebe si la variable <span class="literal">x</span> no está entre -127 y 127. Si no lo está, esta variable x no es válida. Si no lo está, esta coordenada x no es válida, y la variable <span class="literal">válida</span> se pone a <span class="literal">Falso</span>.</p>
<p class="indent">Cuando el programa llegue a la última sentencia <span class="literal">if</span>, sólo se llamará a <span class="literal">setPos()</span> si <span class="literal">valid</span> es <span class="literal">True</span>. Y <span class="literal">válido</span> será <span class="literal">Verdadero</span> sólo si se han cumplido las tres condiciones. De lo contrario, el jugador no podrá teletransportarse, y publicaremos un mensaje de chat indicando al usuario que introduzca una ubicación válida.</p>
<p class="indent">Crea un nuevo archivo en IDLE y copia en él <a href="ch06.xhtml#ch6ex6">el Listado 6-6</a>. Guarda el programa como <em>teleportLimit.py</em> en la carpeta <em>ifStatements</em>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_123"></span>Completa el programa para que utilice sentencias <span class="literal">if</span> y comprobaciones de rango en las variables <span class="literal">y</span> y <span class="literal">z</span> y ponga <span class="literal">valid</span> en <span class="literal">False</span> si los valores no son válidos.</p>
<p class="indent">Cuando creas que has terminado el programa, ejecútalo. El programa debería teletransportarte cuando introduzcas valores que estén dentro del intervalo de -127 a 127 para las variables <span class="literal">x</span> y <span class="literal">z</span> y dentro del intervalo de -63 a 63 para la variable <span class="literal">y</span>. Cuando introduzcas un valor que no esté dentro de estos rangos, el programa no debería teletransportarte. <a href="ch06.xhtml#ch6fig6">La Figura 6-6</a> muestra el aspecto que debería tener el juego cuando el usuario introduce un número no válido.</p>
<div class="image"><img alt="image" src="../images/f06-06.jpg" translate="no"/></div>
<p class="figcap"><a id="ch6fig6"></a><em>Figura 6-6: La</em> variable <span class="literal"><span class="codeitalic">z</span></span> <em>era demasiado grande, por lo que no me teletransporté.</em></p>
<div class="sidebar">
<p class="sidebart" id="ch06sb06"><strong>OBJETIVO EXTRA: MANTENTE SOBRE EL SUELO</strong></p>
<p class="noindent">Uno de los problemas del programa de teletransporte es que puede teletransportarte bajo tierra, atrapándote allí. Puedes hacer cambios en el programa para impedir que el jugador se teletransporte bajo tierra. Compara la coordenada y que introduce el usuario con la función <span class="literal">getHeight()</span> para comprobar que el jugador se teletransporta por encima del suelo y detenerlo si se teletransporta bajo tierra.</p>
</div>
<h3 class="h3" id="ch06lev1sec03"><strong><span class="blue1">Operadores booleanos y sentencias if</span></strong></h3>
<p class="noindent">En la misión anterior, utilizaste <span class="literal">not</span> en tus sentencias <span class="literal">if</span>. También puedes utilizar <span class="literal">and</span> y <span class="literal">or</span>. En este caso, la sentencia <span class="literal">if</span> actuará igual que con una simple condición: si la expresión global se evalúa como <span class="literal">True</span>, se ejecutará el cuerpo de la sentencia. He aquí un programa que pregunta a alguien si tiene pastel y si quiere darnos un poco de pastel:</p>
<p class="programs" translate="no">hasCake = <span class="rose">input</span>(<span class="green">"Do you have any cake? Y/N"</span>)<br translate="no"/>wouldShare = <span class="rose">input</span>(<span class="green">"Would you give me some cake? Y/N"</span>)<br translate="no"/><span class="orange">if</span> hasCake == <span class="green">"Y"</span> <span class="orange">and</span> wouldShare == <span class="green">"Y"</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Yay!"</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Boo!"</span>)</p>
<p class="indent"><span epub:type="pagebreak" id="page_124"></span>Este código utiliza el operador <span class="literal">y</span>, por lo que Python sólo imprimirá <span class="literal">"¡Sí!"</span> si la persona tiene tarta<span class="literal">(tieneTarta == "</span><span class="literal">Y</span> " es <span class="literal">Verdadero</span>) y está dispuesta a compartirla<span class="literal">(compartiría= "Y</span> " es <span class="literal">Verdadero</span>). Si alguna de estas comparaciones no es <span class="literal">Verdadera</span>, el código dentro de la sentencia <span class="literal">else</span> imprimirá "¡Bu! <span class="literal">"</span>.</p>
<p class="indent">Puedes sustituir <span class="literal">y</span> por el operador <span class="literal">o</span> para que Python imprima " <span class="literal">¡Sí!"</span> si la persona tiene tarta o está dispuesta a compartirla:</p>
<p class="programs" translate="no">hasCake = <span class="rose">input</span>(<span class="green">"Do you have any cake? Y/N"</span>)<br translate="no"/>wouldShare = <span class="rose">input</span>(<span class="green">"Would you give me some cake? Y/N"</span>)<br translate="no"/><br translate="no"/><span class="orange">if</span> hasCake == <span class="green">"Y"</span> <span class="orange">or</span> wouldShare == <span class="green">"Y"</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Yay!"</span>)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"Boo!"</span>)</p>
<p class="indent">Si <span class="literal">hasPastel == "Y"</span> o <span class="literal">compartiría == "Y"</span> es <span class="literal">Verdadero</span>, toda la expresión se evalúa como <span class="literal">Verdadero</span> e imprimimos " <span class="literal">¡Sí</span>! La única vez que imprimimos "¡Bu <span class="literal">!"</span> es si ninguna de las dos condiciones es <span class="literal">Verdadera</span>: la persona no tiene tarta y no la compartiría si la tuviera.</p>
<p class="indent">Probemos a utilizar el operador <span class="literal">not</span> con una sentencia <span class="literal">if</span>:</p>
<p class="programs" translate="no">wearingShoes = <span class="rose">input</span>(<span class="green">"Are you wearing shoes? Y/N"</span>)<br translate="no"/><span class="orange">if not</span> wearingShoes == <span class="green">"Y"</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"You're not wearing shoes."</span>)</p>
<p class="indent">Este programa pide al usuario que introduzca <span class="literal">Y</span> si lleva zapatos y <span class="literal">N</span> si no los lleva. Almacena la entrada en <span class="literal">llevandoZapatos</span>. A continuación compara <span class="literal">wearingShoes</span> e <span class="literal">"Y</span> " para ver si son iguales. El operador <span class="literal">not</span> invierte el resultado de una comparación <span class="literal">-Verdadero</span> se convierte en <span class="literal">Falso</span> y <span class="literal">Falso</span> en <span class="literal">Verdadero-, de modo que</span>si el usuario introdujo <span class="literal">Y</span>, la comparación empieza siendo <span class="literal">Verdadera</span> y <span class="literal">not</span> la convierte en <span class="literal">Falsa</span>, con lo que la expresión global es <span class="literal">Falsa</span>. No imprimimos ningún mensaje. Si el usuario no introdujo <span class="literal">Y</span>, la comparación es <span class="literal">Falsa</span> y <span class="literal">no</span> la convierte en <span class="literal">Verdadera</span>. La expresión global se evalúa como <span class="literal">Verdadero</span>, e imprimimos " <span class="literal">No llevas zapatos".</span></p>
<h4 class="h4a" id="ch06lev2sec11"><strong>Misión nº 32: Ducharse</strong></h4>
<p class="noindent">Las mejores casas de Minecraft prestan mucha atención a los detalles. Mucha gente incluye suelos de madera, chimeneas y cuadros en sus casas para que se sientan más como en casa. Tú irás un paso más allá y harás una ducha que funcione.</p>
<p class="indent">Para que la ducha funcione, tendrás que utilizar comprobaciones de rango y operadores booleanos. Crearás una zona de ducha, y cuando el jugador entre en la ducha <span epub:type="pagebreak" id="page_125"></span>, el agua se abrirá. En otras palabras, cuando el jugador camine dentro de un rango de coordenadas, el programa deberá crear bloques de agua sobre ellas.</p>
<p class="indent"><a href="ch06.xhtml#ch6ex7">El listado 6-7</a> proporciona la estructura básica del programa con unas pocas líneas de código para ayudarte a empezar. Es tu trabajo completar el resto.</p>
<p class="sidenote" translate="no"><span class="blue"><em>shower.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/><span class="ent">➊</span> shwrX =<br translate="no"/>   shwrY =<br translate="no"/>   shwrZ =<br translate="no"/><br translate="no"/><span class="ent">➋</span> width = 5<br translate="no"/>   height = 5<br translate="no"/>   length = 5<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x = pos.x<br translate="no"/>   y = pos.y<br translate="no"/>   z = pos.z<br translate="no"/><br translate="no"/><span class="ent">➌</span> <span class="orange">if</span> shwrX &lt;= x &lt; shwrX + width <span class="orange">and</span><br translate="no"/>       mc.setBlocks(shwrX, shwrY + height, shwrZ,<br translate="no"/>                    shwrX + width, shwrY + height, shwrZ + length, 8)<br translate="no"/> <span class="orange">else</span>:<br translate="no"/>       mc.setBlocks(shwrX, shwrY + height, shwrZ,<br translate="no"/><span class="ent">➍</span>                  shwrX + width, shwrY + height, shwrZ + length, 0)</p>
<p class="examplet"><a id="ch6ex7"></a><em>Listado 6-7: El inicio del programa ducha</em></p>
<p class="indent">Copia <a href="ch06.xhtml#ch6ex7">el Listado 6-7</a> y guárdalo como <em>ducha.py</em> en la carpeta <em>declaracionessi</em>.</p>
<p class="indent">Para terminar el programa, añade las coordenadas de tu ducha en las variables <span class="literal">shwrX</span>, <span class="literal">shwrY</span> y <span class="literal">shwrZ</span> <span class="ent">➊.</span> A continuación, añade el tamaño de la ducha en las variables <span class="literal">anchura</span>, <span class="literal">altura</span> y <span class="literal">longitud</span> <span class="ent">➋.</span> He incluido un valor por defecto de 5, pero deberías cambiarlo para que tu ducha tenga el tamaño que tú quieras.</p>
<p class="indent">Termina la sentencia <span class="literal">if</span> para que compruebe si las variables <span class="literal">y</span> y <span class="literal">z</span> están dentro del área de la ducha <span class="ent">➌.</span> He incluido la comprobación de la posición <span class="literal">x</span> para ayudarte<span class="literal">(shwrX &lt; x &lt; shwrX + anchura</span>). Las expresiones para las posiciones <span class="literal">y</span> y <span class="literal">z</span> son similares a ésta. Pista: Querrás combinar todas estas comprobaciones utilizando <span class="literal">y</span>.</p>
<p class="indent">La ducha se enciende y se apaga mediante la función <span class="literal">setBlocks()</span> <span class="ent">➍.</span> Los bloques se establecen en agua (bloque ID 8) para encender la ducha y aire (bloque ID 0) para apagarla.</p>
<p class="indent">Las funciones <span class="literal">setBlocks</span> () de la última declaración <span class="literal">if/else</span> están divididas en dos líneas porque sus argumentos son muy largos. Python te permite hacer esto. Podrían escribirse en una sola línea; yo las escribí en dos para que fueran más fáciles de leer.</p>
<p class="indent">La Figura<a href="ch06.xhtml#ch6fig7">6-7</a> muestra mi ducha funcionando.</p>
<div class="image"><span epub:type="pagebreak" id="page_126"></span><img alt="image" src="../images/f06-07.jpg" translate="no"/></div>
<p class="figcap"><a id="ch6fig7"></a><em>Figura 6-7: Aquí estoy, duchándome.</em></p>
<p class="indent">Cuando ejecutes el programa, creará agua sobre ti si estás de pie en la ducha. El agua no se detendrá hasta que salgas de la ducha y vuelvas a ejecutar el programa. ¡Diviértete!</p>
<div class="sidebar">
<p class="sidebart" id="ch06sb07"><strong>OBJETIVO EXTRA: AHORRAR AGUA</strong></p>
<p class="noindent">Añade un límite de tiempo que apague la ducha después de un tiempo determinado.</p>
</div>
<h3 class="h3" id="ch06lev1sec04"><strong><span class="blue1">Lo que has aprendido</span></strong></h3>
<p class="noindent">Ahora tus programas pueden tomar decisiones. En este capítulo has aprendido a utilizar condiciones con las sentencias <span class="literal">if</span>, <span class="literal">else</span> y <span class="literal">elif</span>. En el <a href="ch07.xhtml#ch07">Capítulo 7</a>, aprenderás sobre los bucles <em>while</em>. Al igual que las sentencias <span class="literal">if</span>, los bucles <span class="literal">while</span> ayudan a tu programa a decidir qué hacer y cuándo. Pero a diferencia de las sentencias <span class="literal">if</span> y <span class="literal">else</span> -que se utilizan para ejecutar código si una condición es verdadera y código diferente si no lo <span class="literal">es-</span>, los bucles while ejecutan código <em>mientras</em> una condición es verdadera y lo siguen ejecutando repetidamente hasta que la condición se convierte en falsa.</p>
</body>
</html>