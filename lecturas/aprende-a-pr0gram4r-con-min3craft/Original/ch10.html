<html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ns="http://www.w3.org/2001/10/synthesis">
<head>
<title>Aprende a programar con Minecraft</title>
<link href="../styles/9781593276706.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:40af8c70-d268-482b-9282-0b537fc6ae71" name="Adept.expected.resource"/>
</head>
<body>
<h2 class="h2" id="ch10"><span epub:type="pagebreak" id="page_199"></span><strong><span class="blue1"><span class="big">10</span></span></strong><br translate="no"/><strong>MAGIA MINECRAFT CON</strong> BUCLES FOR</h2>
<div class="image1"><img alt="image" src="../images/common01.jpg" translate="no"/></div>
<p class="noindent">Ahora es el momento de aprender sobre los bucles <span class="literal">for</span>. Los bucles <span class="literal">for</span> son superútiles porque iteran sobre listas de elementos, como las listas que viste en <a href="ch09.xhtml#ch09">el Capítulo 9</a>. Esto significa que son perfectos cuando quieres utilizar bucles con listas en tus programas. Esto significa que son perfectos cuando quieres utilizar bucles con listas en tus programas.</p>
<p class="indent">Mientras sigues las misiones de este capítulo, utilizarás bucles <span class="literal">for</span> para generar escaleras, pilares, pirámides y paredes curtidas. Con bucles <span class="literal">for</span> anidados y listas, podrás crear pixel art y generar nuevas estructuras en segundos. ¡Los bucles <span class="literal">for</span> son herramientas muy potentes para construir en Minecraft!</p>
<h3 class="h3" id="ch10lev1sec01"><strong><span class="blue1">Un simple bucle for</span></strong></h3>
<p class="noindent">Un bucle <span class="literal">for</span> repite un bloque de código para cada elemento de una lista hasta que ésta termina, en lugar de utilizar una condición como un bucle <span class="literal">while</span> o una sentencia <span class="literal">if</span>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_200"></span>La lista que utilices en una sentencia <span class="literal">for</span> puede contener cualquier número de elementos de cualquier tipo de datos. El bucle <span class="literal">for</span> recorrerá cada uno de ellos en orden, es decir, por su índice. Por ejemplo, para imprimir todos los elementos de la lista de la sopa de fideos, utilizaríamos el código siguiente:</p>
<p class="programs" translate="no">noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>,<br translate="no"/><span class="green">"beef"</span>, <span class="green">"vegetables"</span>]<br translate="no"/><br translate="no"/><span class="orange">for</span> ingredient <span class="orange">in</span> noodleSoup:<br translate="no"/> <span class="rose">print</span>(ingredient)</p>
<p class="indent">Utilizamos el operador <span class="literal">for</span> para indicar a Python que estamos utilizando un bucle.</p>
<p class="indent">Tras el operador <span class="literal">for</span> hay una variable, <span class="literal">ingrediente</span>, que representa el elemento que el bucle está utilizando en ese momento. El valor cambia cada vez que el bucle itera hasta que ha recorrido cada elemento de la lista. La primera vez que se ejecute el bucle, el valor será el elemento en la posición 0 del índice (en este caso <span class="literal">"agua"</span>), la segunda vez el valor será el elemento en el índice 1 (<span class="literal">"salsa de soja"</span>), la tercera vez el valor será el elemento en el índice 2 (<span class="literal">"cebolletas"</span>), y así sucesivamente.</p>
<p class="indent">El operador <span class="literal">in</span> y el nombre de la lista al final de la sentencia indican a Python qué lista estás utilizando. En este ejemplo, el nombre de la lista es <span class="literal">sopa de fideos</span>.</p>
<p class="indent">El bucle se ejecuta una vez por cada elemento de la lista y termina cuando llega al final de la lista. Aquí tienes la salida de este programa:</p>
<p class="programs" translate="no"><span class="blue1">water</span><br translate="no"/><span class="blue1">soy sauce</span><br translate="no"/><span class="blue1">spring onions</span><br translate="no"/><span class="blue1">pepper</span><br translate="no"/><span class="blue1">noodles</span><br translate="no"/><span class="blue1">beef</span><br translate="no"/><span class="blue1">vegetables</span></p>
<p class="indent">Se imprimen todos los elementos de la lista. Ahora vamos a divertirnos un poco con los bucles <span class="literal">for</span> en Minecraft.</p>
<h4 class="h4a" id="ch10lev2sec01"><strong>Misión nº 55: Varita mágica</strong></h4>
<p class="noindent">Cada herramienta en Minecraft tiene su propio propósito. La pala cava tierra, el pico rompe bloques de piedra, el hacha corta madera y la espada golpea a los malos. Normalmente, no puedes cambiar cómo se comportan las herramientas; sólo tienes que aceptar que la espada sólo golpea a los enemigos. Pero con Python, puedes cambiar cómo funcionan las herramientas. En este programa, convertiremos la espada en una varita mágica.</p>
<p class="indent">En el <a href="ch09.xhtml#ch09">Capítulo 9</a>, aprendiste sobre la función <span class="literal">pollBlockHits()</span>. Esta función devuelve una lista de coordenadas de bloque que la espada ha golpeado. Utilizando un bucle <span class="literal">for</span>, puedes acceder a cada conjunto de coordenadas de esta lista. Vamos a convertir en melones todos los bloques que hayamos golpeado en los últimos 60 segundos. Puedes ver cómo funciona en la <a href="ch10.xhtml#ch10fig1">Figura 10-1</a>.</p>
<div class="image"><span epub:type="pagebreak" id="page_201"></span><img alt="image" src="../images/f10-01.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig1"></a><em>Figura 10-1: ¡Abracadabra! Todos los bloques que golpeo son ahora melones.</em></p>
<p class="indent"><a href="ch10.xhtml#ch10ex1">El listado 10-1</a> contiene el inicio del programa. Guárdalo como <em>varita mágica.py</em> en una nueva carpeta llamada <em>forLoops</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>magicWand.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">import</span> time<br translate="no"/><br translate="no"/>   time.sleep(60)<br translate="no"/><br translate="no"/><span class="ent">➊</span> hits = mc.events.pollBlockHits()<br translate="no"/>   block = 103<br translate="no"/><br translate="no"/><span class="ent">➋</span> <span class="orange">for</span><br translate="no"/><span class="ent">➌</span> x, y, z = hit.pos.x, hit.pos.y, hit.pos.z<br translate="no"/><span class="ent">➍</span> <span class="red"># Set melon blocks at the coordinates</span></p>
<p class="examplet"><a id="ch10ex1"></a><em>Listado 10-1: El inicio del programa varita mágica</em></p>
<p class="indent">Para obtener la lista de éxitos de bloque, llamamos a la función <span class="literal">pollBlockHits()</span> y almacenamos el resultado en la variable <span class="literal">éxitos</span> <span class="ent">➊.</span></p>
<p class="indent">Se incluye una línea de código que obtendrá la posición de cualquier bloque que golpees y almacenará sus coordenadas en las variables <span class="literal">x</span>, <span class="literal">y</span>, y <span class="literal">z</span> <span class="ent">➌.</span> Utiliza una tupla (introducida en "<a href="ch09.xhtml#ch09lev1sec04">Tuplas</a>" en <a href="ch09.xhtml#page_179">la página 179</a>) para asignar las tres variables en una sola línea.</p>
<p class="indent">De momento, esta línea de código no funcionará porque la variable <span class="literal">hit</span> no existe. Crea un bucle <span class="literal">for</span> en <span class="ent">➋</span> y llama <span class="literal">hit</span> a la variable del bucle <span class="literal">for</span>. El bucle <span class="literal">for</span> debe iterar sobre la lista de <span class="literal">hits</span>. El código de la primera parte del bucle <span class="literal">for</span> debería tener este aspecto:</p>
<p class="programs" translate="no"><span class="orange">for</span> hit <span class="orange">in</span> hits:</p>
<p class="indent"><span epub:type="pagebreak" id="page_202"></span>Asegúrate de sangrar la línea de código que obtiene los valores <span class="literal">x</span>, <span class="literal">y</span>, y <span class="literal">z</span> dentro del bucle <span class="literal">for</span> en <span class="ent">➌.</span> En la última línea del bucle <span class="literal">for</span>, añade la función <span class="literal">setBlock()</span> para establecer un bloque de melón en las coordenadas x, y y z <span class="ent">➍.</span></p>
<p class="indent">Cuando el usuario ejecute el programa terminado, tendrá 60 segundos para correr y hacer clic con el botón derecho del ratón en todos los bloques que pueda con su espada. Pasados los 60 segundos, todos los bloques que hayan sido golpeados con la espada se convertirán en melones.</p>
<div class="sidebar">
<p class="sidebart" id="ch10sb01"><strong>OBJETIVO EXTRA: ERES UN MAGO</strong></p>
<p class="noindent">Cambia el programa <em>magicWand.py</em> para que teletransporte al jugador: el primer golpe fija la ubicación, y el segundo lo lleva allí.</p>
</div>
<h4 class="h4" id="ch10lev2sec02"><strong><span class="blue1">La función range()</span></strong></h4>
<p class="noindent">La función <span class="literal">range</span> () crea una lista de números enteros. Es una buena forma de crear rápidamente una lista de números para tus bucles <span class="literal">for</span>. Echemos un vistazo y pasemos dos argumentos, 0 y 5, a la función range( <span class="literal">)</span>:</p>
<p class="programs" translate="no">aRange = <span class="rose">range</span>(0, 5)</p>
<p class="indent">Esta es una forma más rápida de crear una lista que escribir cada elemento de la lista individualmente, lo que tendría este aspecto:</p>
<p class="programs" translate="no">aRange = [0, 1, 2, 3, 4]</p>
<p class="indent">Observa que el segundo argumento de la función <span class="literal">range</span> () es 5, pero el último elemento de la lista es 4. Esto se debe a que la función sólo crea valores que sean menores pero no iguales que el segundo argumento.</p>
<p class="indent">Para crear un bucle que utilice la función rango <span class="literal">()</span> para imprimir los números del 1 al 15, utilizarías el siguiente código:</p>
<p class="programs" translate="no"><span class="orange">for</span> item <span class="orange">in</span> <span class="rose">range</span>(1, 16):<br translate="no"/> <span class="rose">print</span>(item)</p>
<p class="indent">Así podrías imprimir el doble del valor de cada elemento de una lista:</p>
<p class="programs" translate="no"><span class="orange">for</span> item <span class="orange">in</span> <span class="rose">range</span>(1, 16):<br translate="no"/> <span class="rose">print</span>(item * 2)</p>
<p class="indent">Puedes hacer lo mismo con un bucle <span class="literal">while</span>, que conociste en el <a href="ch07.xhtml#ch07">Capítulo 7</a>. El siguiente código utiliza un bucle <span class="literal">while</span> en lugar de un bucle <span class="literal">for</span> para imprimir los números del 1 al 15:</p>
<p class="programs" translate="no">count = 1<br translate="no"/><span class="orange">while</span> count &lt; 16:<br translate="no"/> <span class="rose">print</span>(count)<br translate="no"/>    count += 1</p>
<p class="indent"><span epub:type="pagebreak" id="page_203"></span>Observa que el bucle <span class="literal">for</span> es más sencillo y fácil de leer. En programas grandes y complejos, un bucle <span class="literal">for</span> suele ser mejor opción que un bucle <span class="literal">while</span> con <span class="literal">count</span>.</p>
<h4 class="h4a" id="ch10lev2sec03"><strong>Misión nº 56: Escaleras mágicas</strong></h4>
<p class="noindent">Una de las mejores características de usar Minecraft con Python es que puedes construir cosas rápidamente con sólo unas pocas líneas de código. En lugar de pasar mucho tiempo construyendo muros, puedes ejecutar un poco de código y listo. También puedes reutilizar el código tantas veces como quieras, ahorrando tiempo y esfuerzo.</p>
<p class="indent">Construir escaleras es una tarea que suele llevar mucho tiempo. Afortunadamente, con unas pocas líneas de código Python, puedes crear rápidamente una escalera en Minecraft. En esta misión, utilizarás un bucle <span class="literal">for</span> para hacer aparecer una escalera en el mundo del juego.</p>
<p class="indent"><a href="ch10.xhtml#ch10ex2">El listado 10-2</a> crea una escalera en Minecraft utilizando un bucle <span class="literal">while</span>. Guárdalo como <em>escaleras.py</em> en la carpeta <em>forLoops</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>stairs.py</em></span></p>
<p class="programs" translate="no"><span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>mc = Minecraft.create()<br translate="no"/><br translate="no"/>pos = mc.player.getTilePos()<br translate="no"/>x, y, z = pos.x, pos.y, pos.z<br translate="no"/><br translate="no"/>stairBlock = 53<br translate="no"/><br translate="no"/>step = 0<br translate="no"/><span class="orange">while</span> step &lt; 10:<br translate="no"/>    mc.setblock(x + step, y + step, z, stairBlock)<br translate="no"/>    step += 1</p>
<p class="examplet"><a id="ch10ex2"></a><em>Listado 10-2: Programa que</em> crea una escalera utilizando un <em>bucle</em> <span class="literal"><span class="codeitalic">while</span></span> </p>
<p class="indent">Aunque puedes utilizar un bucle <span class="literal">while</span> para este programa, como se muestra aquí, en realidad es más adecuado un bucle <span class="literal">for</span>. A diferencia del bucle <span class="literal">while</span>, un bucle <span class="literal">for</span> no requiere una variable <span class="literal">count</span> o <span class="literal">step</span>. En su lugar, puedes utilizar la función <span class="literal">range()</span> para determinar cuántas veces se repite el bucle.</p>
<p class="indent">Para completar el programa, cambia el código para que utilice un bucle <span class="literal">for</span> en lugar de un bucle <span class="literal">while</span>.</p>
<p class="indent">Puedes ver el resultado del programa en la <a href="ch10.xhtml#ch10fig2">Figura 10-2</a>.</p>
<div class="sidebar">
<p class="sidebart" id="ch10sb02"><strong>OBJETIVO EXTRA: ¿BAJAR?</strong></p>
<p class="noindent">De momento, el programa <em>escaleras.</em> py sólo construye escaleras en una dirección. Intenta averiguar cómo construir escaleras en otras direcciones. Pista: Utilizarás el argumento opcional estados del bloque en la función <span class="literal">setBlock()</span> y añadirás o quitarás variables <span class="literal">x</span> o <span class="literal">z</span>.</p>
</div>
<div class="image"><span epub:type="pagebreak" id="page_204"></span><img alt="image" src="../images/f10-02.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig2"></a><em>Figura 10-2: ¿Adónde llevará tu escalera mágica?</em></p>
<h4 class="h4" id="ch10lev2sec04"><strong><span class="blue1">Jugando con range()</span></strong></h4>
<p class="noindent">Has aprendido un poco sobre la función range( <span class="literal">)</span> y lo que ocurre cuando pasas dos argumentos a la función. ¿Y si le pasas un solo argumento? Introduce este código en el intérprete de comandos IDLE para ver qué ocurre:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> aRange = <span class="rose">range</span>(5)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(aRange)<br translate="no"/><span class="blue1">[0, 1, 2, 3, 4]</span></p>
<p class="indent">Cuando le das a la función rango <span class="literal">(</span> ) un solo argumento, empezará en 0 y almacenará cada valor hasta uno menos que el valor que le pases como argumento. En otras palabras, es como si pasaras 0 como primer argumento y 5 como segundo argumento. En este ejemplo, la función <span class="literal">list(</span> ) muestra los valores de la lista creada por la función <span class="literal">range()</span> (de lo contrario, ¡no los verías!). Como puedes ver, el valor de <span class="literal">list(aRango)</span> es una lista de cinco números que empiezan en 0: <span class="literal">[0, 1, 2, 3, 4]</span>. Ésta es una forma rápida de crear un rango si quieres empezar con 0 como primer valor.</p>
<p class="indent">Como has visto, cuando pasas dos argumentos a <span class="literal">range()</span>, la lista comienza en el primer argumento proporcionado y termina antes del segundo argumento:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> aRange = <span class="rose">range</span>(2, 5)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(aRange)<br translate="no"/><span class="blue1">[2, 3, 4]</span></p>
<p class="indent">Este ejemplo crea un rango equivalente a la lista <span class="literal">[2, 3, 4]</span>.</p>
<p class="indent">Cuando das tres argumentos a range( <span class="literal">)</span>, el tercer argumento define el <em>paso</em> entre elementos. Normalmente, cada valor de la lista creada por la función range <span class="literal">(</span> ) es uno mayor que el valor anterior. Al cambiar el paso, cambias la diferencia entre valores. Por ejemplo, un paso de 2 haría que <span epub:type="pagebreak" id="page_205"></span>el siguiente valor de una lista fuera 2 más que el elemento anterior. Un paso de 3 lo haría 3 más que el elemento anterior, y así sucesivamente.</p>
<p class="indent">Por ejemplo, esta lista suma 2 al valor anterior para obtener el siguiente valor:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> aRange = <span class="rose">range</span>(3, 10, 2)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(aRange)<br translate="no"/><span class="blue1">[3, 5, 7, 9]</span></p>
<p class="indent">Observa que cada elemento es 2 más que el elemento anterior (5 es 3 + 2, 7 es 5 + 2 y 9 es 7 + 2).</p>
<p class="indent">Incluso puedes dar a <span class="literal">range(</span> ) un valor de paso negativo, como éste:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> newRange = <span class="rose">range</span>(100, 0, -2)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(newRange)<br translate="no"/><span class="blue1">[100, 98, 96, 94, 92, 90, 88, 86, 84, 82, 80, 78, 76, 74, 72, 70, 68, 66, 64,</span><br translate="no"/><span class="blue1">62, 60, 58, 56, 54, 52, 50, 48, 46, 44, 42, 40, 38, 36, 34, 32, 30, 28, 26,</span><br translate="no"/><span class="blue1">24, 22, 20, 18, 16, 14, 12, 10, 8, 6, 4, 2]</span></p>
<p class="indent">Observa que los valores de la lista disminuyen en 2 debido al valor de paso negativo.</p>
<h3 class="h3" id="ch10lev1sec02"><strong><span class="blue1">Otras funciones de lista</span></strong></h3>
<p class="noindent">Como estamos trabajando con listas, vamos a explorar algunas otras funciones diseñadas para interactuar con listas.</p>
<p class="indent">La función <span class="literal">invertida(</span> ) toma un argumento, la lista que quieras utilizar, y devuelve la lista invertida. El último elemento será el primero, el penúltimo será el segundo, y así sucesivamente. Vamos a invertir una lista anterior:</p>
<p class="programs" translate="no"><span class="mer">&gt;&gt;&gt;</span> backwardsList = <span class="rose">reversed</span>(aRange)<br translate="no"/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(backwardsList)<br translate="no"/><span class="blue1">[9, 7, 5, 3]</span></p>
<p class="indent">Los elementos de la lista se han invertido, tal y como queríamos. Este tipo de manipulación de listas resulta útil cuando escribes bucles <span class="literal">for</span>.</p>
<p class="indent">El siguiente ejemplo genera una lista de números del 1 al 100 utilizando la función <span class="literal">range()</span>. A continuación, invierte la lista y la imprime utilizando un bucle <span class="literal">for</span>, creando de hecho una cuenta atrás del 100 al 1:</p>
<p class="programs" translate="no">countDown = <span class="rose">range</span>(1, 101)<br translate="no"/>countDown = <span class="rose">reversed</span>(countDown)<br translate="no"/><span class="orange">for</span> item <span class="orange">in</span> countDown:<br translate="no"/> <span class="rose">print</span>(item)</p>
<p class="indent">¡Ejecútalo para ver el resultado!</p>
<p class="programs" translate="no"><span class="blue1">100</span><br translate="no"/><span class="blue1">99</span><br translate="no"/><span class="blue1">98</span><br translate="no"/><span class="blue1">97</span><br translate="no"/><span class="blue1">96</span><br translate="no"/>--<span class="codeitalic">snip</span>--<br translate="no"/><span class="blue1">3</span><br translate="no"/><span class="blue1">2</span><br translate="no"/><span class="blue1">1</span></p>
<p class="indent"><span epub:type="pagebreak" id="page_206"></span>También puedes invertir la lista cuando declares el bucle <span class="literal">for</span> sin necesidad de una variable para almacenar la lista:</p>
<p class="programs" translate="no"><span class="orange">for</span> item <span class="orange">in</span> <span class="rose">reversed</span>(<span class="rose">range</span>(0, 101)):<br translate="no"/> <span class="rose">print</span>(item)</p>
<p class="indent">Este programa requiere menos líneas de código, pero tiene el mismo efecto. ¡Utiliza este truco para ahorrar tiempo y poder centrarte en construir!</p>
<h4 class="h4a" id="ch10lev2sec05"><strong>Misión nº 57: Pilares</strong></h4>
<p class="noindent">¿No sería genial construir un palacio en Minecraft? Como los palacios deben ser grandiosos, el nuestro debería tener filas de pilares altos e imponentes. Obviamente, no queremos construirlos a mano, así que utilizar un bucle para construirlos es la mejor solución.</p>
<p class="indent">Crearemos una función que construya un pilar y luego llamaremos a la función cuando queramos construir uno. <a href="ch10.xhtml#ch10ex3">El listado 10-3</a> contiene la función para construir un pilar. Cópiala en un nuevo archivo llamado <em>pilares.py</em> y guárdalo en la carpeta <em>forLoops</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>pillars.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">def</span> <span class="blue1">setPillar</span>(x, y, z, height):<br translate="no"/> <span class="green">""" Creates a pillar. Args set position and height of pillar """</span><br translate="no"/>       stairBlock = 156<br translate="no"/>       block = 155<br translate="no"/><br translate="no"/> <span class="red"># Pillar top</span><br translate="no"/>       mc.setBlocks(x - 1, y + height, z - 1, x + 1, y + height, z + 1, block, 1)<br translate="no"/>       mc.setBlock(x - 1, y + height - 1, z, stairBlock, 12)<br translate="no"/>       mc.setBlock(x + 1, y + height - 1, z, stairBlock, 13)<br translate="no"/>       mc.setBlock(x, y + height - 1, z + 1, stairBlock, 15)<br translate="no"/>       mc.setBlock(x, y + height - 1, z - 1, stairBlock, 14)<br translate="no"/><br translate="no"/> <span class="red"># Pillar base</span><br translate="no"/>       mc.setBlocks(x - 1, y, z - 1, x + 1, y, z + 1, block, 1)<br translate="no"/>       mc.setBlock(x - 1, y + 1, z, stairBlock, 0)<br translate="no"/>       mc.setBlock(x + 1, y + 1, z, stairBlock, 1)<br translate="no"/>       mc.setBlock(x, y + 1, z + 1, stairBlock, 3)<br translate="no"/>       mc.setBlock(x, y + 1, z - 1, stairBlock, 2)<br translate="no"/><br translate="no"/> <span class="red"># Pillar column</span><br translate="no"/>       mc.setBlocks(x, y, z, x, y + height, z, block, 2)<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x, y, z = pos.x + 2, pos.y, pos.z<br translate="no"/><br translate="no"/><span class="ent">➊</span> <span class="red"># Add the for loop here</span><br translate="no"/><span class="ent">➋</span> <span class="red"># Call the function here</span></p>
<p class="examplet"><span epub:type="pagebreak" id="page_207"></span><a id="ch10ex3"></a><em>Listado 10-3: Función que crea un pilar</em></p>
<p class="indent">La función <span class="literal">setPillar(</span> ) crea un pilar. Toma cuatro argumentos: las coordenadas x, y, z y la altura del pilar.</p>
<p class="indent">Para terminar el programa, añade un bucle <span class="literal">for</span> <span class="ent">➊</span> que llame a la función <span class="literal">setPillar</span> () <span class="ent">➋.</span> Queremos crear una fila de 20 pilares separados entre sí 5 manzanas. Para ello, utiliza una función <span class="literal">range</span> () con tres argumentos para determinar cuántos pilares se crearán y a qué distancia estarán. Añadiendo los valores almacenados en la variable del bucle <span class="literal">for</span> a la variable <span class="literal">x</span> o <span class="literal">z</span> en la llamada a la función <span class="literal">setPillar()</span>, puedes hacer que cada pilar esté a la misma distancia.</p>
<p class="indent"><a href="ch10.xhtml#ch10fig3">La Figura 10-3</a> muestra algunos de los pilares.</p>
<div class="image"><img alt="image" src="../images/f10-03.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig3"></a><em>Figura 10-3: Una brillante fila de pilares</em></p>
<h4 class="h4a" id="ch10lev2sec06"><strong>Misión nº 58: Pirámide</strong></h4>
<p class="noindent">Siguiendo con el tema de construir cosas increíbles con bucles <span class="literal">for</span>, vamos a construir una pirámide. Una pirámide se compone de muchos niveles. El nivel inferior es el más ancho, y el superior -la cúspide- es el más estrecho. Cada nivel es un cuadrado de bloques. Haremos una pirámide que sea dos bloques más estrecha en cada nivel. Por ejemplo, si el nivel base tiene siete bloques de ancho, el siguiente nivel tendría cinco bloques de ancho, luego tres bloques y, por último, el nivel superior tendría un bloque de ancho.</p>
<p class="indent"><a href="ch10.xhtml#ch10ex4">El listado 10-4</a> crea una pirámide. Cópialo en un nuevo archivo llamado <em>pirámide.py</em> y guárdalo en la carpeta <em>forLoops</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>pyramid.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/>   block = 24 <span class="red"># sandstone</span><br translate="no"/><span class="ent">➊</span> height = 10<br translate="no"/><span class="ent">➋</span> levels = <span class="rose">range</span>(height)<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/><span class="ent">➌</span> x, y, z = pos.x + height, pos.y, pos.z<br translate="no"/><br translate="no"/><span class="ent">➍</span> <span class="orange">for</span> level <span class="orange">in</span> levels:<br translate="no"/><span class="ent">➎</span>     mc.setBlocks(x - level, y, z - level, x + level, y, z + level, block)<br translate="no"/>       y += 1</p>
<p class="examplet"><span epub:type="pagebreak" id="page_208"></span><a id="ch10ex4"></a><em>Listado 10-4: Un programa pirámide al revés</em></p>
<p class="indent">Aunque <a href="ch10.xhtml#ch10ex4">el Listado 10-4</a> crea una pirámide, ¡contiene un pequeño error que debes corregir! Almacenamos la altura de la pirámide en la variable <span class="literal">altura</span> <span class="ent">➊.</span> Puedes cambiar el valor de la variable <span class="literal">altura</span> por el que quieras. La variable <span class="literal">niveles</span> utiliza la función <span class="literal">range()</span> para crear una lista que contenga un elemento por cada nivel de la pirámide <span class="ent">➋.</span> La variable <span class="literal">altura</span> se añade a la coordenada x del jugador cuando establecemos las variables <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span> <span class="ent">➌.</span> Si no hiciéramos esto, el jugador quedaría atrapado en el centro de la pirámide cuando se construyera.</p>
<p class="indent">El bucle <span class="literal">for</span> itera por cada <span class="literal">nivel</span> de la lista de <span class="literal">niveles</span> <span class="ent">➍.</span> La línea de código que crea cada nivel de la pirámide utiliza la variable <span class="literal">nivel</span> para calcular la anchura de cada cuadrado de bloques que crea <span class="ent">➎.</span> La anchura y la longitud de cada nivel de la pirámide serán siempre el doble del tamaño de la variable de <span class="literal">nivel</span>.</p>
<p class="indent">¿Recuerdas el error que he mencionado antes? Ejecuta el programa para ver cuál es el problema. ¡La pirámide está al revés!</p>
<p class="indent">Para solucionar este problema y hacer que la pirámide esté al derecho, tendrás que utilizar la función <span class="literal">invertida()</span> en la variable <span class="literal">niveles</span> para hacer una lista que se haga más pequeña con el tiempo. O puedes ser astuto y llamar a la función <span class="literal">range</span> () con un valor negativo.</p>
<p class="indent">La<a href="ch10.xhtml#ch10fig4">Figura 10-4</a> muestra la pirámide terminada.</p>
<div class="image"><img alt="image" src="../images/f10-04.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig4"></a><em>Figura 10-4: Una magnífica pirámide</em></p>
<h3 class="h3" id="ch10lev1sec03"><span epub:type="pagebreak" id="page_209"></span><strong><span class="blue1">Bucle sobre un diccionario</span></strong></h3>
<p class="noindent">También puedes utilizar un bucle <span class="literal">for</span> para recorrer un diccionario. Cuando utilices un diccionario con un bucle <span class="literal">for</span>, la sintaxis es la misma que la de un bucle <span class="literal">for</span> con una lista; sin embargo, el bucle sólo iterará a través de las claves del diccionario.</p>
<p class="indent">Por ejemplo, el siguiente código imprime la variable del bucle <span class="literal">for</span> cada vez que el bucle itera. En este caso, imprime la clave de cada elemento del diccionario:</p>
<p class="programs" translate="no">inventory = {<span class="green">'gems'</span>: 5, <span class="green">'potions'</span>: 2, <span class="green">'boxes'</span>: 1}<br translate="no"/><br translate="no"/><span class="orange">for</span> key <span class="orange">in</span> inventory:<br translate="no"/> <span class="rose">print</span>(key)</p>
<p class="indent">Este código imprime lo siguiente:</p>
<p class="programs" translate="no"><span class="blue1">gems</span><br translate="no"/><span class="blue1">potions</span><br translate="no"/><span class="blue1">boxes</span></p>
<p class="indent">Para imprimir el valor asociado a cada elemento del diccionario, debes utilizar la sintaxis <span class="literal">diccionario[clave]</span>. Aquí tienes cómo cambiar el código para que imprima el valor de cada elemento además de la clave:</p>
<p class="programs" translate="no">inventory = {<span class="green">'gems'</span>: 5, <span class="green">'potions'</span>: 2, <span class="green">'boxes'</span>: 1}<br translate="no"/><br translate="no"/><span class="orange">for</span> key <span class="orange">in</span> inventory:<br translate="no"/> <span class="rose">print</span>(key + <span class="green">" "</span> + <span class="rose">str</span>(inventory[key]))</p>
<p class="indent">Este ejemplo muestra ahora lo siguiente:</p>
<p class="programs" translate="no"><span class="blue1">gems 5</span><br translate="no"/><span class="blue1">potions 2</span><br translate="no"/><span class="blue1">boxes 1</span></p>
<p class="indent">Observa que esta salida es mucho más fácil de leer que el propio diccionario. Al utilizar un bucle para mostrar los valores de un diccionario, tienes mucho más control sobre cómo se muestra la información.</p>
<h4 class="h4a" id="ch10lev2sec07"><strong>Misión 59: Marcador</strong></h4>
<p class="noindent">Recuerda el juego <em>swordHitsScore.</em> py de la Misión 54<a href="ch09.xhtml#page_196">(página 196</a>). El juego registraba el número de bloques que un jugador golpeaba en un minuto. La puntuación se almacenaba en un diccionario junto con el nombre del jugador. Aunque el programa funcionaba bien, el marcador que aparecía al final del programa no mostraba las puntuaciones y los nombres en un formato muy legible. Sólo imprimía un diccionario sin ningún formato.</p>
<p class="indent">Para mejorar el programa, en esta misión modificarás <em>swordHitsScore.</em> py para que imprima el diccionario <span class="literal">del</span> marcador en un formato fácil de leer. Para ello, utilizarás un bucle <span class="literal">for</span>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_210"></span>Abre tu programa <em>swordHitsScore.</em> py (debe estar en la carpeta <em>listas</em> ) y guárdalo como <em>scoreBoard.</em> py en la carpeta <em>forLoops</em>. En el programa, busca y borra esta línea:</p>
<p class="programs" translate="no"><span class="rose">print</span>(scoreboard)</p>
<p class="indent">Sustituye esta línea por un bucle <span class="literal">for</span> que imprima el nombre de cada jugador y su puntuación. Estos valores se almacenan en el diccionario <span class="literal">del marcador</span>: el nombre de cada jugador es una clave del diccionario, y su puntuación es el valor de la clave.</p>
<p class="indent">La<a href="ch10.xhtml#ch10fig5">Figura 10-5</a> muestra la salida actualizada.</p>
<div class="image"><img alt="image" src="../images/f10-05.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig5"></a><em>Figura 10-5: La salida del programa es ahora más fácil de leer.</em></p>
<h3 class="h3" id="ch10lev1sec04"><strong><span class="blue1">Bucles for-else</span></strong></h3>
<p class="noindent">También puedes utilizar la sentencia <span class="literal">else</span> con un bucle <span class="literal">for</span>. Cuando utilizas <span class="literal">else</span> con un bucle <span class="literal">for</span>, se ejecuta después de que el bucle <span class="literal">for</span> llegue al final de la lista. Si el bucle <span class="literal">for</span> no llega al final de su lista, la sentencia <span class="literal">else</span> no se ejecutará.</p>
<p class="indent">Por ejemplo, aquí tienes un trozo de código que imprime los ingredientes de un bocadillo y luego utiliza una sentencia <span class="literal">else</span>:</p>
<p class="programs" translate="no">sandwich = [<span class="green">"Bread"</span>, <span class="green">"Butter"</span>, <span class="green">"Tuna"</span>, <span class="green">"Lettuce"</span>, <span class="green">"Mayonnaise"</span>, <span class="green">"Bread"</span>]<br translate="no"/><br translate="no"/><span class="orange">for</span> ingredient <span class="orange">in</span> sandwich:<br translate="no"/> <span class="rose">print</span>(ingredient)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"This is the end of the sandwich."</span>)</p>
<p class="indent">Cuando ejecutas este código, imprime lo siguiente:</p>
<p class="programs" translate="no"><span class="blue1">Bread</span><br translate="no"/><span class="blue1">Butter</span><br translate="no"/><span class="blue1">Tuna</span><br translate="no"/><span class="blue1">Lettuce</span><br translate="no"/><span class="blue1">Mayonnaise</span><br translate="no"/><span class="blue1">Bread</span><br translate="no"/><span class="blue1">This is the end of the sandwich.</span></p>
<p class="indent"><span epub:type="pagebreak" id="page_211"></span>Podrías pensar que este código es lo mismo que escribir lo siguiente:</p>
<p class="programs" translate="no"><span class="orange">for</span> ingredient <span class="orange">in</span> sandwich:<br translate="no"/> <span class="rose">print</span>(ingredient)<br translate="no"/><span class="rose">print</span>(<span class="green">"This is the end of the sandwich."</span>)</p>
<p class="indent">Pues sí. Ambos trozos de código harán lo mismo. Entonces, ¿qué sentido tiene utilizar <span class="literal">else</span> con un bucle <span class="literal">for</span>? Bueno, cuando se utiliza con una sentencia <span class="literal">break</span>, la sentencia <span class="literal">else</span> se comportará de forma diferente. Veámoslo a continuación.</p>
<h4 class="h4" id="ch10lev2sec08"><strong><span class="blue1">Romper un bucle for-else</span></strong></h4>
<p class="noindent">Utilizar una sentencia <span class="literal">break</span> para salir de un bucle <span class="literal">for</span> es una forma de evitar que se ejecute la sentencia <span class="literal">else</span>.</p>
<p class="indent">El siguiente ejemplo incorpora una sentencia <span class="literal">break</span> dentro de una sentencia <span class="literal">if</span>. El bucle se romperá si el elemento actual es <span class="literal">"Mayonesa"</span>:</p>
<p class="programs" translate="no">sandwich = [<span class="green">"Bread"</span>, <span class="green">"Butter"</span>, <span class="green">"Tuna"</span>, <span class="green">"Lettuce"</span>, <span class="green">"Mayonnaise"</span>, <span class="green">"Bread"</span>]<br translate="no"/><br translate="no"/><span class="orange">for</span> ingredient <span class="orange">in</span> sandwich:<br translate="no"/> <span class="orange">if</span> ingredient == <span class="green">"Mayonnaise"</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"I don't like mayonnaise on my sandwich."</span>)<br translate="no"/> <span class="orange">break<br translate="no"/>    else</span>:<br translate="no"/> <span class="rose">print</span>(ingredient)<br translate="no"/><span class="orange">else</span>:<br translate="no"/> <span class="rose">print</span>(<span class="green">"This is the end of the sandwich."</span>)</p>
<p class="indent">¿Puedes predecir cuál será la salida? Piénsalo antes de ejecutar este código, y luego ejecútalo a ver qué pasa.</p>
<h4 class="h4a" id="ch10lev2sec09"><strong>Misión nº 60: El buscador de diamantes</strong></h4>
<p class="noindent">A veces, cuando juego a Minecraft con amigos, no me dejan utilizar programas Python para generar bloques de diamantes. Pero sigo necesitando diamantes para armaduras, herramientas y para construir castillos de diamantes. Excavar en busca de diamantes es bastante fácil, pero no siempre los encuentras.</p>
<p class="indent">Para ahorrar algo de tiempo, escribí un programa que comprueba si hay algún mineral de diamante directamente debajo de mí. El programa obtiene mi posición actual y luego utiliza un bucle <span class="literal">for</span> para comprobar uno a uno los bloques que hay debajo de mí para ver si son mineral de diamante. Si se encuentra mineral de diamante, el programa me dice a qué profundidad está el mineral; si no se encuentra mineral de diamante, el programa publica un mensaje para decirme que no hay mineral de diamante debajo de mí.</p>
<p class="indent"><span epub:type="pagebreak" id="page_212"></span>Crea un nuevo programa y guárdalo como <em>diamondSurvey.py</em> en la carpeta <em>forLoops</em>.</p>
<p class="indent">Utiliza un bucle <span class="literal">for</span> para cambiar el valor de la variable <span class="literal">y</span> en -1 cada vez que el bucle itere. En total, el bucle debe repetirse 50 veces para comprobar 50 bloques de profundidad. En cada iteración, utiliza una sentencia <span class="literal">if</span> para comprobar si el bloque en esa posición es mineral de diamante (bloque ID 56). Si es un bloque de mineral de diamante, envía un mensaje al chat para decir a qué distancia está el bloque por debajo del jugador y rompe el bucle. Si no se encuentran bloques de mineral de diamante, utiliza una sentencia <span class="literal">else</span> en tu bucle <span class="literal">for</span> para enviar un mensaje que diga que no hay bloques de mineral de diamante directamente debajo del jugador.</p>
<p class="indent">La<a href="ch10.xhtml#ch10fig6">Figura 10-6</a> muestra el programa en funcionamiento.</p>
<div class="image"><img alt="image" src="../images/f10-06.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig6"></a><em>Figura 10-6: Parece que hay un bloque de mineral de diamante cuatro bloques por debajo de mí. ¡Es hora de empezar a cavar!</em></p>
<div class="sidebar">
<p class="sidebart" id="ch10sb03"><strong>OBJETIVO EXTRA: ORO EN LAS COLINAS</strong></p>
<p class="noindent">Cambia el programa <em>diamondSurvey.</em> py para que busque también otros bloques de mineral, como mineral de hierro o mineral de oro.</p>
</div>
<h3 class="h3" id="ch10lev1sec05"><strong><span class="blue1">Bucles for anidados y listas multidimensionales</span></strong></h3>
<p class="noindent">Dentro de tus programas, puedes utilizar varias listas juntas por diversas razones. Es posible incluir listas dentro de listas, que se denominan listas <em>multidimensionales</em>. En esta sección, utilizaremos listas bidimensionales (2D) y tridimensionales (3D) para construir estructuras en Minecraft.</p>
<h4 class="h4" id="ch10lev2sec10"><span epub:type="pagebreak" id="page_213"></span><strong><span class="blue1">Pensar en dos dimensiones</span></strong></h4>
<p class="noindent">Ya has aprendido a escribir listas, concretamente listas <em>unidimensionales</em>. Se llaman listas unidimensionales porque cada posición de la lista contiene un solo elemento.</p>
<p class="indent">Por ejemplo, mira la siguiente lista, llamada lista <span class="literal">unidimensionalArcoiris</span>. El formato de esta lista es un poco diferente sólo para destacar que cada posición contiene un único elemento; por lo demás, es igual que otras listas con las que hayas trabajado:</p>
<p class="programs" translate="no">oneDimensionalRainbowList = [0,<br translate="no"/>                             1,<br translate="no"/>                             2,<br translate="no"/>                             3,<br translate="no"/>                             4,<br translate="no"/>                             5]</p>
<p class="indent">Hay seis elementos en esta lista: los números del 0 al 5. Cada elemento de la lista tiene un único valor, por lo que la lista es unidimensional.</p>
<p class="indent"><a href="ch10.xhtml#ch10ex5">El listado 10-5</a> muestra esta lista en Minecraft como bloques de lana. El archivo del programa, <em>rainbowStack1.py</em>, está disponible en los recursos del libro. Descarga los archivos de código de <em><a href="https://www.nostarch.com/programwithminecraft/">https://www.nostarch.com/programwithminecraft/</a></em> o escríbelo tú mismo y ¡juega!</p>
<p class="sidenote" translate="no"><span class="blue"><em>rainbowStack1.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/><span class="ent">➊</span> oneDimensionalRainbowList = [0, 1, 2, 3, 4, 5]<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x = pos.x<br translate="no"/>   y = pos.y<br translate="no"/>   z = pos.z<br translate="no"/><br translate="no"/><span class="ent">➋</span> <span class="orange">for</span> color <span class="orange">in</span> oneDimensionalRainbowList:<br translate="no"/>       mc.setBlock(x, y, z, 35, color)<br translate="no"/>       y += 1</p>
<p class="examplet"><a id="ch10ex5"></a><em>Listado 10-5: Construir una pila arco iris de bloques</em></p>
<p class="indent">El programa crea una lista de colores de bloques <span class="ent">➊</span> y luego utiliza un bucle <span class="literal">for</span> para crear una pila de bloques de lana con colores basados en los colores de la lista <span class="ent">➋.</span></p>
<p class="indent">Cuando ejecutes el programa, obtendrás una única pila de bloques de lana, como puedes ver en la <a href="ch10.xhtml#ch10fig7">Figura 10-7</a>. Observa que la pila tiene seis bloques de alto y uno de ancho. Has utilizado las variables <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span> a lo largo de este libro. Cada una de estas variables también puede denominarse <em>dimensión</em>. Este programa crea una pila de seis bloques en la dimensión y. Cambiando la variable <span class="literal">x</span> en la última línea del código en lugar de la variable <span class="literal">y</span>, puedes construir una pila de bloques en la dimensión x, que puedes ver en la <a href="ch10.xhtml#ch10fig8">Figura 10-8</a>.</p>
<div class="image"><span epub:type="pagebreak" id="page_214"></span><img alt="image" src="../images/f10-07.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig7"></a>Figura 10-7:<em>La pila arco iris de bloques creada por</em> rainbowStack1.py</p>
<div class="image"><img alt="image" src="../images/f10-08.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig8"></a>Figura<em>10-8: Cambiando la</em> <em>variable</em> <span class="literal"><span class="codeitalic">y</span></span> <em>por la</em> <em>variable</em> <span class="literal"><span class="codeitalic">x</span></span> <em>en la última línea del programa se construyen los bloques en una fila horizontal.</em></p>
<p class="indent">Como la lista es unidimensional, sólo puedes cambiar el valor de una variable de una dimensión cada vez. En otras palabras, puedes cambiar el valor de la variable <span class="literal">y</span>, de la variable <span class="literal">x</span> o de la variable <span class="literal">z</span>, pero no puedes cambiarlas todas a la vez.</p>
<p class="indent">Así que, ¡es hora de empezar a pensar en dos dimensiones! Las listas unidimensionales te permiten tener una sola lista con un solo valor en cada posición, pero las listas bidimensionales te permiten tener muchos valores en cada posición de una lista. Para ello, coloca una lista en cada posición de la lista original, como se indica a continuación.</p>
<p class="programs" translate="no"><span epub:type="pagebreak" id="page_215"></span><span class="ent">➊</span> twoDimensionalRainbowList = [[0, 0, 0],<br translate="no"/><span class="ent">➋</span>                              [1, 1, 1],<br translate="no"/><span class="ent">➌</span>                              [2, 2, 2],<br translate="no"/>                                [3, 3, 3],<br translate="no"/>                                [4, 4, 4],<br translate="no"/><span class="ent">➍</span>                              [5, 5, 5]]</p>
<p class="indent">Fíjate bien y verás un corchete de apertura en la primera línea, seguido de una lista llena de ceros y luego una coma <span class="ent">➊.</span> ¡Eso es una lista dentro de otra lista! Podemos llamar <em>lista exterior</em> a la lista principal y decir que contiene <em>listas anidadas</em>.</p>
<p class="indent">En la posición de índice 1 hay una lista que contiene tres 1 <span class="ent">➋.</span> En la posición de índice 2 hay otra lista, que contiene tres 2 <span class="ent">➌.</span> Esto se repite en cada línea. En la última línea hay una lista de tres 5s, seguida de un corchete, que cierra la lista exterior <span class="ent">➍.</span> Este código muestra una lista con seis elementos, cada uno de los cuales es también una lista. ¡Se trata de una lista bidimensional!</p>
<p class="indent">Entenderás mejor las listas bidimensionales cuando las utilices en Minecraft. Veamos un ejemplo. Modificando <em>rainbowStack1.py</em>, podemos hacer que funcione con la lista bidimensional. Este nuevo programa se llama <em>rainbowRows.py</em>:</p>
<p class="sidenote" translate="no"><span class="blue"><em>rainbowRows.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/>   twoDimensionalRainbowList = [[0, 0, 0],<br translate="no"/>                                [1, 1, 1],<br translate="no"/>                                [2, 2, 2],<br translate="no"/>                                [3, 3, 3],<br translate="no"/>                                [4, 4, 4],<br translate="no"/>                                [5, 5, 5]]<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x = pos.x<br translate="no"/>   y = pos.y<br translate="no"/>   z = pos.z<br translate="no"/><br translate="no"/><span class="ent">➊</span> startingX = x<br translate="no"/><br translate="no"/><span class="ent">➋</span> <span class="orange">for</span> row <span class="orange">in</span> twoDimensionalRainbowList:<br translate="no"/><span class="ent">➌</span> <span class="orange">for</span> color <span class="orange">in</span> row:<br translate="no"/><span class="ent">➍</span>         mc.setBlock(x, y, z, 35, color)<br translate="no"/><span class="ent">➎</span>         x += 1<br translate="no"/><span class="ent">➏</span>     y += 1<br translate="no"/><span class="ent">➐</span>     x = startingX</p>
<p class="indent">Antes de explicar el código, mira la <a href="ch10.xhtml#ch10fig9">Figura 10-9</a> para ver la salida de <em>rainbowRows</em>.py, que es un conjunto de bloques de seis bloques de alto en la dimensión y y tres bloques de ancho en la dimensión x.</p>
<div class="image"><span epub:type="pagebreak" id="page_216"></span><img alt="image" src="../images/f10-09.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig9"></a><em>Figura 10-9: Uso de una lista bidimensional para hacer un muro arco iris</em></p>
<p class="indent">Como estamos trabajando con dos dimensiones, necesitamos dos bucles <span class="literal">for</span> para dar salida a los valores de la lista <span class="literal">bidimensionalRainbowList</span>. El primer bucle itera por cada elemento de la lista exterior <span class="ent">➋.</span> El segundo bucle <span class="ent">➌,</span> llamado bucle <em>anidado</em> porque está dentro de otro bucle, recorre cada elemento de cada lista anidada.</p>
<p class="indent">Por ejemplo, la primera vez que se ejecuta el bucle externo, obtiene el elemento almacenado en la posición índice 0 de la lista <span class="literal">bidimensionalRainbowList</span> y lo almacena en una variable llamada <span class="literal">fila</span> <span class="ent">➋.</span> El valor de <span class="literal">row</span> es <span class="literal">[0, 0, 0]</span> porque es el primer elemento de la lista.</p>
<p class="indent">A continuación, el segundo bucle recorre cada elemento de <span class="literal">la</span> lista fila y lo almacena en la variable <span class="literal">color</span> <span class="ent">➌.</span> En este caso, cada elemento será 0. A continuación, el programa coloca los bloques utilizando la variable de <span class="literal">color</span> para determinar el color de cada bloque de lana <span class="ent">➍.</span> El bucle anidado finaliza cuando ha colocado los tres bloques de esa fila, y entonces el bucle exterior se ejecuta de nuevo. A continuación, el bucle externo se desplaza a la posición de índice 1 y almacena el valor en la variable de <span class="literal">fila</span>, que ahora es <span class="literal">[1, 1, 1]</span>. A continuación, ejecuta de nuevo el bucle anidado para establecer los bloques e itera de nuevo hasta llegar al final de la lista <span class="literal">TwoDimensionalRainbowList</span>.</p>
<p class="indent">Cuando trabajas en dos dimensiones, puedes cambiar dos variables de coordenadas al mismo tiempo. En este ejemplo, incrementamos la variable <span class="literal">y</span> en la penúltima línea del bucle <span class="literal">for</span> exterior <span class="ent">➏</span> para que cada fila de bloques se coloque encima de la fila anterior. También incrementamos la variable <span class="literal">x</span> dentro del bucle <span class="literal">for</span> anidado <span class="ent">➎</span> para asegurarnos de que los bloques se colocan en fila. Luego tenemos que restablecer la variable <span class="literal">x</span> a su valor original (que se almacena en la variable <span class="literal">startingX</span> <span class="ent">➊)</span> cada vez que itere el bucle <span class="literal">for</span> exterior <span class="ent">➐.</span> Restablecer la variable <span class="literal">x</span> hace que el primer bloque de cada fila se coloque directamente encima del primer bloque de la fila anterior, y así sucesivamente, para que las filas se alineen correctamente entre sí.</p>
<h4 class="h4" id="ch10lev2sec11"><span epub:type="pagebreak" id="page_217"></span><strong><span class="blue1">Acceder a valores en listas 2D</span></strong></h4>
<p class="noindent">Cuando obtengas o establezcas un valor en una lista unidimensional, utiliza corchetes y la posición del índice. Por ejemplo, este código crea una lista llamada <span class="literal">puntuaciones</span> que registra las puntuaciones de un jugador, y luego cambia el elemento en la posición índice 2 de 6 a 7:</p>
<p class="programs" translate="no">scores = [1, 5, 6, 1]<br translate="no"/>scores[2] = 7</p>
<p class="indent">Utilizar o cambiar valores en una lista bidimensional no es muy diferente. Sigues utilizando corchetes y la posición del índice, pero como estás accediendo a dos listas al mismo tiempo, utilizas dos conjuntos de índices y corchetes. ¡Echemos un vistazo!</p>
<p class="indent">Aquí está la lista que has visto antes:</p>
<p class="programs" translate="no">twoDimensionalRainbowList = [[0, 0, 0],<br translate="no"/>                             [1, 1, 1},<br translate="no"/>                             [2, 2, 2],<br translate="no"/>                             [3, 3, 3],<br translate="no"/>                             [4, 4, 4],<br translate="no"/>                             [5, 5, 5]]</p>
<p class="indent">Si quisiéramos cambiar el segundo elemento (posición de índice 1) de la primera lista (posición de índice 0) al valor 7, utilizaríamos este código:</p>
<p class="programs" translate="no">twoDimensionalRainbowList[0][1] = 7</p>
<p class="indent">Como estamos utilizando dos listas y una lista está anidada dentro de la otra, necesitamos utilizar dos conjuntos de corchetes. El primero recoge la posición 0 del índice de la lista <span class="literal">TwoDimensionalRainbowList</span>, que es su primera lista anidada. En el segundo corchete ponemos la posición de índice a la que queremos acceder en la lista anidada, 1. A continuación, establecemos el valor de esta posición en 7 utilizando el signo igual.</p>
<p class="indent">Añadí este código al programa <em>rainbowRows.py</em><a href="ch10.xhtml#page_215">(página 215</a>) y lo volví a ejecutar. <a href="ch10.xhtml#ch10fig10">La Figura 10-10</a> muestra el resultado. Observa que el segundo bloque de la primera fila ha cambiado porque hemos cambiado el valor de la lista anidada a 7.</p>
<p class="indent">Si quisieras obtener el valor de un elemento de una lista bidimensional, también utilizarías dos conjuntos de corchetes. Por ejemplo, si quisieras imprimir el valor de la primera posición (índice 0) de la última fila (índice 5), utilizarías este código:</p>
<p class="programs" translate="no"><span class="rose">print</span>(twoDimensionalRainbowList[5][0])</p>
<p class="indent">Este código imprime el valor 5.</p>
<div class="image"><span epub:type="pagebreak" id="page_218"></span><img alt="image" src="../images/f10-10.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig10"></a><em>Figura 10-10: Cambiar uno de los valores de una lista anidada para obtener un resultado diferente</em></p>
<h4 class="h4a" id="ch10lev2sec12"><strong>Misión nº 61: Arte del píxel</strong></h4>
<p class="noindent"><em>Los píxeles</em> son cuadrados de un solo color que forman las imágenes de tu ordenador. Combinando montones de píxeles en una cuadrícula, tu ordenador puede mostrar texto, imágenes, vídeos y todo lo que aparece en tu monitor. Todas las fotos y dibujos de tu ordenador se muestran utilizando píxeles.</p>
<p class="indent">El arte de los píxeles es muy popular en Minecraft. Utilizando bloques de diferentes colores en el juego Minecraft, los jugadores construyen imágenes en Minecraft. Los dibujos de personajes de videojuegos en 2D son algunos de los más populares. Puedes crear pixel art a mano, o por supuesto, puedes utilizar un programa Python para generar el pixel art.</p>
<p class="indent">En este programa, utilizarás una lista 2D y bucles anidados para crear pixel art en Minecraft. <a href="ch10.xhtml#ch10ex6">El listado 10-6</a> contiene el principio del programa. Cópialo en un nuevo archivo llamado <em>pixelArt.py</em> y guárdalo en la carpeta <em>forLoops</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>pixelArt.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x, y, z = pos.x, pos.y, pos.z<br translate="no"/><br translate="no"/><span class="ent">➊</span> blocks = [[35, 35, 35, 35, 35, 35, 35, 35],<br translate="no"/>             [35, 35, 35, 35, 35, 35, 35, 35],<br translate="no"/>             [35, 35, 35, 35, 35, 35, 35, 35],<br translate="no"/>             [35, 35, 35, 35, 35, 35, 35, 35]]<br translate="no"/><span class="ent">➋</span> <span class="orange">for</span> row <span class="orange">in</span> <span class="rose">reversed</span>(blocks):<br translate="no"/> <span class="orange">for</span> block <span class="orange">in</span> row:<br translate="no"/>           mc.setBlock(x, y, z, block)<br translate="no"/>           x += 1<br translate="no"/>       y += 1<br translate="no"/>       x = pos.x</p>
<p class="examplet"><span epub:type="pagebreak" id="page_219"></span><a id="ch10ex6"></a><em>Listado 10-6: Una lista bidimensional que dibuja una cara sonriente</em></p>
<p class="indent">El programa crea una lista bidimensional llamada <span class="literal">bloques</span> que contiene IDs de bloques <span class="ent">➊</span> y luego utiliza dos bucles para establecer los bloques en el mundo Minecraft <span class="ent">➋.</span> Para asegurarte de que la primera fila de la lista está en la parte superior cuando se coloca en Minecraft y la fila inferior de la lista se coloca en la parte inferior, se incluye la función <span class="literal">reversed()</span> con el primer bucle <span class="literal">for</span> <span class="ent">➋.</span> Si no fuera así, la imagen estaría al revés en comparación con el orden de la lista de <span class="literal">bloques</span>.</p>
<p class="indent">De momento, los bloques son todos bloques de lana blanca y no muestran ninguna imagen. Para terminar el programa, tienes que reescribir la lista de bloques bidimensional para que dibuje una cara sonriente, como se muestra en la Figura <a href="ch10.xhtml#ch10fig11">10-11</a>.</p>
<div class="image"><img alt="image" src="../images/f10-11.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig11"></a><em>Figura 10-11: Una cara sonriente dibujada con bloques</em></p>
<p class="indent">Cambia los valores dentro de las listas para que la salida coincida con la Figura <a href="ch10.xhtml#ch10fig11">10-11</a>. Tendrás que cambiar algunos de los valores de las listas de bloques de lana (ID de bloque 35) a bloques de lapislázuli (ID de bloque 22). Por ejemplo, cambia la primera línea por ésta:</p>
<p class="programs" translate="no">blocks = [[35, 35, 22, 22, 22, 22, 35, 35],</p>
<p class="indent">También tendrás que añadir más filas a la lista de <span class="literal">bloques</span> para que la altura de la imagen coincida con la del dibujo.</p>
<div class="sidebar">
<p class="sidebart" id="ch10sb04"><span epub:type="pagebreak" id="page_220"></span><strong>OBJETIVO EXTRA: DIBÚJALO TÚ MISMO</strong></p>
<p class="noindent">Prueba a cambiar los valores de la lista bidimensional en <em>pixelArt.</em> py para mostrar una imagen diferente. También puedes cambiar las longitudes de las listas. Esboza primero tus diseños en papel cuadriculado. Luego conviértelos en listas bidimensionales para poder crearlas en Minecraft.</p>
</div>
<h4 class="h4" id="ch10lev2sec13"><strong><span class="blue1">Generar listas bidimensionales con bucles</span></strong></h4>
<p class="noindent">Los programas que utilizan números aleatorios son divertidos porque se comportan de forma diferente cada vez que los ejecutas. En el pasado, he creado muchos programas que utilizan números aleatorios en listas bidimensionales para crear imágenes. Cada número aleatorio puede mostrar un color o, en el caso de Minecraft, un bloque diferente.</p>
<p class="indent">Aquí tienes el principio de un programa que genera números aleatorios y los almacena en un conjunto bidimensional de listas:</p>
<p class="programs" translate="no"> <span class="orange">import</span> random<br translate="no"/><span class="ent">➊</span> randomNumbers = []<br translate="no"/> <span class="orange">for</span> outer <span class="orange">in</span> <span class="rose">range</span>(10):<br translate="no"/><span class="ent">➋</span>     randomNumbers.append([])<br translate="no"/> <span class="orange">for</span> inner <span class="orange">in</span> <span class="rose">range</span>(10):<br translate="no"/><span class="ent">➌</span>         number = random.randint(1, 4)<br translate="no"/>           randomNumbers[outer].append(number)<br translate="no"/> <span class="rose">print</span>(randomNumbers)</p>
<p class="indent">El programa comienza con una lista vacía llamada <span class="literal">NúmerosAleatorios</span> <span class="ent">➊.</span> Cada vez que se repite el bucle <span class="literal">for</span> exterior, añade una nueva lista vacía a la lista <span class="literal">NúmerosAleatorios</span> <span class="ent">➋.</span> En el bucle interno, el programa genera un número aleatorio entre 1 y 5 y lo almacena en la lista interna <span class="ent">➌.</span> El bucle interno se repite 10 veces para generar 10 elementos en cada lista interna.</p>
<p class="indent">Después de añadir saltos de línea para facilitar la lectura, la salida del programa tiene este aspecto (fíjate en los 10 elementos de las 10 listas internas):</p>
<p class="programs" translate="no">[[3, 1, 4, 1, 4, 1, 2, 3, 2, 2],<br translate="no"/> [1, 3, 4, 2, 4, 3, 4, 1, 3, 2],<br translate="no"/> [4, 2, 4, 1, 4, 3, 2, 3, 4, 4],<br translate="no"/> [1, 4, 3, 4, 3, 4, 3, 3, 4, 4],<br translate="no"/> [3, 1, 4, 2, 3, 3, 3, 1, 4, 2],<br translate="no"/> [4, 1, 4, 2, 3, 2, 4, 3, 3, 1],<br translate="no"/> [2, 4, 2, 1, 2, 1, 4, 2, 4, 3],<br translate="no"/> [3, 1, 3, 4, 1, 4, 2, 2, 4, 1],<br translate="no"/> [4, 3, 1, 2, 4, 2, 2, 3, 1, 2],<br translate="no"/> [3, 1, 3, 3, 1, 3, 1, 4, 1, 2]]</p>
<p class="indent">Incorporando números aleatorios a tus creaciones 2D de Minecraft, ¡puedes crear efectos muy chulos que serían difíciles de hacer a mano!</p>
<h4 class="h4a" id="ch10lev2sec14"><span epub:type="pagebreak" id="page_221"></span><strong>Misión nº 62: Un muro desgastado por la intemperie</strong></h4>
<p class="noindent">Cuando construyo muros en Minecraft, no uso un único tipo de bloque. Cambiando algunos bloques de adoquines por bloques de adoquines musgosos, puedo convertir un muro liso en un muro con aspecto dañado, desgastado por la intemperie, orgánico y chulo. Por muy divertido que sea construir un muro a mano, nunca consigo que los bloques que he añadido al azar tengan un aspecto suficientemente aleatorio. Probablemente habrás adivinado que la solución para que los muros rotos parezcan más aleatorios es utilizar un programa Python.</p>
<p class="indent">Para generar un muro desgastado con Python, tienes que dividir el programa en dos pasos principales:</p>
<ol>
<li class="noindent"><p class="list">Crear una lista bidimensional y almacenar los valores de los bloques en la lista.</p></li>
<li class="noindent"><p class="list">Dar salida a la lista bidimensional en el mundo Minecraft.</p></li>
</ol>
<p class="indent">Para empezar, <a href="ch10.xhtml#ch10ex7">el Listado 10-7</a> incluye el código para elegir un valor de bloque aleatorio, configurar la lista y obtener la posición del jugador. Copia el listado en un nuevo archivo llamado <em>brokenWall.py</em> y guárdalo en la carpeta <em>forLoops</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>brokenWall.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/> <span class="orange">import</span> random<br translate="no"/><br translate="no"/><br translate="no"/><span class="ent">➊</span> <span class="orange">def</span> <span class="blue1">brokenBlock</span>():<br translate="no"/>       brokenBlocks = [48, 67, 4, 4, 4, 4]<br translate="no"/>       block = random.choice(brokenBlocks)<br translate="no"/> <span class="orange">return</span> block<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x, y, z = pos.x, pos.y, pos.z<br translate="no"/><br translate="no"/>   brokenWall = []<br translate="no"/>   height, width = 5, 10<br translate="no"/><br translate="no"/> <span class="red"># Create the list of broken blocks</span><br translate="no"/><br translate="no"/> <span class="red"># Set the blocks</span></p>
<p class="examplet"><a id="ch10ex7"></a><em>Listado 10-7: Inicio del programa para crear un muro roto</em></p>
<p class="indent">La función <span class="literal">brokenBlock(</span> ) devuelve un valor de bloque aleatorio que se utiliza para construir el muro <span class="ent">➊.</span> Las variables <span class="literal">anchura</span> y <span class="literal">altura</span> establecen la anchura y la altura del muro.</p>
<p class="indent">Para terminar el programa, tienes que generar una lista bidimensional de valores de bloques, y luego utilizar esos valores para construir el diseño en Minecraft.</p>
<p class="indent">Empieza con la lista en blanco <span class="literal">brokenWall</span>. Utilizando un bucle <span class="literal">for</span> anidado dentro de otro bucle <span class="literal">for</span>, genera valores de bloque aleatorios con la función <span class="literal">brokenBlock()</span>. Almacena los valores de bloque en listas, y guarda esas listas en la lista <span class="literal">brokenWall</span>. A continuación, utiliza otro conjunto de bucles anidados para colocar los bloques en Minecraft.</p>
<p class="indent"><span epub:type="pagebreak" id="page_222"></span>Cuando tu programa esté completo, desplázate al lugar de tu mundo Minecraft donde quieras construir tu muro desgastado por el tiempo y ejecuta el código. Puedes utilizar el programa para decorar un castillo o crear ruinas de aspecto espeluznante en el bosque. ¡Experimenta con distintas ubicaciones para ver cuál te gusta más! <a href="ch10.xhtml#ch10fig12">La Figura 10-12</a> muestra el aspecto que tendrá un muro cuando ejecutes el programa.</p>
<div class="image"><img alt="image" src="../images/f10-12.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig12"></a><em>Figura 10-12: Un muro con bloques rotos generados aleatoriamente. ¡Parece que podría estar embrujado!</em></p>
<div class="sidebar">
<p class="sidebart" id="ch10sb05"><strong>OBJETIVO EXTRA: CREA UN MURO COLORIDO</strong></p>
<p class="noindent">En el programa <em>brokenWall.py</em>, cambia los valores de los bloques en la lista <span class="literal">brokenBlock</span> <span class="literal">()</span> de la función <span class="literal">brokenBlocks</span> para crear todo tipo de muros. Prueba a cambiar los valores de los bloques por diferentes colores de lana y ¡a ver qué pasa!</p>
</div>
<h4 class="h4" id="ch10lev2sec15"><strong><span class="blue1">Pensar en tres dimensiones</span></strong></h4>
<p class="noindent">Por supuesto, Minecraft es un juego que utiliza tres dimensiones. Y has utilizado tres dimensiones a lo largo de este libro. Cada una de las variables <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span> que has utilizado en la mayoría de los programas representa una dimensión.</p>
<p class="indent">Has visto cómo poner un grupo de listas dentro de otro para obtener una lista bidimensional y crear un genial arte de píxeles y paredes desgastadas. Poniendo un tercer grupo de listas dentro de una lista bidimensional se crea una lista tridimensional, ¡que te permite llevar tus habilidades de construcción a una dimensión completamente nueva!</p>
<p class="indent">Las listas tridimensionales son extremadamente útiles en Minecraft porque puedes usarlas para duplicar estructuras 3D, como edificios, esculturas y muchas otras cosas.</p>
<p class="indent">La lista tridimensional del <a href="ch10.xhtml#ch10ex8">Listado 10-8</a> tiene cuatro listas anidadas en su interior. ¡Lo bueno es que dentro de cada índice de esas listas anidadas hay otra lista! Básicamente, cada elemento de esta lista es una lista 2D. He añadido comentarios en blanco para facilitar la lectura de la lista.</p>
<p class="programs" translate="no"><span epub:type="pagebreak" id="page_223"></span>cube = [[[57, 57, 57, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 57, 57, 57]],<br translate="no"/> <span class="red">#</span><br translate="no"/>        [[57, 0, 0, 57],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [57, 0, 0, 57]],<br translate="no"/> <span class="red">#</span><br translate="no"/>        [[57, 0, 0, 57],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [57, 0, 0, 57]],<br translate="no"/> <span class="red">#</span><br translate="no"/>        [[57, 57, 57, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 57, 57, 57]]]</p>
<p class="examplet"><a id="ch10ex8"></a><em>Listado 10-8: Una lista tridimensional con listas anidadas</em></p>
<p class="indent">¡Un código como éste puede utilizarse para crear una estructura cúbica muy chula! A continuación veremos un programa que hace precisamente eso.</p>
<h4 class="h4" id="ch10lev2sec16"><strong><span class="blue1">Cómo crear listas tridimensionales</span></strong></h4>
<p class="noindent">Las listas que tienen tres dimensiones son perfectas para almacenar datos sobre objetos tridimensionales, como tus impresionantes edificios de Minecraft. Almacenar objetos tridimensionales es importante, y darles salida correctamente en Minecraft es igual de importante. Como una lista tridimensional es una lista dentro de otra lista que está dentro de otra lista, puedes utilizar un bucle <span class="literal">for</span> dentro de otro bucle <span class="literal">for</span> que también está dentro de otro bucle <span class="literal">for</span> para acceder a todos los datos. En otras palabras, puedes utilizar tres bucles <span class="literal">for</span> anidados.</p>
<p class="indent">En <a href="ch10.xhtml#ch10ex9">el Listado 10-9</a>, he copiado la lista tridimensional del <a href="ch10.xhtml#ch10ex8">Listado 10-8</a> y he creado un programa llamado <em>cubo.py</em>. Este programa utiliza tres bucles <span class="literal">for</span> anidados para sacar todos los valores de la lista tridimensional de uno en uno para construir una estructura cúbica en el mundo de Minecraft.</p>
<p class="sidenote" translate="no"><span class="blue"><em>cube.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/>   pos = mc.player.getTilePos()<br translate="no"/>   x = pos.x<br translate="no"/>   y = pos.y<br translate="no"/>   z = pos.z<br translate="no"/>   cube = [[[57, 57, 57, 57], [57, 0, 0, 57], [57, 0, 0, 57], [57, 57, 57, 57]],<br translate="no"/>           [[57, 0, 0, 57], [0, 0, 0, 0], [0, 0, 0, 0], [57, 0, 0, 57]],<br translate="no"/>           [[57, 0, 0, 57], [0, 0, 0, 0], [0, 0, 0, 0], [57, 0, 0, 57]],<br translate="no"/>           [[57, 57, 57, 57], [57, 0, 0, 57], [57, 0, 0, 57], [57, 57, 57, 57]]]<br translate="no"/><br translate="no"/>   startingX = x<br translate="no"/><span class="ent">➊</span> startingY = y<br translate="no"/><span class="ent">➋</span> <span class="orange">for</span> depth <span class="orange">in</span> cube:<br translate="no"/> <span class="orange">for</span> height <span class="orange">in</span> <span class="rose">reversed</span>(depth):<br translate="no"/> <span class="orange">for</span> block <span class="orange">in</span> height:<br translate="no"/>               mc.setBlock(x, y, z, block)<br translate="no"/>               x += 1<br translate="no"/>           y += 1<br translate="no"/>           x = startingX<br translate="no"/><span class="ent">➌</span>     z += 1<br translate="no"/><span class="ent">➍</span>     y = startingY</p>
<p class="examplet"><span epub:type="pagebreak" id="page_224"></span><a id="ch10ex9"></a><em>Listado 10-9: Código para crear un cubo tridimensional hecho de diamantes</em></p>
<p class="indent"><a href="ch10.xhtml#ch10fig13">La Figura 10-13</a> muestra el resultado de este programa.</p>
<div class="image"><img alt="image" src="../images/f10-13.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig13"></a><em>Figura 10-13: El cubo creado por el</em> <em>programa</em> cube.py</p>
<p class="indent">El código de cube. <em>py</em> es muy similar al del programa bidimensional <em>rainbowRows.py</em><a href="ch10.xhtml#page_215">(página 215</a>) que construye un muro arco iris. La principal diferencia es que cubo. <em>py</em> utiliza tres bucles <span class="literal">for</span> en lugar de dos, porque trabaja con una lista tridimensional. El bucle <span class="literal">for</span> adicional añade una dimensión más a la estructura, la profundidad <span class="ent">➋.</span> Así que ahora la estructura tiene anchura, altura y profundidad.</p>
<p class="indent">Cada vez que se ejecuta el bucle exterior para profundidad en <span class="literal">cubo</span>, crea una lista bidimensional utilizando los dos bucles anidados, <span class="literal">para altura en invertido(profundidad)</span> y <span class="literal">para bloque en altura</span>. El código de los dos bucles anidados es similar al código del programa <em>rainbowRows.py</em>, lo que significa que estos bucles construyen un muro en Minecraft.</p>
<p class="indent">Veamos el resultado del bucle exterior cada vez que se repite para que podamos ver cómo construye el cubo paso a paso. La primera vez que se ejecuta el bucle exterior, emite los bloques en la posición índice 0 de la lista del <span class="literal">cubo</span>. Esa lista tiene este aspecto:</p>
<p class="programs" translate="no">[[57, 57, 57, 57],<br translate="no"/> [57, 0, 0, 57],<br translate="no"/> [57, 0, 0, 57],<br translate="no"/> [57, 57, 57, 57]]</p>
<p class="indent"><span epub:type="pagebreak" id="page_225"></span><a href="ch10.xhtml#ch10fig14">La Figura 10-14</a> muestra la salida: nuestro primer muro de bloques.</p>
<div class="image"><img alt="image" src="../images/f10-14.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig14"></a><em>Figura 10-14:</em> Resultado<em>del primer bucle bidimensional,</em> <em>índice</em> 0 del <span class="literal"><span class="codeitalic">cubo</span></span> </p>
<p class="indent">Después de construir cada lista bidimensional en el juego, el valor de la variable <span class="literal">z</span> en <em>cube.py</em> <span class="ent">➌</span> se incrementa para mover un bloque más lejos a lo largo del eje z. Esto da profundidad al cubo, por lo que no sólo estamos construyendo un muro. También tenemos que restablecer el valor de la variable <span class="literal">y</span> en <span class="ent">➍</span> a su valor original <span class="ent">➊</span> para que los bloques de la parte inferior del cubo se alineen entre sí cada vez que se repita el bucle exterior. Si no se reseteara la variable <span class="literal">y</span>, la coordenada y de cada conjunto de bloques seguiría subiendo cada vez más, ¡creando unas escaleras de aspecto extraño! <a href="ch10.xhtml#ch10fig15">La Figura 10-15</a> muestra el aspecto que tendría esto.</p>
<div class="image"><img alt="image" src="../images/f10-15.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig15"></a><em>Figura 10-15:</em> ¡<em>Reiniciamos la</em> <em>variable y para que esto no ocurra!</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_226"></span>La segunda vez que se ejecuta el bucle exterior, da salida a los bloques en la posición índice 1 de la lista del <span class="literal">cubo</span>, que tiene este aspecto:</p>
<p class="programs" translate="no">[[57, 0, 0, 57],<br translate="no"/> [0, 0, 0, 0],<br translate="no"/> [0, 0, 0, 0],<br translate="no"/> [57, 0, 0, 57]]</p>
<p class="indent">Esto añade la siguiente parte del cubo, como puedes ver en la <a href="ch10.xhtml#ch10fig16">Figura 10-16</a>. Una vez construida esta parte del cubo, la variable <span class="literal">z</span> aumenta en 1 <span class="ent">➌</span> y la variable <span class="literal">y</span> vuelve a su valor original <span class="ent">➍.</span></p>
<div class="image"><img alt="image" src="../images/f10-16.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig16"></a><em>Figura 10-16: Resultado del segundo bucle bidimensional,</em> <em>índice del</em> <span class="literal"><span class="codeitalic">cubo</span></span> <em>1</em></p>
<p class="indent">La siguiente vez que se repite el bucle, sale la lista bidimensional en la posición índice 2 del <span class="literal">cubo</span>:</p>
<p class="programs" translate="no">[[57, 0, 0, 57],<br translate="no"/> [0, 0, 0, 0],<br translate="no"/> [0, 0, 0, 0],<br translate="no"/> [57, 0, 0, 57]]</p>
<p class="indent">La Figura<a href="ch10.xhtml#ch10fig17">10-17</a> muestra el resultado. De nuevo, el valor <span class="literal">z</span> se incrementa en 1 y el valor <span class="literal">y</span> se restablece.</p>
<p class="indent">A continuación, el bucle se repite una cuarta y última vez, dando como salida la posición índice 3 del <span class="literal">cubo</span>:</p>
<p class="programs" translate="no">[[57, 57, 57, 57],<br translate="no"/> [57, 0, 0, 57],<br translate="no"/> [57, 0, 0, 57],<br translate="no"/> [57, 57, 57, 57]]</p>
<p class="indent">La<a href="ch10.xhtml#ch10fig18">Figura 10-18</a> muestra la estructura terminada del cubo.</p>
<div class="image"><span epub:type="pagebreak" id="page_227"></span><img alt="image" src="../images/f10-17.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig17"></a>Figura 10-17: Resultado del<em>tercer bucle bidimensional,</em> índice <em>2</em> <span class="literal"><span class="codeitalic">del</span></span> cubo</p>
<div class="image"><img alt="image" src="../images/f10-18.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig18"></a>Figura<em>10-18</em>: El resultado del último bucle bidimensional, en la posición final <em>del</em> índice del cubo</p>
<p class="indent">Experimenta con este programa: utiliza un tipo de bloque diferente, intenta hacer un cubo más grande, ¡o cualquier otra cosa que puedas imaginar! En la siguiente sección, te mostraré cómo acceder a valores en listas tridimensionales para que puedas hacer algunos de estos cambios.</p>
<h4 class="h4" id="ch10lev2sec17"><strong><span class="blue1">Acceder a valores en listas tridimensionales</span></strong></h4>
<p class="noindent">Los valores dentro de las listas tridimensionales pueden cambiarse igual que en las listas unidimensionales y bidimensionales, utilizando corchetes y posiciones de índice.</p>
<p class="indent"><span epub:type="pagebreak" id="page_228"></span>Empecemos con nuestra lista tridimensional de cubos de diamante:</p>
<p class="programs" translate="no">cube = [[[57, 57, 57, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 57, 57, 57]],<br translate="no"/> <span class="red">#</span><br translate="no"/>        [[57, 0, 0, 57],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [57, 0, 0, 57]],<br translate="no"/> <span class="red">#</span><br translate="no"/>        [[57, 0, 0, 57],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [0, 0, 0, 0],<br translate="no"/>         [57, 0, 0, 57]],<br translate="no"/> <span class="red">#</span><br translate="no"/>        [[57, 57, 57, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 0, 0, 57],<br translate="no"/>         [57, 57, 57, 57]]]</p>
<p class="indent">Quiero cambiar el bloque inferior izquierdo de la parte frontal de mi cubo a dorado.</p>
<p class="indent">Primero necesito acceder al índice de la lista de cubos que contiene la parte frontal del cubo, que es 0. Así que la primera parte de la expresión tendrá este aspecto:</p>
<p class="programs" translate="no">cube[0]</p>
<p class="indent">Si imprimiera el valor de esta expresión, obtendría la siguiente salida (que he formateado para que sea más fácil de leer):</p>
<p class="programs" translate="no">[[57, 57, 57, 57],<br translate="no"/> [57, 0, 0, 57],<br translate="no"/> [57, 0, 0, 57],<br translate="no"/> [57, 57, 57, 57]]</p>
<p class="indent">Esta lista bidimensional representa la parte frontal del cubo. A continuación, quiero acceder a la fila inferior, que es el índice 3. Así que añado <span class="literal">[3]</span> a mi expresión:</p>
<p class="programs" translate="no">cube[0][3]</p>
<p class="indent">Si imprimiera la lista almacenada en esta posición, obtendría lo siguiente:</p>
<p class="programs" translate="no">[57, 57, 57, 57]</p>
<p class="indent">Por último, quiero acceder al bloque situado más a la izquierda de la fila, que es el índice 3. Así que la expresión final para cambiar el bloque de abajo a la izquierda por un bloque dorado tiene el siguiente aspecto:</p>
<p class="programs" translate="no">cube[0][3][3] = 41</p>
<p class="indent"><span epub:type="pagebreak" id="page_229"></span>Cuando ejecuto el programa <em>cubo.</em> py con esta línea añadida, obtengo un cubo hecho de diamantes con un único bloque dorado, como en la <a href="ch10.xhtml#ch10fig19">Figura 10-19</a>.</p>
<div class="image"><img alt="image" src="../images/f10-19.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig19"></a><em>Figura 10-19: El cubo modificado con una sola esquina dorada</em></p>
<h4 class="h4a" id="ch10lev2sec18"><strong>Misión nº 63: Duplicar un edificio</strong></h4>
<p class="noindent">Aunque construir cosas en Minecraft utilizando un programa Python ahorra mucho tiempo, si eres como yo, es posible que sigas dedicando una cantidad considerable de esfuerzo a añadir detalles, como imágenes y muebles, a tus edificios. A veces puede que necesites hacer una copia idéntica de un objeto concreto, y copiar un objeto a mano puede llevar mucho tiempo. Colocar cada bloque uno a uno también es mucho trabajo, y podrías colocar un bloque en el lugar equivocado. La solución obvia es hacer un programa que copie un edificio en Minecraft y construya una copia del mismo en el juego por ti.</p>
<p class="indent">El programa terminado tendrá que hacer dos cosas: primero copiará un área del juego y la almacenará en una lista tridimensional, y luego construirá la estructura copiada utilizando esa lista tridimensional.</p>
<p class="indent">He incluido el inicio del programa en el Listado <a href="ch10.xhtml#ch10ex10">10-10</a> para ayudarte. Copia el listado en un archivo nuevo y guárdalo como <em>duplicarÁrea.py</em> en la carpeta <em>forLoops</em>.</p>
<p class="sidenote" translate="no"><span class="blue"><em>duplicateArea.py</em></span></p>
<p class="programs" translate="no"> <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br translate="no"/>   mc = Minecraft.create()<br translate="no"/><br translate="no"/><span class="ent">➊</span> <span class="orange">def</span> <span class="blue1">sortPair</span>(val1, val2):<br translate="no"/> <span class="orange">if</span> val1 &gt; val2:<br translate="no"/> <span class="orange">return</span> val2, val1<br translate="no"/> <span class="orange">else</span>:<br translate="no"/> <span class="orange">return</span> val1, val2<br translate="no"/><span class="ent">➋</span> <span class="orange">def</span> <span class="blue1">copyStructure</span>(x1, y1, z1, x2, y2, z2):<br translate="no"/> <span class="red"># Sort the highest and lowest x, y, and z values</span><br translate="no"/>       x1, x2 = sortPair(x1, x2)<br translate="no"/>       y1, y2 = sortPair(y1, y2)<br translate="no"/>       z1, z2 = sortPair(z1, z2)<br translate="no"/><br translate="no"/>       width = x2 - x1<br translate="no"/>       height = y2 - y1<br translate="no"/>       length = z2 - z1<br translate="no"/><br translate="no"/>       structure = []<br translate="no"/><br translate="no"/> <span class="rose">print</span>(<span class="green">"Please wait..."</span>)<br translate="no"/><br translate="no"/><span class="ent">➌</span> <span class="red"># Copy the structure</span><br translate="no"/><br translate="no"/> <span class="orange">return</span> structure<br translate="no"/><br translate="no"/><span class="ent">➍</span> <span class="orange">def</span> <span class="blue1">buildStructure</span>(x, y, z, structure):<br translate="no"/><br translate="no"/>       xStart = x<br translate="no"/>       yStart = y<br translate="no"/><br translate="no"/><span class="ent">➎</span> <span class="red"># Build the structure</span><br translate="no"/><br translate="no"/> <span class="red"># Get the position of the first corner</span><br translate="no"/><span class="ent">➏</span> <span class="rose">input</span>(<span class="green">"Move to the first corner and press enter in this window"</span>)<br translate="no"/>    pos = mc.player.getTilePos()<br translate="no"/>    x1, y1, z1 = pos.x, pos.y, pos.z<br translate="no"/><br translate="no"/> <span class="red"># Get the position of the second corner</span><br translate="no"/><span class="ent">➐</span> <span class="rose">input</span>(<span class="green">"Move to the opposite corner and press enter in this window"</span>)<br translate="no"/>    pos = mc.player.getTilePos()<br translate="no"/>    x2, y2, z2 = pos.x, pos.y, pos.z<br translate="no"/><br translate="no"/> <span class="red"># Copy the building</span><br translate="no"/><span class="ent">➑</span> structure = copyStructure(x1, y1, z1, x2, y2, z2)<br translate="no"/><br translate="no"/> <span class="red"># Set the position for the copy</span><br translate="no"/><span class="ent">➒</span> <span class="rose">input</span>(<span class="green">"Move to the position you want to create the structure and press ENTER</span> <img alt="image" src="../images/enter.jpg" translate="no"/><br translate="no"/> <span class="green">in this window"</span>)<br translate="no"/> <span class="green">pos = mc.player.getTilePos()</span><br translate="no"/>   x, y, z = pos.x, pos.y, pos.z<br translate="no"/>   buildStructure(x, y, z, structure)</p>
<p class="examplet"><span epub:type="pagebreak" id="page_230"></span><a id="ch10ex10"></a><em>Listado 10-10: Cuando el programa esté terminado, duplicará edificios.</em></p>
<p class="indent">Este programa se divide en varias partes. En primer lugar, la función <span class="literal">sortPair()</span> <span class="ent">➊</span> ordena un par de valores en una tupla con el valor más bajo en la primera posición del índice y el valor más alto en la segunda posición del índice. Por ejemplo, si le diera a <span class="literal">sortPair</span> () los argumentos 9 y 3, devolvería una tupla con el valor <span class="literal">(3, 9)</span> porque 3 es menor que 9. Utilizo esta función para ordenar pares de valores <span class="literal">x</span>, <span class="literal">y</span> y <span class="literal">z</span>, de modo que las variables <span class="literal">anchura</span>, <span class="literal">longitud</span> y <span class="literal">profundidad</span> sean siempre positivas al calcularlas.</p>
<p class="indent"><span epub:type="pagebreak" id="page_231"></span>A continuación, la función <span class="literal">copyStructure</span> () <span class="ent">➋</span> copia la estructura del mundo del juego, pero está incompleta <span class="ent">➌.</span> La función <span class="literal">buildStructure</span> () <span class="ent">➍</span> construye la estructura, pero también está incompleta <span class="ent">➎.</span> En esta misión completarás ambas cosas.</p>
<p class="indent">He añadido un truco ingenioso para obtener las coordenadas del edificio que quieres copiar y la ubicación en el juego donde quieres construir la copia: Utilizando la función <span class="literal">input</span> (), el programa te pide primero que muevas a tu personaje a una esquina del edificio y pulses <small>ENTER</small> ➏. La función input( <span class="literal">)</span> hace que el código espere hasta que hayas movido al jugador hasta donde quieres que esté. En cuanto pulses <small>ENTER</small>, obtiene la posición del jugador mediante la función <span class="literal">getTilePos()</span>. Volvemos a hacer lo mismo en la esquina opuesta del edificio ➐. A continuación, la función <span class="literal">copyStructure</span> () utiliza estos dos conjuntos de coordenadas para copiar el edificio ➑. (Al copiar estructuras más grandes, esta parte del programa puede tardar un rato en ejecutarse). Por último, te mueves al lugar donde quieres que se construya el edificio y pulsas <small>ENTER</small> ➒ para pasar la última posición del jugador a la función <span class="literal">buildStructure()</span>.</p>
<p class="indent">Para terminar el programa, te toca completar las funciones <span class="literal">copyStructure()</span> y <span class="literal">buildStructure()</span>. Añade tres bucles anidados a la función <span class="literal">copyStructure</span> () para copiar todos los bloques entre las coordenadas dadas en el argumento en una lista tridimensional en <span class="ent">➌.</span> Para terminar la función <span class="literal">buildStructure</span> (), añade tres bucles <span class="literal">for</span> anidados que emitan los valores de los bloques de la lista tridimensional en <span class="ent">➎.</span> La función debe utilizar las coordenadas dadas en sus argumentos.</p>
<p class="indent">Asegúrate de que el programa trabaja a través de las posiciones <span class="literal">x</span>, <span class="literal">y</span>, y <span class="literal">z</span> dentro de la estructura. Utiliza los bucles <span class="literal">for</span> para cambiar las posiciones <span class="literal">x</span>, <span class="literal">y</span>, y <span class="literal">z</span>.</p>
<p class="indent">Aunque <em>duplicarÁrea.py</em> es un programa largo, es muy útil y merece la pena el esfuerzo. Cuando termines esta misión, ¡podrás construir ciudades enteras en tu mundo Minecraft! Utilicé <em>duplicateArea.</em> py para duplicar un interesante acantilado que encontré mientras exploraba. La <a href="ch10.xhtml#ch10fig20">Figura 10-20</a> muestra el acantilado que quería copiar.</p>
<div class="image"><img alt="image" src="../images/f10-20.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig20"></a><em>Figura 10-20: Me gustó el aspecto de este acantilado, así que hice una copia de él.</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_232"></span>Cuando utilices el programa <em>duplicateArea.</em> py para hacer copias, colócate primero en el exterior (si tu estructura es un edificio) y cerca de la esquina inferior del objeto que quieres copiar. A continuación, pulsa <small>ENTER</small> en IDLE. <a href="ch10.xhtml#ch10fig21">La Figura 10-21</a> me muestra de pie en la primera esquina.</p>
<div class="image"><img alt="image" src="../images/f10-21.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig21"></a><em>Figura 10-21: Primero me desplacé a una esquina de la estructura y pulsé <small>ENTER</small> en IDLE.</em></p>
<p class="indent">Después, vuela hacia arriba y alrededor hasta la esquina opuesta del objeto que quieres copiar y pulsa <small>ENTER</small> por segunda vez. La Figura <a href="ch10.xhtml#ch10fig22">10-22</a> muestra que he volado hacia arriba y me he movido alrededor del acantilado.</p>
<div class="image"><img alt="image" src="../images/f10-22.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig22"></a><em>Figura 10-22:</em> Después me he desplazado hasta<em>la esquina opuesta de la estructura y he pulsado</em><em> <small>INTRO</small></em>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_233"></span>Aparecerá un mensaje pidiéndote que esperes un momento mientras el programa copia la estructura. Muévete hasta el lugar donde quieras construir la copia y espera a que aparezca un mensaje preguntándote dónde quieres construir la nueva estructura<a href="ch10.xhtml#ch10fig23">(</a>Figura 10-23).</p>
<div class="image"><img alt="image" src="../images/f10-23.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig23"></a><em>Figura 10-23: Esperé un rato a que la estructura se copiara. Luego me desplacé al lugar donde quería construir la copia y pulsé <small>ENTER</small> para construirla.</em></p>
<p class="indent">Pulsa <small>INTRO</small> cuando estés en el lugar adecuado para el nuevo edificio, ¡y se construirá una copia justo delante de ti! <a href="ch10.xhtml#ch10fig24">La Figura 10-24</a> muestra mi copia del acantilado.</p>
<div class="image"><img alt="image" src="../images/f10-24.jpg" translate="no"/></div>
<p class="figcap"><a id="ch10fig24"></a><em>Figura 10-24: ¡La copia del acantilado original!</em></p>
<h3 class="h3" id="ch10lev1sec06"><span epub:type="pagebreak" id="page_234"></span><strong><span class="blue1">Lo que has aprendido</span></strong></h3>
<p class="noindent">Este capítulo ha abarcado mucho terreno. Aprendiste a utilizar bucles <span class="literal">for</span> con listas y aprendiste a utilizar la función <span class="literal">range()</span>. También aprendiste más cosas sobre los bucles <span class="literal">for</span> y las listas, como invertir listas, hacer bucles sobre diccionarios y romper bucles <span class="literal">for</span>. Creaste listas bidimensionales y tridimensionales con bucles anidados, que son superútiles para construir un impresionante mundo Minecraft.</p>
<p class="indent">Desde generar escaleras y pirámides hasta duplicar estructuras y crear arte, ahora tienes mucho más control sobre Minecraft que antes. Los programas de este capítulo son algunos de mis favoritos del libro, ¡y te ayudarán a crear tus propios proyectos avanzados!</p>
<p class="indent">Este capítulo y el <a href="ch09.xhtml#ch09">Capítulo 9</a> se centraron mucho en las listas y los bucles <span class="literal">for</span>, que están estrechamente relacionados. En <a href="ch11.xhtml#ch11">el</a> Capítulo 11, pasarás a los archivos y módulos, que están estrechamente relacionados con las funciones y que has estado utilizando a lo largo de este libro. Como parte de las misiones, aprenderás a guardar y cargar estructuras en y desde archivos.</p>
</body>
</html>