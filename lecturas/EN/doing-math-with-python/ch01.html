<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg">
<head>
  <meta charset="UTF-8" />
  <title>Chapter 1: Working with Numbers</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css" />
  <link type="text/css" rel="stylesheet" media="all" href="core.css" />
</head>
<body>
  <div id="sbo-rt-content"><h2 class="h2" id="ch01"><a id="page_1"></a><strong><span class="big">1</span></strong><br/><strong>Working with Numbers</strong></h2>
<div class="image1"><img src="images/common-01.jpg" alt="image" /></div>
<p class="noindent">Let’s take our first steps toward using Python to explore the world of math and science. We’ll keep it simple now so you can get a handle on using Python itself. We’ll start by performing basic mathematical operations, and then we’ll write simple programs for manipulating and understanding numbers. Let’s get started!</p>
<h3 class="h3" id="ch01lev1sec01"><strong>Basic Mathematical Operations</strong></h3>
<p class="noindent">The <em>Python interactive shell</em> is going to be our friend in this book. Start the Python 3 IDLE shell and say “hello” (see <a href="ch01.html#ch1fig1">Figure 1-1</a>) by typing <span class="literal">print('Hello IDLE')</span> and then pressing <small>ENTER</small>. (For instructions on how to install Python and start IDLE, see <a href="app01.html#app01">Appendix A</a>.) IDLE obeys your command and prints the words back to the screen. Congratulations—you just wrote a program!</p>
<p class="indent">When you see the <span class="literal">&gt;&gt;&gt;</span> prompt again, IDLE is ready for more instructions.</p>
<div class="image"><a id="page_2"></a><img src="images/f01-01.jpg" alt="image" /></div>
<p class="figuret"><a id="ch1fig1"></a><em>Figure 1-1: Python 3 IDLE shell</em></p>
<p class="indent">Python can act like a glorified calculator, doing simple computations. Just type an expression and Python will evaluate it. After you press <small>ENTER</small>, the result appears immediately.</p>
<p class="indent">Give it a try. You can add and subtract numbers using the addition (<span class="literal">+</span>) and subtraction (<span class="literal">–</span>) operators. For example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">1 + 2</span><br/>3<br/>&gt;&gt;&gt; <span class="codestrong">1 + 3.5</span><br/>4.5<br/>&gt;&gt;&gt; <span class="codestrong">-1 + 2.5</span><br/>1.5<br/>&gt;&gt;&gt; <span class="codestrong">100 – 45</span><br/>55<br/>&gt;&gt;&gt; <span class="codestrong">-1.1 + 5</span><br/>3.9</p>
<p class="indent">To multiply, use the multiplication (<span class="literal">*</span>) operator:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">3 * 2</span><br/>6<br/>&gt;&gt;&gt; <span class="codestrong">3.5 * 1.5</span><br/>5.25</p>
<p class="indent">To divide, use the division (<span class="literal">/</span>) operator:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">3 / 2</span><br/>1.5<br/>&gt;&gt;&gt; <span class="codestrong">4 / 2</span><br/>2.0</p>
<p class="indent">As you can see, when you ask Python to perform a division operation, it returns the fractional part of the number as well. If you want the result in the form of an integer, with any decimal values removed, you should use the floor division (<span class="literal">//</span>) operator:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">3 // 2</span><br/>1</p>
<p class="indent"><a id="page_3"></a>The floor division operator divides the first number by the second number and then rounds down the result to the next lowest integer. This becomes interesting when one of the numbers is negative. For example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">-3 // 2</span><br/>-2</p>
<p class="indent">The final result is the integer lower than the result of the division operation (<span class="literal">-3/2 = -1.5</span>, so the final result is <span class="literal">-2</span>).</p>
<p class="indent">On the other hand, if you want just the remainder, you should use the modulo (<span class="literal">%</span>) operator:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">9 % 2</span><br/>1</p>
<p class="indent">You can calculate the power of numbers using the exponential (<span class="literal">**</span>) operator. The examples below illustrate this:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">2 ** 2</span><br/>4<br/>&gt;&gt;&gt; <span class="codestrong">2 ** 10</span><br/>1024<br/>&gt;&gt;&gt; <span class="codestrong">1 ** 10</span><br/>1</p>
<p class="indent">We can also use the exponential symbol to calculate powers less than 1. For example, the square root of a number <em>n</em> can be expressed as <em>n</em><sup>1/2</sup> and the cube root as <em>n</em><sup>1/3</sup>:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">8 ** (1/3)</span><br/>2.0</p>
<p class="indent">As this example shows, you can use parentheses to combine mathematical operations into more complicated expressions. Python will evaluate the expression following the standard <em>PEMDAS</em> rule for the order of calculations—parentheses, exponents, multiplication, division, addition, and subtraction. Consider the following two expressions—one without parentheses and one with:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">5 + 5 * 5</span><br/>30<br/>&gt;&gt;&gt; <span class="codestrong">(5 + 5) * 5</span><br/>50</p>
<p class="indent">In the first example, Python calculates the multiplication first: 5 times 5 is 25; 25 plus 5 is 30. In the second example, the expression within the parentheses is evaluated first, just as we’d expect: 5 plus 5 is 10; 10 times 5 is 50.</p>
<p class="indent">These are the absolute basics of manipulating numbers in Python. Let’s now learn how we can assign names to numbers.</p>
<h3 class="h3" id="ch01lev1sec02"><a id="page_4"></a><strong>Labels: Attaching Names to Numbers</strong></h3>
<p class="noindent">As we start designing more complex Python programs, we’ll assign names to numbers—at times for convenience, but mostly out of necessity. Here’s a simple example:</p>
<p class="programs"><span class="ent">➊</span> &gt;&gt;&gt; <span class="codestrong">a = 3</span><br/>   &gt;&gt;&gt; <span class="codestrong">a + 1</span><br/>   4<br/><span class="ent">➋</span> &gt;&gt;&gt; <span class="codestrong">a = 5</span><br/>   &gt;&gt;&gt; <span class="codestrong">a + 1</span><br/>   6</p>
<p class="indent">At <span class="ent">➊</span>, we assign the name <span class="literal">a</span> to the number 3. When we ask Python to evaluate the result of the expression <span class="literal">a + 1</span>, it sees that the number that <span class="literal">a</span> refers to is 3, and then it adds 1 and displays the output (4). At <span class="ent">➋</span>, we change the value of <span class="literal">a</span> to 5, and this is reflected in the second addition operation. Using the name <span class="literal">a</span> is convenient because you can simply change the number that <span class="literal">a</span> points to and Python uses this new value when <span class="literal">a</span> is referred to anywhere after that.</p>
<p class="indent">This kind of name is called a <em>label</em>. You may have been introduced to the term <em>variable</em> to describe the same idea elsewhere. However, considering that <em>variable</em> is also a mathematical term (used to refer to something like <em>x</em> in the equation <em>x</em> + 2 = 3), in this book I use the term <em>variable</em> only in the context of mathematical equations and expressions.</p>
<h3 class="h3" id="ch01lev1sec03"><strong>Different Kinds of Numbers</strong></h3>
<p class="noindent">You may have noticed that I’ve used two kinds of numbers to demonstrate the mathematical operations—numbers without a decimal point, which you already know as <em>integers</em>, and numbers with a decimal point, which programmers call <em>floating point numbers</em>. We humans have no trouble recognizing and working with numbers whether they’re written as integers, floating point decimals, fractions, or roman numerals. But in some of the programs that we write in this book, it will only make sense to perform a task on a particular type of number, so we’ll often have to write a bit of code to have the programs check whether the numbers we input are of the right type.</p>
<p class="indent">Python considers integers and floating point numbers to be different <em>types</em>. If you use the function <span class="literal">type()</span>, Python will tell you what kind of number you’ve just input. For example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">type(3)</span><br/>&lt;class 'int'&gt;<br/><br/>&gt;&gt;&gt; <span class="codestrong">type(3.5)</span><br/>&lt;class 'float'&gt;<br/><br/>&gt;&gt;&gt; <span class="codestrong">type(3.0)</span><br/>&lt;class 'float'&gt;</p>
<p class="indent"><a id="page_5"></a>Here, you can see that Python classifies the number 3 as an integer (type <span class="literal">'int'</span>) but classifies 3.0 as a floating point number (type <span class="literal">'float'</span>). We all know that 3 and 3.0 are mathematically equivalent, but in many situations, Python will treat these two numbers differently because they are two different types.</p>
<p class="indent">Some of the programs we write in this chapter will work properly only with an integer as an input. As we just saw, Python won’t recognize a number like 1.0 or 4.0 as an integer, so if we want to accept numbers like that as valid input in these programs, we’ll have to convert them from floating point numbers to integers. Luckily, there’s a function built in to Python that does just that:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">int(3.8)</span><br/>3<br/>&gt;&gt;&gt; <span class="codestrong">int(3.0)</span><br/>3</p>
<p class="indent">The function <span class="literal">int()</span> takes the input floating point number, gets rid of anything that comes after the decimal point, and returns the resulting integer. The <span class="literal">float()</span> function works similarly to perform the reverse conversion:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">float(3)</span><br/>3.0</p>
<p class="indent"><span class="literal">float()</span> takes the integer that was input and adds a decimal point to turn it into a floating point number.</p>
<h4 class="h4" id="ch01lev2sec01"><strong><em>Working with Fractions</em></strong></h4>
<p class="noindent">Python can also handle fractions, but to do that, we’ll need to use Python’s <span class="literal">fractions</span> module. You can think of a <em>module</em> as a program written by someone else that you can use in your own programs. A module can include classes, functions, and even label definitions. It can be part of Python’s standard library or distributed from a third-party location. In the latter case, you would have to install the module before you could use it.</p>
<p class="indent">The <span class="literal">fractions</span> module is part of the standard library, meaning that it’s already installed. It defines a class <span class="literal">Fraction</span>, which is what we’ll use to enter fractions into our programs. Before we can use it, we’ll need to <em>import</em> it, which is a way of telling Python that we want to use the class from this module. Let’s see a quick example—we’ll create a new label, <span class="literal">f</span>, which refers to the fraction 3/4:</p>
<p class="programs"><span class="ent">➊</span> &gt;&gt;&gt; <span class="codestrong">from fractions import Fraction</span><br/><span class="ent">➋</span> &gt;&gt;&gt; <span class="codestrong">f = Fraction(3, 4)</span><br/><span class="ent">➌</span> &gt;&gt;&gt; <span class="codestrong">f</span><br/>   Fraction(3, 4)</p>
<p class="indent">We first import the <span class="literal">Fraction</span> class from the <span class="literal">fractions</span> module <span class="ent">➊</span>. Next, we create an object of this class by passing the numerator and <a id="page_6"></a>denominator as parameters <span class="ent">➋</span>. This creates a <span class="literal">Fraction</span> object for the fraction 3/4. When we print the object <span class="ent">➌</span>, Python displays the fraction in the form <span class="literal">Fraction(<span class="codeitalic">numerator</span>, <span class="codeitalic">denominator</span>)</span>.</p>
<p class="indent">The basic mathematical operations, including the comparison operations, are all valid for fractions. You can also combine a fraction, an integer, and a floating point number in a single expression:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">Fraction(3, 4) + 1 + 1.5</span><br/>3.25</p>
<p class="indent">When you have a floating point number in an expression, the result of the expression is returned as a floating point number.</p>
<p class="indent">On the other hand, when you have only a fraction and an integer in the expression, the result is a fraction, even if the result has a denominator of 1.</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">Fraction(3, 4) + 1 + Fraction(1/4)</span><br/>Fraction(2, 1)</p>
<p class="indent">Now you know the basics of working with fractions in Python. Let’s move on to a different kind of number.</p>
<h4 class="h4" id="ch01lev2sec02"><strong><em>Complex Numbers</em></strong></h4>
<p class="noindent">The numbers we’ve seen so far are the so-called <em>real numbers</em>. Python also supports <em>complex numbers</em> with the imaginary part identified by the letter <em>j</em> or <em>J</em> (as opposed to the letter <em>i</em> used in mathematical notation). For example, the complex number 2 + 3<em>i</em> would be written in Python as 2 + 3<em>j</em>:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = 2 + 3j</span><br/>&gt;&gt;&gt; <span class="codestrong">type(a)</span><br/>&lt;class 'complex'&gt;</p>
<p class="indent">As you can see, when we use the <span class="literal">type()</span> function on a complex number, Python tells us that this is an object of type <span class="literal">complex</span>.</p>
<p class="indent">You can also define complex numbers using the <span class="literal">complex()</span> function:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = complex(2, 3)</span><br/>&gt;&gt;&gt; <span class="codestrong">a</span><br/>(2 + 3j)</p>
<p class="indent">Here we pass the real and imaginary parts of the complex number as two arguments to the <span class="literal">complex()</span> function, and it returns a complex number.</p>
<p class="indent">You can add and subtract complex numbers in the same way as real numbers:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">b = 3 + 3j</span><br/>&gt;&gt;&gt; <span class="codestrong">a + b</span><br/>(5 + 6j)<br/>&gt;&gt;&gt; <span class="codestrong">a - b</span><br/>(-1 + 0j)</p>
<p class="indent"><a id="page_7"></a>Multiplication and division of complex numbers are also carried out similarly:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a * b</span><br/>(-3 + 15j)<br/>&gt;&gt;&gt; <span class="codestrong">a / b</span><br/>(0.8333333333333334 + 0.16666666666666666j)</p>
<p class="indent">The modulus (<span class="literal">%</span>) and the floor division (<span class="literal">//</span>) operations are not valid for complex numbers.</p>
<p class="indent">The real and imaginary parts of a complex number can be retrieved using its <span class="literal">real</span> and <span class="literal">imag</span> attributes, as follows:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">z = 2 + 3j</span><br/>&gt;&gt;&gt; <span class="codestrong">z.real</span><br/>2.0<br/>&gt;&gt;&gt; <span class="codestrong">z.imag</span><br/>3.0</p>
<p class="indent">The <em>conjugate</em> of a complex number has the same real part but an imaginary part with an equal magnitude and an opposite sign. It can be obtained using the <span class="literal">conjugate()</span> method:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">z.conjugate()</span><br/>(2 - 3j)</p>
<p class="indent">Both the real and imaginary parts are floating point numbers. Using the real and imaginary parts, you can then calculate the <em>magnitude</em> of a complex number with the following formula, where <em>x</em> and <em>y</em> are the real and imaginary parts of the number, respectively: <img src="images/e0007-01.jpg" alt="image" />. In Python, this would look like the following:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">(z.real ** 2 + z.imag ** 2) ** 0.5</span><br/>3.605551275463989</p>
<p class="indent">A simpler way to find the magnitude of a complex number is with the <span class="literal">abs()</span> function. The <span class="literal">abs()</span> function returns the absolute value when called with a real number as its argument. For example, <span class="literal">abs(5)</span> and <span class="literal">abs(-5)</span> both return 5. However, for complex numbers, it returns the magnitude:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">abs(z)</span><br/>3.605551275463989</p>
<p class="indent">The standard library’s <span class="literal">cmath</span> module (<span class="literal">cmath</span> for <em>complex math</em>) provides access to a number of other specialized functions to work with complex numbers.</p>
<h3 class="h3" id="ch01lev1sec04"><a id="page_8"></a><strong>Getting User Input</strong></h3>
<p class="noindent">As we start to write programs, it will help to have a nice, simple way to accept user input via the <span class="literal">input()</span> function. That way, we can write programs that ask a user to input a number, perform specific operations on that number, and then display the results of the operations. Let’s see it in action:</p>
<p class="programs"><span class="ent">➊</span> &gt;&gt;&gt; <span class="codestrong">a = input()</span><br/><span class="ent">➋</span> 1</p>
<p class="indent">At <span class="ent">➊</span>, we call the <span class="literal">input()</span> function, which waits for you to type something, as shown at <span class="ent">➋</span>, and press <small>ENTER</small>. The input provided is stored in <span class="literal">a</span>:</p>
<p class="programs">   &gt;&gt;&gt; <span class="codestrong">a</span><br/><span class="ent">➌</span> '1'</p>
<p class="indent">Notice the single quotes around 1 at <span class="ent">➌</span>. The <span class="literal">input()</span> function returns the input as a <em>string</em>. In Python, a string is any set of characters between two quotes. When you want to create a string, either single quotes or double quotes can be used:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">s1 = 'a string'</span><br/>&gt;&gt;&gt; <span class="codestrong">s2 = "a string"</span></p>
<p class="indent">Here, both <span class="literal">s1</span> and <span class="literal">s2</span> refer to the same string.</p>
<p class="indent">Even if the only characters in a string are numbers, Python won’t treat that string as a number unless we get rid of those quotation marks. So before we can perform any mathematical operations with the input, we’ll have to convert it into the correct number type. A string can be converted to an integer or floating point number using the <span class="literal">int()</span> or <span class="literal">float()</span> function, respectively:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = '1'</span><br/>&gt;&gt;&gt; <span class="codestrong">int(a) + 1</span><br/>2<br/>&gt;&gt;&gt; <span class="codestrong">float(a) + 1</span><br/>2.0</p>
<p class="indent">These are the same <span class="literal">int()</span> and <span class="literal">float()</span> functions we saw earlier, but this time instead of converting the input from one kind of number to another, they take a string as input (<span class="literal">'1'</span>) and return a number (<span class="literal">2</span> or <span class="literal">2.0</span>). It’s important to note, however, that the <span class="literal">int()</span> function cannot convert a string containing a floating point decimal into an integer. If you take a string that has a floating point number (like <span class="literal">'2.5'</span> or even <span class="literal">'2.0'</span>) and input that string into the <span class="literal">int()</span> function, you’ll get an error message:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">int('2.0')</span><br/>Traceback (most recent call last):<br/><a id="page_9"></a><br/>  File "&lt;pyshell#26&gt;", line 1, in &lt;module&gt;<br/>    int('2.0')<br/>ValueError: invalid literal for int() with base 10: '2.0'</p>
<p class="indent">This is an example of an <em>exception</em>—Python’s way of telling you that it cannot continue executing your program because of an error. In this case, the exception is of the type <span class="literal">ValueError</span>. (For a quick refresher on exceptions, see <a href="app02.html#app02">Appendix B</a>.)</p>
<p class="indent">Similarly, when you supply a fractional number such as 3/4 as an input, Python cannot convert it into an equivalent floating point number or integer. Once again, a <span class="literal">ValueError</span> exception is raised:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = float(input())</span><br/>3/4<br/>Traceback (most recent call last):<br/>  File "&lt;pyshell#25&gt;", line 1, in &lt;module&gt;<br/>    a=float(input())<br/>ValueError: could not convert string to float: '3/4'</p>
<p class="indent">You may find it useful to perform the conversion in a <span class="literal">try...except</span> block so that you can <em>handle</em> this exception and alert the user that the program has encountered an invalid input. We’ll look at <span class="literal">try...except</span> blocks next.</p>
<h4 class="h4" id="ch01lev2sec03"><strong><em>Handling Exceptions and Invalid Input</em></strong></h4>
<p class="noindent">If you’re not familiar with <span class="literal">try...except</span>, the basic idea is this: if you execute one or more statements in a <span class="literal">try...except</span> block and there’s an error while executing, your program will not crash and print a <span class="literal">Traceback</span>. Instead, the execution is transferred to the <span class="literal">except</span> block, where you can perform an appropriate operation, for instance, printing a helpful error message or trying something else.</p>
<p class="indent">This is how you would perform the above conversion in a <span class="literal">try...except</span> block and print a helpful error message on invalid input:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">try:</span><br/>        <span class="codestrong">a = float(input('Enter a number: '))</span><br/><span class="codestrong">except ValueError:</span><br/>        <span class="codestrong">print('You entered an invalid number')</span></p>
<p class="indent">Note that we need to specify the type of exception we want to handle. Here, we want to handle the <span class="literal">ValueError</span> exception, so we specify it as <span class="literal">except ValueError</span>.</p>
<p class="indent">Now, when you give an invalid input, such as 3/4, it prints a helpful error message, as shown at <span class="ent">➊</span>:</p>
<p class="programs">   Enter a number: <span class="codestrong">3/4</span><br/><span class="ent">➊</span> You entered an invalid number</p>
<p class="indent"><a id="page_10"></a>You can also specify a prompt with the <span class="literal">input()</span> function to tell the user what kind of input is expected. For example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = input('Input an integer: ')</span></p>
<p class="indent">The user will now see the message hinting to enter an integer as input:</p>
<p class="programs">Input an integer: <span class="codestrong">1</span></p>
<p class="indent">In many programs in this book, we’ll ask the user to enter a number as input, so we’ll have to make sure we take care of conversion before we attempt to perform any operations on these numbers. You can combine the input and conversion in a single statement, as follows:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = int(input())</span><br/>1<br/>&gt;&gt;&gt; <span class="codestrong">a + 1</span><br/>2</p>
<p class="indent">This works great if the user inputs an integer. But as we saw earlier, if the input is a floating point number (even one that’s equivalent to an integer, like 1.0), this will produce an error:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = int(input())</span><br/><span class="codestrong">1.0</span><br/>Traceback (most recent call last):<br/>  File "&lt;pyshell#42&gt;", line 1, in &lt;module&gt;<br/>    a=int(input())<br/>ValueError: invalid literal for int() with base 10: '1.0'</p>
<p class="indent">In order to avoid this error, we could set up a <span class="literal">ValueError</span> catch like the one we saw earlier for fractions. That way the program would catch floating point numbers, which won’t work in a program meant for integers. However, it would also flag numbers like 1.0 and 2.0, which Python <em>sees</em> as floating point numbers but that are equivalent to integers and would work just fine if they were entered as the right Python type.</p>
<p class="indent">To get around all this, we will use the <span class="literal">is_integer()</span> method to filter out any numbers with a significant digit after the decimal point. (This method is only defined for <span class="literal">float</span> type numbers in Python; it won’t work with numbers that are already entered in integer form.)</p>
<p class="indent">Here’s an example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">1.1.is_integer()</span><br/>False</p>
<p class="indent">Here, we call the method <span class="literal">is_integer()</span> to check if 1.1 is an integer, and the result is <span class="literal">False</span> because 1.1 really is a floating point number. On the other <a id="page_11"></a>hand, when the method is called with 1.0 as the floating point number, the result is <span class="literal">True</span>:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">1.0.is_integer()</span><br/>True</p>
<p class="indent">We can use <span class="literal">is_integer()</span> to filter out noninteger input while keeping inputs like 1.0, which is expressed as a floating point number but is equivalent to an integer. We’ll see how the method would fit into a larger program a bit later.</p>
<h4 class="h4" id="ch01lev2sec04"><strong><em>Fractions and Complex Numbers as Input</em></strong></h4>
<p class="noindent">The <span class="literal">Fraction</span> class we learned about earlier is also capable of converting a string such as <span class="literal">'3/4'</span> to a <span class="literal">Fraction</span> object. In fact, this is how we can accept a fraction as an input:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = Fraction(input('Enter a fraction: '))</span><br/>Enter a fraction: <span class="codestrong">3/4</span><br/>&gt;&gt;&gt; <span class="codestrong">a</span><br/>Fraction(3, 4)</p>
<p class="indent">Try entering a fraction such as 3/0 as input:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = Fraction(input('Enter a fraction: '))</span><br/>Enter a fraction: <span class="codestrong">3/0</span><br/>Traceback (most recent call last):<br/>  File "&lt;pyshell#2&gt;", line 1, in &lt;module&gt;<br/>    a = Fraction(input('Enter a fraction: '))<br/>  File "/usr/lib64/python3.3/fractions.py", line 167, in __new__<br/>    raise ZeroDivisionError('Fraction(%s, 0)' % numerator)<br/>ZeroDivisionError: Fraction(3, 0)</p>
<p class="indent">The <span class="literal">ZeroDivisionError</span> exception message tells you (as you already know) that a fraction with a denominator of 0 is invalid. If you’re planning on having users enter fractions as input in one of your programs, it’s a good idea to always catch such exceptions. Here is how you can do something like that:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">try:</span><br/>        <span class="codestrong">a = Fraction(input('Enter a fraction: '))<br/>except ZeroDivisionError:</span><br/>        <span class="codestrong">print('Invalid fraction')</span><br/><br/>Enter a fraction: <span class="codestrong">3/0</span><br/>Invalid fraction</p>
<p class="indent">Now, whenever your program’s user enters a fraction with 0 in the denominator, it’ll print the message <span class="literal">Invalid fraction</span>.</p>
<p class="indent"><a id="page_12"></a>Similarly, the <span class="literal">complex()</span> function can convert a string such as <span class="literal">'2+3j'</span> into a complex number:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">z = complex(input('Enter a complex number: '))</span><br/>Enter a complex number: <span class="codestrong">2+3j</span><br/>&gt;&gt;&gt; <span class="codestrong">z</span><br/>(2+3j)</p>
<p class="indent">If you enter the string as <span class="literal">'2 + 3j'</span> (with spaces), it will result in a <span class="literal">ValueError</span> error message:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">z = complex(input('Enter a complex number: '))</span><br/>Enter a complex number: <span class="codestrong">2 + 3j</span><br/>Traceback (most recent call last):<br/>  File "&lt;pyshell#43&gt;", line 1, in &lt;module&gt;<br/>    z = complex(input('Enter a complex number: '))<br/>ValueError: complex() arg is a malformed string</p>
<p class="indent">It’s a good idea to catch the <span class="literal">ValueError</span> exception when converting a string to a complex number, as we’ve done for other number types.</p>
<h3 class="h3" id="ch01lev1sec05"><strong>Writing Programs That Do the Math for You</strong></h3>
<p class="noindent">Now that we have learned some of the basic concepts, we can combine them with Python’s conditional and looping statements to make some programs that are a little more advanced and useful.</p>
<h4 class="h4" id="ch01lev2sec05"><strong><em>Calculating the Factors of an Integer</em></strong></h4>
<p class="noindent">When a nonzero integer, <span class="literal">a</span>, divides another integer, <span class="literal">b</span>, leaving a remainder 0, <span class="literal">a</span> is said to be a <em>factor</em> of <span class="literal">b</span>. As an example, 2 is a factor of all even integers. We can write a function such as the one below to find whether a nonzero integer, <span class="literal">a</span>, is a factor of another integer, <span class="literal">b</span>:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">def is_factor(a, b):</span><br/>        <span class="codestrong">if b % a == 0:</span><br/>            <span class="codestrong">return True</span><br/>        <span class="codestrong">else:</span><br/>            <span class="codestrong">return False</span></p>
<p class="indent">We use the <span class="literal">%</span> operator introduced earlier in this chapter to calculate the remainder. If you ever find yourself asking a question like “Is 4 a factor of 1024?”, you can use the <span class="literal">is_factor()</span> function:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">is_factor(4, 1024)</span><br/>True</p>
<p class="indent">For any positive integer <em>n</em>, how do we find all its positive factors? For each of the integers between 1 and <em>n</em>, we check the remainder after dividing <em>n</em> by this integer. If it leaves a remainder of 0, it’s a factor. We’ll use the <a id="page_13"></a><span class="literal">range()</span> function to write a program that will go through each of those numbers between 1 and <em>n</em>.</p>
<p class="indent">Before we write the full program, let’s take a look at how <span class="literal">range()</span> works. A typical use of the <span class="literal">range()</span> function looks like this:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">for i in range(1, 4):</span><br/>        <span class="codestrong">print(i)</span><br/>1<br/>2<br/>3</p>
<p class="indent">Here, we set up a <span class="literal">for</span> loop and gave the range function two arguments. The <span class="literal">range()</span> function starts from the integer stated as the first argument (the <em>start value</em>) and continues up to the integer just <em>before</em> the one stated by the second argument (the <em>stop value</em>). In this case, we told Python to print out the numbers in that range, beginning with 1 and stopping at 4. Note that this means Python doesn’t print 4, so the last number it prints is the number before the stop value (3). It’s also important to note that the <span class="literal">range()</span> function accepts only integers as its arguments.</p>
<p class="indent">You can also use the <span class="literal">range()</span> function without specifying the start value, in which case it’s assumed to be 0. For example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">for i in range(5):</span><br/>        <span class="codestrong">print(i)</span><br/>0<br/>1<br/>2<br/>3<br/>4</p>
<p class="indent">The difference between two consecutive integers produced by the <span class="literal">range()</span> function is known as the <em>step value</em>. By default, the step value is 1. To specify a different step value, specify it as the third argument (the start value is <em>not</em> optional when you specify a step value). For example, the following program prints the odd numbers <em>below</em> 10:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">for i in range(1,10,2):</span><br/>        <span class="codestrong">print(i)</span><br/>1<br/>3<br/>5<br/>7<br/>9</p>
<p class="indent">Okay, now that we see how the <span class="literal">range()</span> function works, we’re ready to look at a factor-calculating program. Because I’m writing a fairly long program, instead of writing this program in the interactive IDLE prompt, I write it in the IDLE editor. You can start the editor by selecting <strong>File</strong><span class="ent">▸</span><strong>New Window</strong> in IDLE. Notice that we start out by commenting our code with <a id="page_14"></a>three straight single quotes (<span class="literal">'</span>). The text in between those quotes won’t be executed by Python as part of the program; it’s just commentary for us humans.</p>
<p class="programs">   '''<br/>   Find the factors of an integer<br/>   '''<br/><br/>   def factors(b):<br/><br/><span class="ent">➊</span>     for i in range(1, b+1):<br/>           if b % i == 0:<br/>               print(i)<br/><br/>   if __name__ == '__main__':<br/><br/>       b = input('Your Number Please: ')<br/>       b = float(b)<br/><br/><span class="ent">➋</span>     if b &gt; 0 and b.is_integer():<br/>           factors(int(b))<br/>       else:<br/>           print('Please enter a positive integer')</p>
<p class="indent">The <span class="literal">factors()</span> function defines a <span class="literal">for</span> loop that iterates once for every integer between 1 and the input integer at <span class="ent">➊</span> using the <span class="literal">range()</span> function. Here, we want to iterate up to the integer entered by the user, <span class="literal">b</span>, so the stop value is stated as <span class="literal">b+1</span>. For each of these integers, <span class="literal">i</span>, the program checks whether it divides the input number with no remainder and prints it if so.</p>
<p class="indent">When you run this program (by selecting <strong>Run</strong><span class="ent">▸</span><strong>Run Module</strong>), it asks you to input a number. If your number is a positive integer, its factors are printed. For example:</p>
<p class="programs">Your Number Please: <span class="codestrong">25</span><br/>1<br/>5<br/>25</p>
<p class="indent">If you enter a non-integer or a negative integer as an input, the program prints an error message asking you to input a positive integer:</p>
<p class="programs">Your Number Please: <span class="codestrong">15.5</span><br/>Please enter a positive integer</p>
<p class="indent">This is an example of how we can make programs more user friendly by always checking for invalid input in the program itself. Because our program works only for finding the factors of a positive integer, we check whether the input number is greater than 0 and is an integer using the <span class="literal">is_integer()</span> method <span class="ent">➋</span> to make sure the input is valid. If the input isn’t a positive integer, the program prints a user-friendly instruction instead of just a big error message.</p>
<h4 class="h4" id="ch01lev2sec06"><a id="page_15"></a><strong><em>Generating Multiplication Tables</em></strong></h4>
<p class="noindentb">Consider three numbers, <em>a</em>, <em>b</em>, and <em>n</em>, where <em>n</em> is an integer, such that</p>
<p class="center"><em>a</em> × <em>n</em> = <em>b</em>.</p>
<p class="indentt">We can say here that <em>b</em> is the <em>n</em>th <em>multiple</em> of <em>a</em>. For example, 4 is the 2nd multiple of 2, and 1024 is the 512nd multiple of 2.</p>
<p class="indentb">A multiplication table for a number lists all of that number’s multiples. For example, the multiplication table of 2 looks like this (first three multiples shown here):</p>
<p class="center">2 × 1 = 2</p>
<p class="center">2 × 2 = 4</p>
<p class="center">2 × 3 = 6</p>
<p class="indentt">Our next program generates the multiplication number up to 10 for any number input by the user. In this program, we’ll use the <span class="literal">format()</span> method with the <span class="literal">print()</span> function to help make the program’s output look nicer and more readable. In case you haven’t seen it before, I’ll now briefly explain how it works.</p>
<p class="indent">The <span class="literal">format()</span> method lets you plug in labels and set it up so that they get printed out in a nice, readable string with extra formatting around it. For example, if I had the names of all the fruits I bought at the grocery store with separate labels created for each and wanted to print them out to make a coherent sentence, I could use the <span class="literal">format()</span> method as follows:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">item1 = 'apples'</span><br/>&gt;&gt;&gt; <span class="codestrong">item2 = 'bananas'</span><br/>&gt;&gt;&gt; <span class="codestrong">item3 = 'grapes'</span><br/>&gt;&gt;&gt; <span class="codestrong">print('At the grocery store, I bought some {0} and {1} and {2}'.format(item1, item2, item3))</span><br/>At the grocery store, I bought some apples and bananas and grapes</p>
<p class="indent">First, we created three labels (<span class="literal">item1</span>, <span class="literal">item2</span>, and <span class="literal">item3</span>), each referring to a different string (<span class="literal">apples</span>, <span class="literal">bananas</span>, and <span class="literal">grapes</span>). Then, in the <span class="literal">print()</span> function, we typed a string with three placeholders in curly brackets: <span class="literal">{0}</span>, <span class="literal">{1}</span>, and <span class="literal">{2}</span>. We followed this with <span class="literal">.format()</span>, which holds the three labels we created. This tells Python to fill those three placeholders with the values stored in those labels in the order listed, so Python prints the text with <span class="literal">{0}</span> replaced by the first label, <span class="literal">{1}</span> replaced by the second label, and so on.</p>
<p class="indent">It’s not necessary to have labels pointing to the values we want to print. We can also just type values into <span class="literal">.format()</span>, as in the following example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">print('Number 1: {0} Number 2: {1} '.format(1, 3.578))</span><br/>Number 1: 1 Number 2: 3.578</p>
<p class="indent">Note that the number of placeholders and the number of labels or values must be equal.</p>
<p class="indent"><a id="page_16"></a>Now that we’ve seen how <span class="literal">format()</span> works, we’re ready to take a look at the program for our multiplication table printer:</p>
<p class="programs">   '''<br/>   Multiplication table printer<br/>   '''<br/><br/>   def multi_table(a):<br/><br/><span class="ent">➊</span>     for i in range(1, 11):<br/>           print('{0} x {1} = {2}'.format(a, i, a*i))<br/><br/>   if __name__ == '__main__':<br/>       a = input('Enter a number: ')<br/>       multi_table(float(a))</p>
<p class="indent">The function <span class="literal">multi_table()</span> implements the main functionality of the program. It takes the number for which the multiplication table will be printed as a parameter, <span class="literal">a</span>. Because we want to print the multiplication table from 1 to 10, we have a <span class="literal">for</span> loop at <span class="ent">➊</span> that iterates over each of these numbers, printing the product of itself and the number, <span class="literal">a</span>.</p>
<p class="indent">When you execute the program, it asks you to input a number, and the program prints its multiplication table:</p>
<p class="programs">Enter a number : <span class="codestrong">5</span><br/>5.0 x 1 = 5.0<br/>5.0 x 2 = 10.0<br/>5.0 x 3 = 15.0<br/>5.0 x 4 = 20.0<br/>5.0 x 5 = 25.0<br/>5.0 x 6 = 30.0<br/>5.0 x 7 = 35.0<br/>5.0 x 8 = 40.0<br/>5.0 x 9 = 45.0<br/>5.0 x 10 = 50.0</p>
<p class="indent">See how nice and orderly that table looks? That’s because we used the <span class="literal">.format()</span> method to print the output according to a readable, uniform template.</p>
<p class="indent">You can use the <span class="literal">format()</span> method to further control how numbers are printed. For example, if you want numbers with only two decimal places, you can specify that with the <span class="literal">format()</span> method. Here is an example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'{0}'.format(1.25456)</span><br/>'1.25456'<br/>&gt;&gt;&gt; <span class="codestrong">'{0:.2f}'.format(1.25456)</span><br/>'1.25'</p>
<p class="indent">The first format statement above simply prints the number exactly as we entered it. In the second statement, we modify the place holder to <span class="literal">{0:.2f}</span>, <a id="page_17"></a>meaning that we want only two numbers after the decimal point, with the <span class="literal">f</span> indicating a floating point number. As you can see, there are only two numbers after the decimal point in the next output. Note that the number is rounded if there are more numbers after the decimal point than you specified. For example:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'{0:.2f}'.format(1.25556)</span><br/>'1.26'</p>
<p class="indent">Here, 1.25556 is rounded up to the nearest hundredth and printed as 1.26. If you use <span class="literal">.2f</span> and the number you are printing is an integer, zeros are added at the end:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">'{0:.2f}'.format(1)</span><br/>'1.00'</p>
<p class="indent">Two zeros are added because we specified that we should print exactly two numbers after the decimal point.</p>
<h4 class="h4" id="ch01lev2sec07"><strong><em>Converting Units of Measurement</em></strong></h4>
<p class="noindent">The International System of Units defines seven <em>base quantities</em>. These are then used to derive other quantities, referred to as <em>derived quantities</em>. Length (including width, height, and depth), time, mass, and temperature are four of the seven base quantities. Each of these quantities has a standard unit of measurement: meter, second, kilogram, and kelvin, respectively.</p>
<p class="indent">But each of these standard measurement units also has multiple nonstandard measurement units. You are more familiar with the temperature being reported as 30 degrees Celsius or 86 degrees Fahrenheit than as 303.15 kelvin. Does that mean 303.15 kelvin feels three times hotter than 86 degrees Fahrenheit? No way! We can’t compare 86 degrees Fahrenheit to 303.15 kelvin only by their numerical values because they’re expressed in different measurement units, even though they measure the same physical quantity—temperature. You can compare two measurements of a physical quantity only when they’re expressed in the same unit of measurement.</p>
<p class="indent">Conversions between different units of measurement can be tricky, and that’s why you’re often asked to solve problems that involve conversion between different units of measurement in high school. It’s a good way to test your basic mathematical skills. But Python has plenty of math skills, too, and, unlike some high school students, it doesn’t get tired of crunching numbers over and over again in a loop! Next, we’ll explore writing programs to perform those unit conversions for you.</p>
<p class="indent">We’ll start with length. In the United States and United Kingdom, inches and miles are often used for measuring length, while most other countries use centimeters and kilometers.</p>
<p class="indent">An inch is equal to 2.54 centimeters, and you can use the multiplication operation to convert a measurement in inches to centimeters. You can then <a id="page_18"></a>divide the measurement in centimeters by 100 to obtain the measurement in meters. For example, here’s how you can convert 25.5 inches to meters:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">(25.5 * 2.54) / 100</span><br/>0.6476999999999999</p>
<p class="indent">On the other hand, a mile is roughly equivalent to 1.609 kilometers. So if you see that your destination is 650 miles away, you’re 650 × 1.609 kilometers away:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">650 * 1.609</span><br/>1045.85</p>
<p class="indent">Now let’s take a look at <em>temperature</em> conversion—converting temperature from Fahrenheit to Celsius and vice versa. Temperature expressed in Fahrenheit is converted into its equivalent value in Celsius using the formula</p>
<div class="image2"><img src="images/e0018-01.jpg" alt="image" /></div>
<p class="indent"><em>F</em> is the temperature in Fahrenheit, and <em>C</em> is its equivalent in Celsius. You know that 98.6 degrees Fahrenheit is said to be the normal human body temperature. To find the corresponding temperature in degrees Celsius, we evaluate the above formula in Python:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">F = 98.6</span><br/>&gt;&gt;&gt; <span class="codestrong">(F - 32) * (5 / 9)</span><br/>37.0</p>
<p class="indent">First, we create a label, <span class="literal">F</span>, with the temperature in Fahrenheit, 98.6. Next, we evaluate the formula for converting this temperature to its equivalent in Celsius, which turns out be 37.0 degrees Celsius.</p>
<p class="indent">To convert temperature from Celsius to Fahrenheit, you would use the formula</p>
<div class="image2"><img src="images/e0018-02.jpg" alt="image" /></div>
<p class="indent">You can evaluate this formula in a similar manner:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">C = 37</span><br/>&gt;&gt;&gt; <span class="codestrong">C * (9 / 5) + 32</span><br/>98.60000000000001</p>
<p class="indent">We create a label, <span class="literal">C</span>, with the value 37 (the normal human body temperature in Celsius). Then, we convert it into Fahrenheit using the formula, and the result is 98.6 degrees.</p>
<p class="indent">It’s a chore to have to write these conversion formulas over and over again. Let’s write a unit conversion program that will do the conversions <a id="page_19"></a>for us. This program will present a menu to allow users to select the conversion they want to perform, ask for relevant input, and then print the calculated result. The program is shown below:</p>
<p class="programs">   '''<br/>   Unit converter: Miles and Kilometers<br/>   '''<br/><br/>   def print_menu():<br/>       print('1. Kilometers to Miles')<br/>       print('2. Miles to Kilometers')<br/><br/>   def km_miles():<br/>       km = float(input('Enter distance in kilometers: '))<br/>       miles = km / 1.609<br/><br/>       print('Distance in miles: {0}'.format(miles))<br/><br/>   def miles_km():<br/>       miles = float(input('Enter distance in miles: '))<br/>       km = miles * 1.609<br/><br/>       print('Distance in kilometers: {0}'.format(km))<br/><br/>   if __name__ == '__main__':<br/><span class="ent">➊</span>     print_menu()<br/><span class="ent">➋</span>     choice = input('Which conversion would you like to do?: ')<br/>       if choice == '1':<br/>           km_miles()<br/><br/>       if choice == '2':<br/>           miles_km()</p>
<p class="indent">This is a slightly longer program than the others, but not to worry. It’s actually simple. Let’s start from <span class="ent">➊</span>. The <span class="literal">print_menu()</span> function is called, which prints a menu with two unit conversion choices. At <span class="ent">➋</span>, the user is asked to select one of the two conversions. If the choice is entered as 1 (kilometers to miles), the function <span class="literal">km_miles()</span> is called. If the choice is entered as 2 (miles to kilometers), the function <span class="literal">miles_km()</span> is called. In both of these functions, the user is first asked to enter a distance in the unit chosen for conversion (kilometers for <span class="literal">km_miles()</span> and miles for <span class="literal">miles_km()</span>). The program then performs the conversion using the corresponding formula and displays the result.</p>
<p class="indent">Here is a sample run of the program:</p>
<p class="programs">   1. Kilometers to Miles<br/>   2. Miles to Kilometers<br/><span class="ent">➊</span> Which conversion would you like to do?: <span class="codestrong">2</span><br/>   Enter distance in miles: <span class="codestrong">100</span><br/>   Distance in kilometers: 160.900000</p>
<p class="indent"><a id="page_20"></a>The user is asked to enter a choice at <span class="ent">➊</span>. The choice is entered as 2 (miles to kilometers). The program then asks the user to enter the distance in miles to be converted to kilometers and prints the conversion.</p>
<p class="indent">This program just converts between miles and kilometers, but in a programming challenge later, you’ll extend this program so that it can perform conversions of other units.</p>
<h4 class="h4" id="ch01lev2sec08"><strong><em>Finding the Roots of a Quadratic Equation</em></strong></h4>
<p class="noindent">What do you do when you have an equation such as <em>x</em> + 500 – 79 = 10 and you need to find the value of the unknown variable, <em>x</em>? You rearrange the terms such that you have only the constants (500, –79, and 10) on one side of the equation and the variable (<em>x</em>) on the other side. This results in the following equation: <em>x</em> = 10 – 500 + 79.</p>
<p class="indent">Finding the value of the expression on the right gives you the value of <em>x</em>, your solution, which is also called the <em>root</em> of this equation. In Python, you can do this as follows:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">x = 10 - 500 + 79</span><br/>&gt;&gt;&gt; <span class="codestrong">x</span><br/>-411</p>
<p class="indent">This is an example of a <em>linear equation</em>. Once you have rearranged the terms on both sides, the expression is simple enough to evaluate. On the other hand, for equations such as <em>x</em><sup>2</sup> + 2<em>x</em> + 1 = 0, finding the roots of <em>x</em> usually involves evaluating a complex expression known as the <em>quadratic formula</em>. Such equations are known as <em>quadratic equations</em>, generally expressed as <em>ax</em><sup>2</sup> + <em>bx</em> + <em>c</em> = 0, where <em>a</em>, <em>b</em>, and <em>c</em> are constants. The quadratic formula for calculating the roots is given as follows:</p>
<div class="image2"><img src="images/e0020-01.jpg" alt="image" /></div>
<p class="indent">A quadratic equation has two roots—two values of <em>x</em> for which the two sides of the quadratic equation are equal (although sometimes these two values may turn out to be the same). This is indicated here by the <em>x</em><sub>1</sub> and <em>x</em><sub>2</sub> in the quadratic formula.</p>
<p class="indent">Comparing the equation <em>x</em><sup>2</sup> + 2<em>x</em> + 1 = 0 to the generic quadratic equation, we see that <em>a</em> = 1, <em>b</em> = 2, and <em>c</em> = 1. We can substitute these values directly into the quadratic formula to calculate the value of <em>x</em><sub>1</sub> and <em>x</em><sub>2</sub>. In Python, we first store the values of <em>a</em>, <em>b</em>, and <em>c</em> as the labels <span class="literal">a</span>, <span class="literal">b</span>, and <span class="literal">c</span> with the appropriate values:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">a = 1</span><br/>&gt;&gt;&gt; <span class="codestrong">b = 2</span><br/>&gt;&gt;&gt; <span class="codestrong">c = 1</span></p>
<p class="indent"><a id="page_21"></a>Then, considering that both the formulas have the term <em>b</em><sup>2</sup> – 4<em>ac</em>, we’ll define a new label with <em>D</em>, such that <img src="images/e0021-01.jpg" alt="image" />:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">D = (b**2 – 4*a*c)**0.5</span></p>
<p class="indent">As you can see, we evaluate the square root of <em>b</em><sup>2</sup> – 4<em>ac</em> by raising it to the 0.5th power. Now, we can write the expressions for evaluating <em>x</em><sub>1</sub> and <em>x</em><sub>2</sub>:</p>
<p class="programs">&gt;&gt;&gt; <span class="codestrong">x_1 = (-b + D)/(2*a)</span><br/>&gt;&gt;&gt; <span class="codestrong">x_1</span><br/>-1.0<br/>&gt;&gt;&gt; <span class="codestrong">x_2 = (-b - D)/(2*a)</span><br/>&gt;&gt;&gt; <span class="codestrong">x_2</span><br/>-1.0</p>
<p class="indent">In this case, the values of both the roots are the same, and if you substitute that value into the equation <em>x</em><sup>2</sup> + 2<em>x</em> + 1, the equation will evaluate to 0.</p>
<p class="indent">Our next program combines all these steps in a function <span class="literal">roots()</span>, which takes the values of <em>a</em>, <em>b</em>, and <em>c</em> as parameters, calculates the roots, and prints them:</p>
<p class="programs">'''<br/>Quadratic equation root calculator<br/>'''<br/><br/>def roots(a, b, c):<br/><br/>    D = (b*b - 4*a*c)**0.5<br/>    x_1 = (-b + D)/(2*a)<br/>    x_2 = (-b - D)/(2*a)<br/><br/>    print('x1: {0}'.format(x_1))<br/>    print('x2: {0}'.format(x_2))<br/><br/>if __name__ == '__main__':<br/>    a = input('Enter a: ')<br/>    b = input('Enter b: ')<br/>    c = input('Enter c: ')<br/>    roots(float(a), float(b), float(c))</p>
<p class="indent">At first, we use the labels <span class="literal">a</span>, <span class="literal">b</span>, and <span class="literal">c</span> to reference the values of the three constants of a quadratic equation. Then, we call the <span class="literal">roots()</span> function with these three values as arguments (after converting them to floating point numbers). This function plugs <span class="literal">a</span>, <span class="literal">b</span>, and <span class="literal">c</span> into the quadratic formula, finds the roots for that equation, and prints them.</p>
<p class="indent">When you execute the program, it will ask the user to input values of <em>a</em>, <em>b</em>, and <em>c</em> corresponding to a quadratic equation they want to find the roots for.</p>
<p class="programs">Enter a: <span class="codestrong">1</span><br/>Enter b: <span class="codestrong">2</span><br/>Enter c: <span class="codestrong">1</span><br/><a id="page_22"></a><br/>x1: -1.000000<br/>x2: -1.000000</p>
<p class="indent">Try solving a few more quadratic equations with different values for the constants, and the program will find the roots correctly.</p>
<p class="indent">You most likely know that quadratic equations can have complex numbers as roots, too. For example, the roots of the equation <em>x</em><sup>2</sup> + <em>x</em> + 1 = 0 are both complex numbers. The above program can find those for you as well. Let’s give it a shot by executing the program again (the constants are <em>a</em> = 1, <em>b</em> = 1, and <em>c</em> = 1):</p>
<p class="programs">Enter a: <span class="codestrong">1</span><br/>Enter b: <span class="codestrong">1</span><br/>Enter c: <span class="codestrong">1</span><br/>x1: (-0.49999999999999994+0.8660254037844386j)<br/>x2: (-0.5-0.8660254037844386j)</p>
<p class="indent">The roots printed above are complex numbers (indicated by <span class="literal">j</span>), and the program has no problem calculating or displaying them.</p>
<h3 class="h3" id="ch01lev1sec06"><strong>What You Learned</strong></h3>
<p class="noindent">Great work on finishing the first chapter! You learned to write programs that recognize integers, floating point numbers, fractional numbers (expressed as a fraction or a floating point number), and complex numbers. You wrote programs that generate multiplication tables, perform unit conversions, and find the roots of a quadratic equation. I’m sure you’re already excited about having taken the first steps toward writing programs that will do mathematical calculations for you. Before we move on, here are some programming challenges that will give you a chance to further apply what you’ve learned.</p>
<h3 class="h3" id="ch01lev1sec07"><strong><span class="bordera">Programming Challenges</span></strong></h3>
<p class="noindent">Here are a few challenges that will give you a chance to practice the concepts from this chapter. Each problem can be solved in multiple ways, but you can find sample solutions at <em><a href="http://www.nostarch.com/doingmathwithpython/">http://www.nostarch.com/doingmathwithpython/</a></em>.</p>
<h4 class="h4" id="ch01lev2sec09"><strong><em>#1: Even-Odd Vending Machine</em></strong></h4>
<p class="noindentb">Try writing an “even-odd vending machine,” which will take a number as input and do two things:</p>
<p class="order">1. Print whether the number is even or odd.</p>
<p class="order">2. Display the number followed by the next 9 even or odd numbers.</p>
<p class="indentt">If the input is <span class="literal">2</span>, the program should print <span class="literal">even</span> and then print <span class="literal">2, 4, 6, 8, 10, 12, 14, 16, 18, 20</span>. Similarly, if the input is <span class="literal">1</span>, the program should print <span class="literal">odd</span> and then print <span class="literal">1, 3, 5, 7, 9, 11, 13, 15, 17, 19</span>.</p>
<p class="indent"><a id="page_23"></a>Your program should use the <span class="literal">is_integer()</span> method to display an error message if the input is a number with significant digits beyond the decimal point.</p>
<h4 class="h4" id="ch01lev2sec10"><strong><em>#2: Enhanced Multiplication Table Generator</em></strong></h4>
<p class="noindent">Our multiplication table generator is cool, but it prints only the first 10 multiples. Enhance the generator so that the user can specify both the number and up to <em>which</em> multiple. For example, I should be able to input that I want to see a table listing the first 15 multiples of 9.</p>
<h4 class="h4" id="ch01lev2sec11"><strong><em>#3: Enhanced Unit Converter</em></strong></h4>
<p class="noindent">The unit conversion program we wrote in this chapter is limited to conversions between kilometers and miles. Try extending the program to convert between units of mass (such as kilograms and pounds) and between units of temperature (such as Celsius and Fahrenheit).</p>
<h4 class="h4" id="ch01lev2sec12"><strong><em>#4: Fraction Calculator</em></strong></h4>
<p class="noindent">Write a calculator that can perform the basic mathematical operations on two fractions. It should ask the user for two fractions and the operation the user wants to carry out. As a head start, here’s how you can write the program with only the addition operation:</p>
<p class="programs">   '''<br/>   Fraction operations<br/>   '''<br/>   from fractions import Fraction<br/><br/>   def add(a, b):<br/>       print('Result of Addition: {0}'.format(a+b))<br/><br/>   if __name__ == '__main__':<br/><span class="ent">➊</span>     a = Fraction(input('Enter first fraction: '))<br/><span class="ent">➋</span>     b = Fraction(input('Enter second fraction: '))<br/>       op = input('Operation to perform - Add, Subtract, Divide, Multiply: ')<br/>       if op == 'Add':<br/>           add(a,b)</p>
<p class="indent">You’ve already seen most of the elements in this program. At <span class="ent">➊</span> and <span class="ent">➋</span>, we ask the user to input the two fractions. Then, we ask the user which operation is to be performed on the two fractions. If the user enters <span class="literal">'Add'</span> as input, we call the function <span class="literal">add()</span>, which we’ve defined to find the sum of the two fractions passed as arguments. The <span class="literal">add()</span> function performs the operation and prints the result. For example:</p>
<p class="programs">Enter first fraction: <span class="codestrong">3/4</span><br/>Enter second fraction: <span class="codestrong">1/4</span><br/>Operation to perform - Add, Subtract, Divide, Multiply: <span class="codestrong">Add</span><br/>Result of Addition: 1</p>
<p class="indent"><a id="page_24"></a>Try adding support for other operations such as subtraction, division, and multiplication. For example, here’s how your program should be able to calculate the difference of two fractions:</p>
<p class="programs">Enter first fraction: <span class="codestrong">3/4</span><br/>Enter second fraction: <span class="codestrong">1/4</span><br/>Operation to perform - Add, Subtract, Divide, Multiply: <span class="codestrong">Subtract</span><br/>Result of Subtraction: 2/4</p>
<p class="indent">In the case of division, you should let the user know whether the first fraction is divided by the second fraction or vice versa.</p>
<h4 class="h4" id="ch01lev2sec13"><strong><em>#5: Give Exit Power to the User</em></strong></h4>
<p class="noindent">All the programs we have written so far work only for one iteration of input and output. For example, consider the program to print the multiplication table: the user executes the program and enters a number; then the program prints the multiplication table and exits. If the user wanted to print the multiplication table of another number, the program would have to be rerun.</p>
<p class="indent">It would be more convenient if the user could choose whether to exit or continue using the program. The key to writing such programs is to set up an <em>infinite loop</em>, or a loop that doesn’t exit unless explicitly asked to do so. Below, you can see an example of the layout for such a program:</p>
<p class="programs">   '''<br/>   Run until exit layout<br/>   '''<br/><br/>   def fun():<br/>       print('I am in an endless loop')<br/><br/>   if __name__ == '__main__':<br/><span class="ent">➊</span>     while True:<br/>           fun()<br/><span class="ent">➋</span>         answer = input('Do you want to exit? (y) for yes ')<br/>           if answer == 'y':<br/>               break</p>
<p class="indent">We define an infinite loop using <span class="literal">while True</span> at <span class="ent">➊</span>. A <span class="literal">while</span> loop continues to execute unless the condition evaluates to <span class="literal">False</span>. Because we chose the loop’s condition to be the constant value <span class="literal">True</span>, it will keep running forever unless we interrupt it somehow. Inside the loop, we call the function <span class="literal">fun()</span>, which prints the string <span class="literal">I am in an endless loop</span>. At <span class="ent">➋</span>, the user is asked “Do you want to exit?” If the user enters <span class="literal">y</span> as the input, the program exits out of the loop using the <span class="literal">break</span> statement (<span class="literal">break</span> exits out of the innermost loop without executing any other statement in that loop). If the user enters any other input (or none at all, just pressing <small>ENTER</small>), the <span class="literal">while</span> loop continues <a id="page_25"></a>execution—that is, it prints the string again and continues doing so until the user wishes to exit. Here is a sample run of the program:</p>
<p class="programs">I am in an endless loop<br/>Do you want to exit? (y) for yes <span class="codestrong">n</span><br/>I am in an endless loop<br/>Do you want to exit? (y) for yes <span class="codestrong">n</span><br/>I am in an endless loop<br/>Do you want to exit? (y) for yes <span class="codestrong">n</span><br/>I am in an endless loop<br/>Do you want to exit? (y) for yes <span class="codestrong">y</span></p>
<p class="indent">Based on this example, let’s rewrite the multiplication table generator so that it keeps going until the user wants to exit. The new version of the program is shown below:</p>
<p class="programs">'''<br/>Multiplication table printer with<br/>exit power to the user<br/>'''<br/><br/>def multi_table(a):<br/><br/>    for i in range(1, 11):<br/>        print('{0} x {1} = {2}'.format(a, i, a*i))<br/><br/>if __name__ == '__main__':<br/><br/><br/>    <span class="codestrong">while True:</span><br/>        a = input('Enter a number: ')<br/>        multi_table(float(a))<br/><br/>        <span class="codestrong">answer = input('Do you want to exit? (y) for yes ')</span><br/>        <span class="codestrong">if answer == 'y':</span><br/>            <span class="codestrong">break</span></p>
<p class="indent">If you compare this program to the one we wrote earlier, you’ll see that the only change is the addition of the <span class="literal">while</span> loop, which includes the prompt asking the user to input a number and the call to the <span class="literal">multi_table()</span> function.</p>
<p class="indent">When you run the program, the program will ask for a number and print its multiplication table, as before. However, it will also subsequently ask whether the user wants to exit the program. If the user doesn’t want to exit, the program will be ready to print the table for another number. Here is a sample run:</p>
<p class="programs">Enter a number: <span class="codestrong">2</span><br/>2.000000 x 1.000000 = 2.000000<br/>2.000000 x 2.000000 = 4.000000<br/>2.000000 x 3.000000 = 6.000000<br/>2.000000 x 4.000000 = 8.000000<br/><a id="page_26"></a><br/>2.000000 x 5.000000 = 10.000000<br/>2.000000 x 6.000000 = 12.000000<br/>2.000000 x 7.000000 = 14.000000<br/>2.000000 x 8.000000 = 16.000000<br/>2.000000 x 9.000000 = 18.000000<br/>2.000000 x 10.000000 = 20.000000<br/>Do you want to exit? (y) for yes <span class="codestrong">n</span><br/>Enter a number:</p>
<p class="indent">Try rewriting some of the other programs in this chapter so that they continue executing until asked by the user to exit.</p>
</div>
</body>
</html>