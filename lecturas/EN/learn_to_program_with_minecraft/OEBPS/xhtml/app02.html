<html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ns="http://www.w3.org/2001/10/synthesis">
<head>
<title>Learn to Program with Minecraft</title>
<link href="../styles/9781593276706.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:40af8c70-d268-482b-9282-0b537fc6ae71" name="Adept.expected.resource"/>
</head>
<body>
<h2 class="h2a" id="app02"><span epub:type="pagebreak" id="page_289"></span><strong>TROUBLESHOOTING</strong></h2>
<div class="image1"><img alt="image" src="../images/common01.jpg"/></div>
<p class="noindent">This book requires Minecraft 1.8 or 1.9, Python 3.5 or newer, and Java 7 or newer. If you’re having trouble getting your environment set up, the software versions are the most likely problem. Follow the instructions below to check that you are using the correct versions of Minecraft, Python, and Java.</p>
<p class="indent">If you’ve confirmed that you have the correct versions and you’re getting other errors, refer to the later sections in this appendix.</p>
<p class="indent">If you get an error that isn’t covered here, email us at <em><a href="mailto:info@nostarch.com">info@nostarch.com</a></em>. Please include your operating system and version, the versions of Python and Java that you have installed, and any specific error messages you see.</p>
<h3 class="h3" id="app02lev1sec01"><span epub:type="pagebreak" id="page_290"></span><strong><span class="blue1">Pick the Right Minecraft Version</span></strong></h3>
<p class="noindent">In order to use your Spigot server, your Minecraft version needs to match the Spigot version exactly. But new versions of Minecraft come out all the time, so if you update Minecraft, Spigot won’t work with the new version anymore. In order to make your Spigot and Minecraft versions match, you can set up a profile.</p>
<p class="indent">When you set up a profile, you tell Minecraft that you only want to use the version of the game that will work with the version of the server that you are using. In other words, a profile allows you to continue using the same server even when newer versions of Minecraft are released.</p>
<p class="indent">Let’s get started.</p>
<h4 class="h4" id="app02lev2sec01"><strong><span class="blue1">For Windows</span></strong></h4>
<p class="noindent">Before you create your profile, you need to find out which version of the server you are using. Follow these steps to do that:</p>
<ol>
<li class="noindent"><p class="list">In the <em>Minecraft Tools</em> folder, open the <em>Start_Server</em> file. A window will appear and begin to set up the server.</p></li>
<li class="noindent"><p class="list">Once the setup is finished, scroll to the top of the text in the window.</p></li>
<li class="noindent"><p class="list">Near the top (around the third or fourth line), you should see text saying <span class="literal">Starting minecraft server version <span class="codeitalic">x</span>.<span class="codeitalic">x</span>.<span class="codeitalic">x</span></span>. For example, in Figure A-1 the server version is 1.9.2.</p>
<div class="image"><img alt="image" src="../images/f0a-01.jpg"/></div>
<p class="figcap"><em>Figure A-1: The version of this server is 1.9.2.</em></p></li>
<li class="noindent"><p class="list">Make a note of the version number shown on your screen.</p></li>
</ol>
<p class="indent">Now that you know which server version you are using, you can set up the game profile with these steps:</p>
<ol>
<li class="noindent"><p class="list">Open the Minecraft launcher but do not click Start Game.</p></li>
<li class="noindent"><p class="list">In the bottom-left corner of the Minecraft launcher, click the <strong>New Profile</strong> button.</p></li>
<li class="noindent"><p class="list"><span epub:type="pagebreak" id="page_291"></span>In the Profile Name field, type <strong>Learn to Program with Minecraft</strong>.</p></li>
<li class="noindent"><p class="list">Farther down the page, there is a drop-down menu called Use version. In the <strong>Use version</strong> drop-down, select the version of the server that you are using. For example, in Figure A-2 I am using version 1.9.2.</p>
<div class="image"><img alt="image" src="../images/f0a-02.jpg"/></div>
<p class="figcap"><em>Figure A-2: I’ve created a profile called</em> Learn to Program with Minecraft <em>that uses version 1.9.2.</em></p></li>
<li class="noindent"><p class="list">Once you’ve done this, click the <strong>Save Profile</strong> button. The profile has now been set up.</p></li>
</ol>
<p class="indent">From now on, every time you want to use Minecraft with this book, select the <em>Learn to Program with Minecraft</em> profile in the drop-down menu in the bottom-left corner of the Minecraft launcher.</p>
<p class="indent">You can swap back to the latest version of Minecraft at any time by selecting the <em>(default)</em> option in the drop-down menu.</p>
<h4 class="h4" id="app02lev2sec02"><strong><span class="blue1">For Mac</span></strong></h4>
<p class="noindent">Before you create your profile, you need to find out which version of the server that you are using. Follow these steps to do that now:</p>
<ol>
<li class="noindent"><p class="list">In the <em>Minecraft Tools</em> folder, open the <em>Start_Server</em> file. A window will appear and will begin to set up the server.</p></li>
<li class="noindent"><p class="list">Once the setup is finished, scroll to the top of the text in the window.</p></li>
<li class="noindent"><p class="list">Near the top (around the third or fourth line), you should see text saying <span class="literal">Starting minecraft server version <span class="codeitalic">x</span>.<span class="codeitalic">x</span>.<span class="codeitalic">x</span></span>. For example, in Figure A-3 the server version is 1.9.</p></li>
<li class="noindent"><p class="list">Make a note of the version number shown on your screen.</p></li>
</ol>
<div class="image"><span epub:type="pagebreak" id="page_292"></span><img alt="image" src="../images/f0a-03.jpg"/></div>
<p class="figcap"><em>Figure A-3: The version of this server is 1.9.</em></p>
<p class="indent">Now that you know which server version you’re using, you can set up the game profile with these steps:</p>
<ol>
<li class="noindent"><p class="list">Open the Minecraft launcher but do not click Start Game.</p></li>
<li class="noindent"><p class="list">In the bottom-left corner of the Minecraft launcher, click the <strong>New Profile</strong> button.</p></li>
<li class="noindent"><p class="list">In the Profile Name field, type <strong>Learn to Program with Minecraft</strong>.</p></li>
<li class="noindent"><p class="list">Farther down the page, there is a drop-down menu called Use version. In the <strong>Use version</strong> drop-down, select the version of the server that you are using. For example, in Figure A-4 I am using version 1.9.</p>
<div class="image"><img alt="image" src="../images/f0a-04.jpg"/></div>
<p class="figcap"><em>Figure A-4: I’ve created a profile called</em> Learn to Program with Minecraft <em>that uses version 1.9.</em></p></li>
<li class="noindent"><p class="list"><span epub:type="pagebreak" id="page_293"></span>Once you’ve done this, click the <strong>Save Profile</strong> button. The profile has now been set up.</p></li>
</ol>
<p class="indent">From now on, every time you want to use Minecraft with this book, select the <em>Learn to Program with Minecraft</em> profile in the drop-down menu in the bottom-left corner of the Minecraft launcher.</p>
<p class="indent">You can swap back to the latest version of Minecraft at any time by selecting the <em>(default)</em> option in the drop-down menu.</p>
<h3 class="h3" id="app02lev1sec02"><strong><span class="blue1">Am I Using the Right Version of Python?</span></strong></h3>
<p class="noindent">Follow these steps to make sure you’re running Python 3.5.0 or newer.</p>
<div class="note">
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>
<p class="notep"><em>If you find that you have both Python 2 and Python 3 installed, you should uninstall Python 2—or follow the instructions in “<a href="app02.xhtml#app02lev1sec04">What If I Have Two Versions of Python on My Computer?</a>” on <a href="app02.xhtml#page_294">page 294</a>.</em></p>
</div>
<h4 class="h4" id="app02lev2sec03"><strong><span class="blue1">For Windows</span></strong></h4>
<p class="noindent">You should be able to see all the installed programs in the Windows Start menu, including Python. The simplest way to confirm you’ve gotten the right version of Python is to go to the Start menu, then choose <strong>All Programs</strong> or <strong>Programs</strong>. You can also search for <em>Python</em> to determine which Python version is installed. The Python version number might be part of the name that shows up in the Start menu; if not, open IDLE and the version number will be displayed in the shell.</p>
<p class="indent">If the version is older than 3.5.0, you’ll need to install the updated version. Follow the steps in “<a href="ch01.xhtml#ch01lev2sec02">Installing Python</a>” on <a href="ch01.xhtml#page_3">page 3</a> to install Python version 3.5.0.</p>
<h4 class="h4" id="app02lev2sec04"><strong><span class="blue1">For Mac</span></strong></h4>
<ol>
<li class="noindent"><p class="list">Open Finder and search for <em>Terminal</em>. Click <strong>Terminal</strong> to open it.</p></li>
<li class="noindent"><p class="list">At the Terminal prompt, type <span class="literal"><span class="codestrong">Python -V</span></span> (note that the V is uppercase) and press <small>RETURN</small>.</p></li>
<li class="noindent"><p class="list">You will see the Python version number—if it’s anything older than 3.5.0, you’ll need to install an updated version. Follow the steps in “<a href="ch01.xhtml#ch01lev2sec02">Installing Python</a>” on <a href="ch01.xhtml#page_15">page 15</a> to install Python version 3.5.0.</p></li>
</ol>
<h3 class="h3" id="app02lev1sec03"><span epub:type="pagebreak" id="page_294"></span><strong><span class="blue1">Am I Using the Right Version of Java?</span></strong></h3>
<p class="noindent">Follow these steps to make sure you’re running Java 7 or newer.</p>
<h4 class="h4" id="app02lev2sec05"><strong><span class="blue1">For Windows</span></strong></h4>
<p class="noindent">You should be able to see all the installed programs in the Windows Start menu, including Java. The simplest way to determine which version you have installed is to do the following:</p>
<ol>
<li class="noindent"><p class="list">Go to the <strong>Start</strong> menu.</p></li>
<li class="noindent"><p class="list">Choose <strong>All Programs</strong>.</p></li>
<li class="noindent"><p class="list">Find the <em>Java</em> folder and click <strong>About Java</strong>.</p></li>
</ol>
<p class="indent">You can also test the version of Java using this method:</p>
<ol>
<li class="noindent"><p class="list">Open the Start menu, search for <em>cmd</em>, and open the command prompt.</p></li>
<li class="noindent"><p class="list">Run the command <span class="literal"><span class="codestrong">java -version</span></span>. You will see a message that says something like <span class="literal">java version "1.8.0_72"</span>. The version of Java that you are using is the number after the first dot, which is version 8 in our example message. If your version is older than 7 (or if Java isn’t installed at all!), you’ll need to update or install Java. To do so, follow the installation instructions in “<a href="ch01.xhtml#ch01lev2sec03">Installing Java</a>” on <a href="ch01.xhtml#page_4">page 4</a>.</p></li>
</ol>
<h4 class="h4" id="app02lev2sec06"><strong><span class="blue1">For Mac</span></strong></h4>
<p class="noindent">1. Open Finder and search for <em>Terminal</em>. Click <strong>Terminal</strong> to open it.</p>
<ol>
<li class="noindent"><p class="list">At the Terminal prompt, type <span class="literal"><span class="codestrong">java -version</span></span> and press <small>RETURN</small>.</p></li>
<li class="noindent"><p class="list">You will see a message that says something like <span class="literal">java version "1.8.0_72"</span>. The version of Java that you are using is the number after the first dot, in this case version 8. If your version is older than 7, you’ll need to update Java. To do so, follow the installation instructions in “<a href="ch01.xhtml#ch01lev2sec03">Installing Java</a>” on <a href="ch01.xhtml#page_15">page 15</a>.</p></li>
</ol>
<h3 class="h3" id="app02lev1sec04"><strong><span class="blue1">What If I Have Two Versions of Python on My Computer?</span></strong></h3>
<p class="noindent">If you want to have both Python 3 and an older version of Python installed, and if you have an older version of the <em>Install_API</em> file, you need to modify the file to specify that it should use Python 3 rather than the older version.</p>
<p class="indent">The Minecraft Python API will work with older versions of Python, but <em>you must use Python 3 if you want to run all the code examples from this book</em>— otherwise you’ll get an error if you try to use the <span class="literal">print()</span> function and a few other Python things. But you can still keep another, older version of Python on your computer if you want to.</p>
<h4 class="h4" id="app02lev2sec07"><span epub:type="pagebreak" id="page_295"></span><strong><span class="blue1">For Windows</span></strong></h4>
<p class="noindent">If you have the older version of the <em>Install_API</em> file, then you’ll need to modify it. To modify the <em>Install_API</em> file, follow these steps:</p>
<ol>
<li class="noindent"><p class="list">Open the <em>Minecraft Tools</em> folder and find the <em>Install_API</em> file.</p></li>
<li class="noindent"><p class="list">Right-click the <em>Install_API</em> file and select <strong>Edit</strong>.</p></li>
<li class="noindent"><p class="list">Once the file opens, find the line that begins with this:</p>
<p class="programs">python -m pip install minecraftPythonAPI.zip</p></li>
<li class="noindent"><p class="list">If you can’t find that line, then you already have the new file and don’t need to do anything else. Otherwise, edit the line so that it looks like this:</p>
<p class="programs"><span class="codestrong">py -3</span> -m pip install minecraftPythonAPI.zip</p></li>
<li class="noindent"><p class="list">Save the file and close it.</p></li>
<li class="noindent"><p class="list">Double-click the <em>Install_API</em> file to install the Minecraft Python API.</p></li>
</ol>
<h4 class="h4" id="app02lev2sec08"><strong><span class="blue1">For Mac</span></strong></h4>
<p class="noindent">If you have the older version of the <em>Install_API</em> file, then you’ll need to modify it. To modify the <em>Install_API</em> file, follow these steps:</p>
<ol>
<li class="noindent"><p class="list">Open the <em>Minecraft Tools</em> folder and find the <em>Install_API</em> file.</p></li>
<li class="noindent"><p class="list"><small>CONTROL</small>-click the <em>Install_API</em> file and select <strong>Edit</strong>.</p></li>
<li class="noindent"><p class="list">Once the file opens, find the line that begins with this:</p>
<p class="programs">python -m pip install minecraftPythonAPI.zip</p></li>
<li class="noindent"><p class="list">If you can’t find that line, then you already have the new file and don’t need to do anything else. Otherwise, edit the line by changing <span class="literal">python</span> to <span class="literal">python3</span> so that the line looks like this:</p>
<p class="programs">python<span class="codestrong">3</span> -m pip install minecraftPythonAPI.zip</p></li>
<li class="noindent"><p class="list">Save the file and close it.</p></li>
<li class="noindent"><p class="list">Double-click the <em>Install_API</em> file to install the Minecraft Python API.</p></li>
</ol>
<p class="indent">Once you’ve installed the API, you’ll need to make sure that you use the correct version of IDLE. Make sure you use IDLE 3 when writing and running code—otherwise the programs from this book will not work.</p>
<h3 class="h3" id="app02lev1sec05"><span epub:type="pagebreak" id="page_296"></span><strong><span class="blue1">Start_Server, File Cannot Be Found (For Windows)</span></strong></h3>
<p class="noindent">When you click the <em>Start_Server</em> file, you might see a window saying <span class="literal">Windows cannot find 'C:\Users\Frank\Documents'</span> or something similar.</p>
<p class="indent">To work around this issue, open the <em>server</em> folder and double-click the <em>start.bat</em> file. The server should start normally. Every time you need to start the server in the future, repeat these steps.</p>
<p class="indent">Alternatively, download the latest version of the book’s setup files, <em>Minecraft Tools</em>, from this book’s webpage at <em><a href="https://www.nostarch.com/programwithminecraft/">https://www.nostarch.com/programwithminecraft/</a></em>.</p>
<h3 class="h3" id="app02lev1sec06"><strong><span class="blue1">Connection Refused Error (For Mac)</span></strong></h3>
<p class="noindent">In Python, after entering the line <span class="literal"><span class="codestrong">mc = Minecraft.create()</span></span>, you might get an error message like this:</p>
<p class="programs">ConnectionRefusedError: [Errno 61] Connection refused</p>
<p class="indent">or a similar error like this:</p>
<p class="programs">ConnectionRefusedError: [Errno 10061] No connection could be made because the<br/>target machine actively refused it.</p>
<p class="indent">This error is most frequently caused by an out-of-date version of Java installed on your computer. In order to fix this issue, follow the instructions in “<a href="ch01.xhtml#ch01lev2sec03">Installing Java</a>” on <a href="ch01.xhtml#page_15">page 15</a>.</p>
<p class="indent">If you still get this error after reinstalling Java, your Mac might be using an old version of Java only on the command line. To fix this issue, do the following:</p>
<ol>
<li class="noindent"><p class="list">Click the <strong>search icon</strong> on the top-right corner of your screen.</p></li>
<li class="noindent"><p class="list">In the search box, enter <strong>Java Preferences</strong>.</p></li>
<li class="noindent"><p class="list">When the preferences box opens, make sure that only the <strong>Java 8</strong> checkbox is ticked.</p></li>
</ol>
<p class="indent">After you have changed these preferences, the problem should be resolved. However, if you still have this issue, uninstall older versions of Java and then reinstall Java 8.</p>
<h3 class="h3" id="app02lev1sec07"><span epub:type="pagebreak" id="page_297"></span><strong><span class="blue1">Nothing Happens After I Click Install_API (For Windows)</span></strong></h3>
<p class="noindent">When you run the <em>Install_API</em> file during step 5 of “<a href="ch01.xhtml#ch01lev2sec04">Installing the Minecraft Python API and Spigot</a>” on <a href="ch01.xhtml#page_6">page 6</a>, you might see a black window pop up.</p>
<p class="indent">If you see a window like this, you might be experiencing a bug with pip, which is used to install the API. To work around this, you need to install the Minecraft Python API via the command line. Follow these steps:</p>
<ol>
<li class="noindent"><p class="list">Open the <em>Minecraft Tools</em> folder and find the <em>minecraftPythonAPI.zip</em> file.</p></li>
<li class="noindent"><p class="list">In the file browser, click the address bar to highlight it, then copy the text (right-click and select <strong>Copy</strong>, or press <small>CTRL</small>-C). The address should look something like this:</p>
<p class="programs">C:\Users\user\Minecraft Python\Minecraft Tools</p></li>
<li class="noindent"><p class="list">Click the <strong>Start</strong> menu and search for <em>PowerShell</em>. Click <strong>PowerShell</strong> to open it.</p></li>
<li class="noindent"><p class="list">At the PowerShell prompt, type <span class="literal"><span class="codestrong">cd</span></span> and then right-click to paste the address of your <em>Minecraft Tools</em> folder.</p></li>
<li class="noindent"><p class="list">Add single quotation marks around the text you just pasted. The line should look something like this:</p>
<p class="programs">cd 'C:\Users\user\Minecraft Python\Minecraft Tools'</p></li>
<li class="noindent"><p class="list">Press <small>ENTER</small>. Now you can run commands in PowerShell using the contents of the <em>Minecraft Tools</em> folder.</p></li>
<li class="noindent"><p class="list">On the next line, type the following command to install the API:</p>
<p class="programs">python -m pip install minecraftPythonAPI.zip</p></li>
<li class="noindent"><p class="list">Press <small>ENTER</small>. The Python API should now be installed correctly.</p></li>
</ol>
<h3 class="h3" id="app02lev1sec08"><strong><span class="blue1">Permissions Error When Installing API (For Mac)</span></strong></h3>
<p class="noindent">During step 8 of “<a href="ch01.xhtml#ch01lev2sec04">Installing the Minecraft Python API and Spigot</a>” on <a href="ch01.xhtml#page_16">page 16</a>, you might get this error:</p>
<p class="programs">The directory '/Users/YourUserName/Library/Caches/pip/http' or its parent<br/>directory is not owned by the current user and the cache has been<br/>disabled. Please check the permissions and owner of that directory. If<br/>executing pip with sudo, you may want sudo's -H flag.</p>
<p class="indent"><span epub:type="pagebreak" id="page_298"></span>Check all the folders that the <em>Install_API</em> file is inside of and remove any spaces from the folder names. To do this, follow these steps:</p>
<ol>
<li class="noindent"><p class="list"><small>CONTROL</small>-click the icon of the folder with a space in the name.</p></li>
<li class="noindent"><p class="list">From the pop-up menu, select <strong>Rename</strong>, then remove the space from the folder’s name. Note that you should not have to do this with the hard drive itself (Macintosh HD)!</p></li>
</ol>
<p class="indent">Once you have done this, try running the <em>Install_API</em> file again.</p>
<p class="indent">On some Macs, you might still get an error—however, the API has still installed correctly. If you see the following line, the API has installed correctly and you can ignore the error message:</p>
<p class="programs">Requirement already satisfied (use -–upgrade to upgrade): py3minepi...</p>
<h3 class="h3" id="app02lev1sec09"><strong><span class="blue1">I Got a Different Error!</span></strong></h3>
<p class="noindent">If you get an error that isn’t covered in this appendix, contact us at <em><a href="mailto:info@nostarch.com">info@nostarch.com</a></em>. Please include information about your operating system, the versions of Minecraft, Python, and Java that you are using, and any specific error messages you’ve received.</p>
</body>
</html>