<html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ns="http://www.w3.org/2001/10/synthesis">
<head>
<title>Learn to Program with Minecraft</title>
<link href="../styles/9781593276706.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:40af8c70-d268-482b-9282-0b537fc6ae71" name="Adept.expected.resource"/>
</head>
<body>
<h2 class="h2" id="ch10"><span epub:type="pagebreak" id="page_199"></span><strong><span class="blue1"><span class="big">10</span></span></strong><br/><strong>MINECRAFT MAGIC WITH FOR LOOPS</strong></h2>
<div class="image1"><img alt="image" src="../images/common01.jpg"/></div>
<p class="noindent">Now it’s time to learn about <span class="literal">for</span> loops. <span class="literal">for</span> loops are super useful because they iterate over lists of items, like the lists you saw in <a href="ch09.xhtml#ch09">Chapter 9</a>. This means that they are perfect when you want to use loops with lists in your programs.</p>
<p class="indent">While following along with the missions in this chapter, you’ll use <span class="literal">for</span> loops to generate stairs, pillars, pyramids, and weather-beaten walls. With nested <span class="literal">for</span> loops and lists, you’ll be able to create pixel art and generate new structures in seconds. <span class="literal">for</span> loops are very powerful tools for building in Minecraft!</p>
<h3 class="h3" id="ch10lev1sec01"><strong><span class="blue1">A Simple for Loop</span></strong></h3>
<p class="noindent">A <span class="literal">for</span> loop repeats a block of code for each item in a list until the list ends, rather than using a condition like a <span class="literal">while</span> loop or an <span class="literal">if</span> statement.</p>
<p class="indent"><span epub:type="pagebreak" id="page_200"></span>The list you use in a <span class="literal">for</span> statement can contain any number of items of any data type. The <span class="literal">for</span> loop will iterate through each one in order, that is, by its index. For example, to print every item in the noodle soup list, we would use the following code:</p>
<p class="programs">noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>,<br/><span class="green">"beef"</span>, <span class="green">"vegetables"</span>]<br/><br/><span class="orange">for</span> ingredient <span class="orange">in</span> noodleSoup:<br/>    <span class="rose">print</span>(ingredient)</p>
<p class="indent">We use the <span class="literal">for</span> operator to tell Python we’re using a loop.</p>
<p class="indent">After the <span class="literal">for</span> operator is a variable, <span class="literal">ingredient</span>, that represents the item that the loop is currently using. The value changes every time the loop iterates until it has looped through each item in the list. The first time the loop executes, the value will be the item in index position 0 (in this case <span class="literal">"water"</span>), the second time the value will be the item in index 1 (<span class="literal">"soy sauce"</span>), the third time the value will be the item in index 2 (<span class="literal">"spring onions"</span>), and so on.</p>
<p class="indent">The <span class="literal">in</span> operator and the list name at the end of the statement tell Python which list you’re using. The name of the list in this example is <span class="literal">noodleSoup</span>.</p>
<p class="indent">The loop executes once for each item in the list and then ends when it reaches the end of the list. Here’s the output for this program:</p>
<p class="programs"><span class="blue1">water</span><br/><span class="blue1">soy sauce</span><br/><span class="blue1">spring onions</span><br/><span class="blue1">pepper</span><br/><span class="blue1">noodles</span><br/><span class="blue1">beef</span><br/><span class="blue1">vegetables</span></p>
<p class="indent">Every item in the list is printed! Now let’s have some fun with <span class="literal">for</span> loops in Minecraft.</p>
<h4 class="h4a" id="ch10lev2sec01"><strong>Mission #55: Magic Wand</strong></h4>
<p class="noindent">Every tool in Minecraft has its own purpose. The shovel digs dirt, the pickaxe breaks stone blocks, the axe cuts wood, and the sword hits baddies. Usually, you can’t change how the tools behave; you just have to accept that the sword only hits enemies. But with Python, you can change how the tools work. In this program, we’ll turn the sword into a magic wand.</p>
<p class="indent">In <a href="ch09.xhtml#ch09">Chapter 9</a>, you learned about the <span class="literal">pollBlockHits()</span> function. This function returns a list of block coordinates that the sword has hit. Using a <span class="literal">for</span> loop, you can access each set of coordinates in this list. We’re going to turn all the blocks we hit in the last 60 seconds into melons. You can see how this works in <a href="ch10.xhtml#ch10fig1">Figure 10-1</a>.</p>
<div class="image"><span epub:type="pagebreak" id="page_201"></span><img alt="image" src="../images/f10-01.jpg"/></div>
<p class="figcap"><a id="ch10fig1"></a><em>Figure 10-1: Abracadabra! All the blocks I hit are now melons.</em></p>
<p class="indent"><a href="ch10.xhtml#ch10ex1">Listing 10-1</a> contains the start of the program. Save it as <em>magicWand.py</em> in a new folder called <em>forLoops</em>.</p>
<p class="sidenote"><span class="blue"><em>magicWand.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">import</span> time<br/><br/>   time.sleep(60)<br/><br/><span class="ent">➊</span> hits = mc.events.pollBlockHits()<br/>   block = 103<br/><br/><span class="ent">➋</span> <span class="orange">for</span><br/><span class="ent">➌</span> x, y, z = hit.pos.x, hit.pos.y, hit.pos.z<br/><span class="ent">➍</span> <span class="red"># Set melon blocks at the coordinates</span></p>
<p class="examplet"><a id="ch10ex1"></a><em>Listing 10-1: The start of the magic wand program</em></p>
<p class="indent">To get the list of block hits, we call the <span class="literal">pollBlockHits()</span> function and store the result in the <span class="literal">hits</span> variable <span class="ent">➊</span>.</p>
<p class="indent">Included is a line of code that will get the position of any block you hit and store its coordinates in the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables <span class="ent">➌</span>. It uses a tuple (introduced in “<a href="ch09.xhtml#ch09lev1sec04">Tuples</a>” on <a href="ch09.xhtml#page_179">page 179</a>) to assign the three variables in a single line.</p>
<p class="indent">At the moment, this line of code won’t work because the <span class="literal">hit</span> variable doesn’t exist. Create a <span class="literal">for</span> loop at <span class="ent">➋</span> and call the variable of the <span class="literal">for</span> loop <span class="literal">hit</span>. The <span class="literal">for</span> loop should iterate over the <span class="literal">hits</span> list. The code for the first part of the <span class="literal">for</span> loop should look like this:</p>
<p class="programs"><span class="orange">for</span> hit <span class="orange">in</span> hits:</p>
<p class="indent"><span epub:type="pagebreak" id="page_202"></span>Make sure you indent the line of code that gets the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> values inside the <span class="literal">for</span> loop at <span class="ent">➌</span>. On the last line of the <span class="literal">for</span> loop, add the <span class="literal">setBlock()</span> function to set a melon block at the x-, y-, and z-coordinates <span class="ent">➍</span>.</p>
<p class="indent">When the user runs the completed program, they’ll have 60 seconds to run around and right-click as many blocks as they can with their sword. After 60 seconds, all the blocks that were hit with the sword will turn to melons.</p>
<div class="sidebar">
<p class="sidebart" id="ch10sb01"><strong>BONUS OBJECTIVE: YOU’RE A WIZARD</strong></p>
<p class="noindent">Change the <em>magicWand.py</em> program so it teleports the player: the first hit sets the location, and the second hit takes them there.</p>
</div>
<h4 class="h4" id="ch10lev2sec02"><strong><span class="blue1">The range() function</span></strong></h4>
<p class="noindent">The <span class="literal">range()</span> function creates a list of integers. It’s a good way to create a list of numbers for your <span class="literal">for</span> loops very quickly. Let’s take a look and pass two arguments, 0 and 5, to the <span class="literal">range()</span> function:</p>
<p class="programs">aRange = <span class="rose">range</span>(0, 5)</p>
<p class="indent">This is a faster way to create a list than writing each item in the list individually, which would look like this:</p>
<p class="programs">aRange = [0, 1, 2, 3, 4]</p>
<p class="indent">Notice that the <span class="literal">range()</span> function’s second argument is 5, but the last item in the list is 4. This is because the function only creates values that are less than but not equal to the second argument.</p>
<p class="indent">To create a loop that uses the <span class="literal">range()</span> function to print the numbers 1 to 15, you would use the following code:</p>
<p class="programs"><span class="orange">for</span> item <span class="orange">in</span> <span class="rose">range</span>(1, 16):<br/>    <span class="rose">print</span>(item)</p>
<p class="indent">You could print double the value of every item in a list like so:</p>
<p class="programs"><span class="orange">for</span> item <span class="orange">in</span> <span class="rose">range</span>(1, 16):<br/>    <span class="rose">print</span>(item * 2)</p>
<p class="indent">You can do the same thing with a <span class="literal">while</span> loop, which you learned about in <a href="ch07.xhtml#ch07">Chapter 7</a>. The following code uses a <span class="literal">while</span> loop instead of a <span class="literal">for</span> loop to print the numbers 1 to 15:</p>
<p class="programs">count = 1<br/><span class="orange">while</span> count &lt; 16:<br/>    <span class="rose">print</span>(count)<br/>    count += 1</p>
<p class="indent"><span epub:type="pagebreak" id="page_203"></span>Notice that the <span class="literal">for</span> loop is simpler and easier to read. In large and complex programs, a <span class="literal">for</span> loop is often a better choice than a <span class="literal">while</span> loop with <span class="literal">count</span>.</p>
<h4 class="h4a" id="ch10lev2sec03"><strong>Mission #56: Magic Stairs</strong></h4>
<p class="noindent">One of the best features of using Minecraft with Python is that you can build things quickly with just a few lines of code. Instead of spending lots of time building walls, you can just run some code and it’s done. You can also reuse the code as many times as you want, saving time and effort.</p>
<p class="indent">Building stairs is one task that often takes a long time to do. Fortunately, with just a few lines of Python code, you can quickly create a staircase in Minecraft. In this mission, you’ll use a <span class="literal">for</span> loop to make a staircase appear in the game world.</p>
<p class="indent"><a href="ch10.xhtml#ch10ex2">Listing 10-2</a> creates a staircase in Minecraft using a <span class="literal">while</span> loop. Save it as <em>stairs.py</em> in the <em>forLoops</em> folder.</p>
<p class="sidenote"><span class="blue"><em>stairs.py</em></span></p>
<p class="programs"><span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>mc = Minecraft.create()<br/><br/>pos = mc.player.getTilePos()<br/>x, y, z = pos.x, pos.y, pos.z<br/><br/>stairBlock = 53<br/><br/>step = 0<br/><span class="orange">while</span> step &lt; 10:<br/>    mc.setblock(x + step, y + step, z, stairBlock)<br/>    step += 1</p>
<p class="examplet"><a id="ch10ex2"></a><em>Listing 10-2: A program that creates a staircase using a</em> <span class="literal"><span class="codeitalic">while</span></span> <em>loop</em></p>
<p class="indent">Although you can use a <span class="literal">while</span> loop for this program, as shown here, a <span class="literal">for</span> loop is actually more suitable. Unlike the <span class="literal">while</span> loop, a <span class="literal">for</span> loop doesn’t require a <span class="literal">count</span> or <span class="literal">step</span> variable. Instead, you can use the <span class="literal">range()</span> function to determine how many times the loop repeats.</p>
<p class="indent">To complete the program, change the code so it uses a <span class="literal">for</span> loop instead of a <span class="literal">while</span> loop.</p>
<p class="indent">You can see the result of the program in <a href="ch10.xhtml#ch10fig2">Figure 10-2</a>.</p>
<div class="sidebar">
<p class="sidebart" id="ch10sb02"><strong>BONUS OBJECTIVE: GOING DOWN?</strong></p>
<p class="noindent">At the moment, the <em>stairs.py</em> program only builds stairs in one direction. Try to work out how to build stairs in other directions. Hint: You’ll use the optional block states argument in the <span class="literal">setBlock()</span> function and add to or take away from the <span class="literal">x</span> or <span class="literal">z</span> variables.</p>
</div>
<div class="image"><span epub:type="pagebreak" id="page_204"></span><img alt="image" src="../images/f10-02.jpg"/></div>
<p class="figcap"><a id="ch10fig2"></a><em>Figure 10-2: Where will your magic staircase lead?</em></p>
<h4 class="h4" id="ch10lev2sec04"><strong><span class="blue1">Playing Around with range()</span></strong></h4>
<p class="noindent">You’ve learned a bit about the <span class="literal">range()</span> function and what happens when you pass two arguments to the function. What if you pass just one argument? Enter this code in the IDLE shell to see what happens:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> aRange = <span class="rose">range</span>(5)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(aRange)<br/><span class="blue1">[0, 1, 2, 3, 4]</span></p>
<p class="indent">When you give the <span class="literal">range()</span> function only one argument, it will start at 0 and store each value up to one less than the value you pass in as an argument. In other words, it’s as if you passed 0 for the first argument and 5 for the second argument. In this example, the <span class="literal">list()</span> function shows the list values created by the <span class="literal">range()</span> function (otherwise, you wouldn’t see them!). As you can see, the value of <span class="literal">list(aRange)</span> is a list of five numbers that start at 0: <span class="literal">[0, 1, 2, 3, 4]</span>. This is a fast way to create a range if you want to start with 0 as the first value.</p>
<p class="indent">As you’ve seen, when you pass two arguments to <span class="literal">range()</span>, the list starts at the first argument provided and ends before the second argument:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> aRange = <span class="rose">range</span>(2, 5)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(aRange)<br/><span class="blue1">[2, 3, 4]</span></p>
<p class="indent">This example creates a range equivalent to the list <span class="literal">[2, 3, 4]</span>.</p>
<p class="indent">When you give <span class="literal">range()</span> three arguments, the third argument defines the <em>step</em> between items. Normally, each value in the list created by the <span class="literal">range()</span> function is one larger than the previous value. By changing the step, you change the difference between values. For example, a step of 2 would make <span epub:type="pagebreak" id="page_205"></span>the next value in a list 2 more than the previous item. A step of 3 would make it 3 more than the previous item, and so on.</p>
<p class="indent">For example, this list adds 2 to the previous value to get the next value:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> aRange = <span class="rose">range</span>(3, 10, 2)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(aRange)<br/><span class="blue1">[3, 5, 7, 9]</span></p>
<p class="indent">Notice that each item is 2 more than the previous item (5 is 3 + 2, 7 is 5 + 2, and 9 is 7 + 2).</p>
<p class="indent">You can even give <span class="literal">range()</span> a negative step value, like this:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> newRange = <span class="rose">range</span>(100, 0, -2)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(newRange)<br/><span class="blue1">[100, 98, 96, 94, 92, 90, 88, 86, 84, 82, 80, 78, 76, 74, 72, 70, 68, 66, 64,</span><br/><span class="blue1">62, 60, 58, 56, 54, 52, 50, 48, 46, 44, 42, 40, 38, 36, 34, 32, 30, 28, 26,</span><br/><span class="blue1">24, 22, 20, 18, 16, 14, 12, 10, 8, 6, 4, 2]</span></p>
<p class="indent">Notice that the values in the list decrease by 2 because of the negative step value.</p>
<h3 class="h3" id="ch10lev1sec02"><strong><span class="blue1">Other List Functions</span></strong></h3>
<p class="noindent">Because we’re working with lists, let’s explore a few other functions designed to interact with lists.</p>
<p class="indent">The <span class="literal">reversed()</span> function takes one argument, the list you want to use, and returns the list reversed. The last item will be the first item, the second-to-last item will be the second item, and so on. Let’s reverse an earlier list:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> backwardsList = <span class="rose">reversed</span>(aRange)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">list</span>(backwardsList)<br/><span class="blue1">[9, 7, 5, 3]</span></p>
<p class="indent">Items in the list have been reversed, just as we wanted. This kind of list manipulation comes in handy when you’re writing <span class="literal">for</span> loops.</p>
<p class="indent">The following example generates a list of numbers from 1 to 100 using the <span class="literal">range()</span> function. It then reverses the list and prints it using a <span class="literal">for</span> loop, effectively creating a countdown from 100 to 1:</p>
<p class="programs">countDown = <span class="rose">range</span>(1, 101)<br/>countDown = <span class="rose">reversed</span>(countDown)<br/><span class="orange">for</span> item <span class="orange">in</span> countDown:<br/>    <span class="rose">print</span>(item)</p>
<p class="indent">Run it to see the output!</p>
<p class="programs"><span class="blue1">100</span><br/><span class="blue1">99</span><br/><span class="blue1">98</span><br/><span class="blue1">97</span><br/><span class="blue1">96</span><br/>--<span class="codeitalic">snip</span>--<br/><span class="blue1">3</span><br/><span class="blue1">2</span><br/><span class="blue1">1</span></p>
<p class="indent"><span epub:type="pagebreak" id="page_206"></span>You can also reverse the list when you declare the <span class="literal">for</span> loop without needing a variable to store the list:</p>
<p class="programs"><span class="orange">for</span> item <span class="orange">in</span> <span class="rose">reversed</span>(<span class="rose">range</span>(0, 101)):<br/>    <span class="rose">print</span>(item)</p>
<p class="indent">This program requires fewer lines of code while having the same effect. Use this trick to save time so you can focus on building!</p>
<h4 class="h4a" id="ch10lev2sec05"><strong>Mission #57: Pillars</strong></h4>
<p class="noindent">Wouldn’t it be cool to build a palace in Minecraft? Because palaces should be grand, ours should have rows of tall, imposing pillars. Obviously, we don’t want to build them by hand, so using a loop to build them is the best solution.</p>
<p class="indent">We’ll create a function that builds a pillar and then call the function when we want to build one. <a href="ch10.xhtml#ch10ex3">Listing 10-3</a> contains the function to build a pillar. Copy it into a new file called <em>pillars.py</em> and save it in the <em>forLoops</em> folder.</p>
<p class="sidenote"><span class="blue"><em>pillars.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">def</span> <span class="blue1">setPillar</span>(x, y, z, height):<br/>       <span class="green">""" Creates a pillar. Args set position and height of pillar """</span><br/>       stairBlock = 156<br/>       block = 155<br/><br/>       <span class="red"># Pillar top</span><br/>       mc.setBlocks(x - 1, y + height, z - 1, x + 1, y + height, z + 1, block, 1)<br/>       mc.setBlock(x - 1, y + height - 1, z, stairBlock, 12)<br/>       mc.setBlock(x + 1, y + height - 1, z, stairBlock, 13)<br/>       mc.setBlock(x, y + height - 1, z + 1, stairBlock, 15)<br/>       mc.setBlock(x, y + height - 1, z - 1, stairBlock, 14)<br/><br/>       <span class="red"># Pillar base</span><br/>       mc.setBlocks(x - 1, y, z - 1, x + 1, y, z + 1, block, 1)<br/>       mc.setBlock(x - 1, y + 1, z, stairBlock, 0)<br/>       mc.setBlock(x + 1, y + 1, z, stairBlock, 1)<br/>       mc.setBlock(x, y + 1, z + 1, stairBlock, 3)<br/>       mc.setBlock(x, y + 1, z - 1, stairBlock, 2)<br/><br/>       <span class="red"># Pillar column</span><br/>       mc.setBlocks(x, y, z, x, y + height, z, block, 2)<br/><br/>   pos = mc.player.getTilePos()<br/>   x, y, z = pos.x + 2, pos.y, pos.z<br/><br/><span class="ent">➊</span> <span class="red"># Add the for loop here</span><br/><span class="ent">➋</span> <span class="red"># Call the function here</span></p>
<p class="examplet"><span epub:type="pagebreak" id="page_207"></span><a id="ch10ex3"></a><em>Listing 10-3: A function that creates a pillar</em></p>
<p class="indent">The <span class="literal">setPillar()</span> function creates a pillar. It takes four arguments: the x-, y-, and z-coordinates and the pillar height.</p>
<p class="indent">To finish the program, add a <span class="literal">for</span> loop <span class="ent">➊</span> that calls the <span class="literal">setPillar()</span> function <span class="ent">➋</span>. We want to create a row of 20 pillars that are each 5 blocks apart. To do that, use a <span class="literal">range()</span> function with three arguments to determine how many pillars will be created and how far apart they will be. By adding the values stored in the <span class="literal">for</span> loop’s variable to the <span class="literal">x</span> or <span class="literal">z</span> variable in the <span class="literal">setPillar()</span> function call, you can make each pillar an equal distance apart.</p>
<p class="indent"><a href="ch10.xhtml#ch10fig3">Figure 10-3</a> shows some of the pillars.</p>
<div class="image"><img alt="image" src="../images/f10-03.jpg"/></div>
<p class="figcap"><a id="ch10fig3"></a><em>Figure 10-3: A brilliant row of pillars</em></p>
<h4 class="h4a" id="ch10lev2sec06"><strong>Mission #58: Pyramid</strong></h4>
<p class="noindent">Continuing the theme of building awesome stuff with <span class="literal">for</span> loops, let’s build a pyramid. A pyramid is made up of many levels. The bottom level is the widest, and the top level—the peak—is the narrowest. Each level is a square of blocks. We’ll make a pyramid that’s two blocks narrower on each level. For example, if the base level is seven blocks wide, the next level would be five blocks wide, then three blocks, and finally the top level would be one block wide.</p>
<p class="indent"><a href="ch10.xhtml#ch10ex4">Listing 10-4</a> creates a pyramid. Copy it into a new file called <em>pyramid.py</em> and save it in the <em>forLoops</em> folder.</p>
<p class="sidenote"><span class="blue"><em>pyramid.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   block = 24 <span class="red"># sandstone</span><br/><span class="ent">➊</span> height = 10<br/><span class="ent">➋</span> levels = <span class="rose">range</span>(height)<br/><br/>   pos = mc.player.getTilePos()<br/><span class="ent">➌</span> x, y, z = pos.x + height, pos.y, pos.z<br/><br/><span class="ent">➍</span> <span class="orange">for</span> level <span class="orange">in</span> levels:<br/><span class="ent">➎</span>     mc.setBlocks(x - level, y, z - level, x + level, y, z + level, block)<br/>       y += 1</p>
<p class="examplet"><span epub:type="pagebreak" id="page_208"></span><a id="ch10ex4"></a><em>Listing 10-4: An upside-down pyramid program</em></p>
<p class="indent">Although <a href="ch10.xhtml#ch10ex4">Listing 10-4</a> creates a pyramid, it contains a minor bug you need to fix! We store the pyramid’s height in the <span class="literal">height</span> variable <span class="ent">➊</span>. You can change the value of the <span class="literal">height</span> variable to anything you want. The <span class="literal">levels</span> variable uses the <span class="literal">range()</span> function to create a list that contains one item for each level of the pyramid <span class="ent">➋</span>. The <span class="literal">height</span> variable is added to the player’s x-coordinate when we set the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables <span class="ent">➌</span>. If we didn’t do this, the player would be trapped at the center of the pyramid when it’s built.</p>
<p class="indent">The <span class="literal">for</span> loop iterates for each <span class="literal">level</span> in the <span class="literal">levels</span> list <span class="ent">➍</span>. The line of code that creates each level of the pyramid uses the <span class="literal">level</span> variable to work out the width of each square of blocks that it creates <span class="ent">➎</span>. The width and length of each pyramid level will always be twice the size of the <span class="literal">level</span> variable.</p>
<p class="indent">Remember that bug I mentioned earlier? Run the program to see what the problem is. The pyramid is upside down!</p>
<p class="indent">To fix this issue and make the pyramid right side up, you’ll need to use the <span class="literal">reversed()</span> function on the <span class="literal">levels</span> variable to make a list that gets smaller over time. Or you could be sneaky and call the <span class="literal">range()</span> function with a negative value.</p>
<p class="indent"><a href="ch10.xhtml#ch10fig4">Figure 10-4</a> shows the finished pyramid.</p>
<div class="image"><img alt="image" src="../images/f10-04.jpg"/></div>
<p class="figcap"><a id="ch10fig4"></a><em>Figure 10-4: A magnificent pyramid</em></p>
<h3 class="h3" id="ch10lev1sec03"><span epub:type="pagebreak" id="page_209"></span><strong><span class="blue1">Looping Over a Dictionary</span></strong></h3>
<p class="noindent">You can also use a <span class="literal">for</span> loop to loop over a dictionary. When you’re using a dictionary with a <span class="literal">for</span> loop, the syntax is the same as a <span class="literal">for</span> loop with a list; however, the loop will only iterate through the dictionary’s keys.</p>
<p class="indent">For example, the following code prints the <span class="literal">for</span> loop’s variable each time the loop iterates. In this case, it prints the key of each item in the dictionary:</p>
<p class="programs">inventory = {<span class="green">'gems'</span>: 5, <span class="green">'potions'</span>: 2, <span class="green">'boxes'</span>: 1}<br/><br/><span class="orange">for</span> key <span class="orange">in</span> inventory:<br/>    <span class="rose">print</span>(key)</p>
<p class="indent">This code prints the following:</p>
<p class="programs"><span class="blue1">gems</span><br/><span class="blue1">potions</span><br/><span class="blue1">boxes</span></p>
<p class="indent">To print the value associated with each item in the dictionary, you need to use the <span class="literal">dictionary[key]</span> syntax. Here’s how to change the code so it prints the value of each item as well as the key:</p>
<p class="programs">inventory = {<span class="green">'gems'</span>: 5, <span class="green">'potions'</span>: 2, <span class="green">'boxes'</span>: 1}<br/><br/><span class="orange">for</span> key <span class="orange">in</span> inventory:<br/>    <span class="rose">print</span>(key + <span class="green">" "</span> + <span class="rose">str</span>(inventory[key]))</p>
<p class="indent">This example now prints the following:</p>
<p class="programs"><span class="blue1">gems 5</span><br/><span class="blue1">potions 2</span><br/><span class="blue1">boxes 1</span></p>
<p class="indent">Notice that this output is much easier to read than the dictionary itself. By using a loop to output the values of a dictionary, you have much more control over how the information is displayed.</p>
<h4 class="h4a" id="ch10lev2sec07"><strong>Mission #59: Scoreboard</strong></h4>
<p class="noindent">Recall the <em>swordHitsScore.py</em> game from Mission #54 (<a href="ch09.xhtml#page_196">page 196</a>). The game recorded the number of blocks a player hit in a minute. The score was stored in a dictionary along with the name of the player. Although the program worked just fine, the scoreboard at the end of the program didn’t output the scores and names in a very readable format. It just printed a dictionary without any formatting.</p>
<p class="indent">To improve the program, in this mission you’ll modify <em>swordHitsScore.py</em> so it outputs the <span class="literal">scoreboard</span> dictionary in an easy-to-read format. To do this, you’ll use a <span class="literal">for</span> loop.</p>
<p class="indent"><span epub:type="pagebreak" id="page_210"></span>Open your <em>swordHitsScore.py</em> program (it should be in the <em>lists</em> folder) and save it as <em>scoreBoard.py</em> in the <em>forLoops</em> folder. In the program, find and delete this line:</p>
<p class="programs"><span class="rose">print</span>(scoreboard)</p>
<p class="indent">Replace this line with a <span class="literal">for</span> loop that prints the name of each player and their score. These values are stored in the <span class="literal">scoreboard</span> dictionary: each player’s name is a key in the dictionary, and their score is the value of the key.</p>
<p class="indent"><a href="ch10.xhtml#ch10fig5">Figure 10-5</a> shows the updated output.</p>
<div class="image"><img alt="image" src="../images/f10-05.jpg"/></div>
<p class="figcap"><a id="ch10fig5"></a><em>Figure 10-5: The output of the program is now easier to read.</em></p>
<h3 class="h3" id="ch10lev1sec04"><strong><span class="blue1">for-else Loops</span></strong></h3>
<p class="noindent">You can also use the <span class="literal">else</span> statement with a <span class="literal">for</span> loop. When you use <span class="literal">else</span> with a <span class="literal">for</span> loop, it executes after the <span class="literal">for</span> loop reaches the end of the list. If the <span class="literal">for</span> loop doesn’t reach the end of its list, the <span class="literal">else</span> statement will not execute.</p>
<p class="indent">For example, here’s a bit of code that prints the ingredients of a sandwich and then uses an <span class="literal">else</span> statement:</p>
<p class="programs">sandwich = [<span class="green">"Bread"</span>, <span class="green">"Butter"</span>, <span class="green">"Tuna"</span>, <span class="green">"Lettuce"</span>, <span class="green">"Mayonnaise"</span>, <span class="green">"Bread"</span>]<br/><br/><span class="orange">for</span> ingredient <span class="orange">in</span> sandwich:<br/>    <span class="rose">print</span>(ingredient)<br/><span class="orange">else</span>:<br/>    <span class="rose">print</span>(<span class="green">"This is the end of the sandwich."</span>)</p>
<p class="indent">When you run this code, it prints the following:</p>
<p class="programs"><span class="blue1">Bread</span><br/><span class="blue1">Butter</span><br/><span class="blue1">Tuna</span><br/><span class="blue1">Lettuce</span><br/><span class="blue1">Mayonnaise</span><br/><span class="blue1">Bread</span><br/><span class="blue1">This is the end of the sandwich.</span></p>
<p class="indent"><span epub:type="pagebreak" id="page_211"></span>You might think this code is just the same as writing the following:</p>
<p class="programs"><span class="orange">for</span> ingredient <span class="orange">in</span> sandwich:<br/>    <span class="rose">print</span>(ingredient)<br/><span class="rose">print</span>(<span class="green">"This is the end of the sandwich."</span>)</p>
<p class="indent">Well, yes it is. Both pieces of code will do the same thing. So what is the point of using <span class="literal">else</span> with a <span class="literal">for</span> loop? Well, when used with a <span class="literal">break</span> statement, the <span class="literal">else</span> statement will behave differently. Let’s look at that next.</p>
<h4 class="h4" id="ch10lev2sec08"><strong><span class="blue1">Breaking a for-else Loop</span></strong></h4>
<p class="noindent">Using a <span class="literal">break</span> statement to exit a <span class="literal">for</span> loop is one way to prevent the <span class="literal">else</span> statement from executing.</p>
<p class="indent">The following example incorporates a <span class="literal">break</span> statement within an <span class="literal">if</span> statement. The loop will break if the current item is <span class="literal">"Mayonnaise"</span>:</p>
<p class="programs">sandwich = [<span class="green">"Bread"</span>, <span class="green">"Butter"</span>, <span class="green">"Tuna"</span>, <span class="green">"Lettuce"</span>, <span class="green">"Mayonnaise"</span>, <span class="green">"Bread"</span>]<br/><br/><span class="orange">for</span> ingredient <span class="orange">in</span> sandwich:<br/>    <span class="orange">if</span> ingredient == <span class="green">"Mayonnaise"</span>:<br/>        <span class="rose">print</span>(<span class="green">"I don't like mayonnaise on my sandwich."</span>)<br/>        <span class="orange">break<br/>    else</span>:<br/>        <span class="rose">print</span>(ingredient)<br/><span class="orange">else</span>:<br/>    <span class="rose">print</span>(<span class="green">"This is the end of the sandwich."</span>)</p>
<p class="indent">Can you predict what the output will be? Think about it before running this code, and then run the code and see what happens.</p>
<h4 class="h4a" id="ch10lev2sec09"><strong>Mission #60: The Diamond Prospector</strong></h4>
<p class="noindent">Sometimes when I’m playing Minecraft with friends, they won’t let me use Python programs to generate diamond blocks. But I still need diamonds for armor, tools, and building diamond castles. Digging straight down for diamond is easy enough, but you don’t always find it.</p>
<p class="indent">To save some time, I wrote a program that checks whether any diamond ore is directly below me. The program gets my current position and then uses a <span class="literal">for</span> loop to check the blocks below me one at a time to see whether they’re diamond ore. If diamond ore is found, the program tells me how deep the ore is; if no diamond ore is found, the program posts a message to say no diamond ore is below me.</p>
<p class="indent"><span epub:type="pagebreak" id="page_212"></span>Create a new program and save it as <em>diamondSurvey.py</em> in the <em>forLoops</em> folder.</p>
<p class="indent">Use a <span class="literal">for</span> loop to change the value of the <span class="literal">y</span> variable by −1 each time the loop iterates. In total, the loop should repeat 50 times to check 50 blocks deep. For each iteration, use an <span class="literal">if</span> statement to check whether the block at that position is diamond ore (block ID 56). If it is a diamond ore block, post a message to the chat to say how far the block is below the player and break the loop. If no diamond ore blocks are found, use an <span class="literal">else</span> statement in your <span class="literal">for</span> loop to post a message that says no diamond ore blocks are directly below the player.</p>
<p class="indent"><a href="ch10.xhtml#ch10fig6">Figure 10-6</a> shows the working program.</p>
<div class="image"><img alt="image" src="../images/f10-06.jpg"/></div>
<p class="figcap"><a id="ch10fig6"></a><em>Figure 10-6: It looks like a diamond ore block is four blocks below me. Time to start digging!</em></p>
<div class="sidebar">
<p class="sidebart" id="ch10sb03"><strong>BONUS OBJECTIVE: GOLD IN THEM THAR HILLS</strong></p>
<p class="noindent">Change the <em>diamondSurvey.py</em> program so it looks for other ore blocks as well, such as iron ore or gold ore.</p>
</div>
<h3 class="h3" id="ch10lev1sec05"><strong><span class="blue1">Nested for Loops and Multidimensional Lists</span></strong></h3>
<p class="noindent">Within your programs, you can use multiple lists together for a variety of reasons. It’s possible to include lists within lists, which are called <em>multidimensional lists</em>. In this section, we’ll use two-dimensional (2D) and three-dimensional (3D) lists to build structures in Minecraft.</p>
<h4 class="h4" id="ch10lev2sec10"><span epub:type="pagebreak" id="page_213"></span><strong><span class="blue1">Thinking in Two Dimensions</span></strong></h4>
<p class="noindent">You’ve learned how to write lists, specifically <em>one-dimensional</em> lists. They’re called one-dimensional lists because each position in the list contains only one item.</p>
<p class="indent">For example, look at the following list, called <span class="literal">oneDimensionalRainbowList</span>. The formatting of this list is a bit different just to emphasize that each position contains a single item; otherwise, it’s the same as other lists you’ve worked with:</p>
<p class="programs">oneDimensionalRainbowList = [0,<br/>                             1,<br/>                             2,<br/>                             3,<br/>                             4,<br/>                             5]</p>
<p class="indent">There are six items in this list: the numbers 0 to 5. Each item in the list has only one value, making the list a one-dimensional list.</p>
<p class="indent"><a href="ch10.xhtml#ch10ex5">Listing 10-5</a> displays this list in Minecraft as wool blocks. The program file, <em>rainbowStack1.py</em>, is available in the book’s resources. Download the code files from <em><a href="https://www.nostarch.com/programwithminecraft/">https://www.nostarch.com/programwithminecraft/</a></em> or type it yourself and play along!</p>
<p class="sidenote"><span class="blue"><em>rainbowStack1.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/><span class="ent">➊</span> oneDimensionalRainbowList = [0, 1, 2, 3, 4, 5]<br/><br/>   pos = mc.player.getTilePos()<br/>   x = pos.x<br/>   y = pos.y<br/>   z = pos.z<br/><br/><span class="ent">➋</span> <span class="orange">for</span> color <span class="orange">in</span> oneDimensionalRainbowList:<br/>       mc.setBlock(x, y, z, 35, color)<br/>       y += 1</p>
<p class="examplet"><a id="ch10ex5"></a><em>Listing 10-5: Building a rainbow stack of blocks</em></p>
<p class="indent">The program creates a list of block colors <span class="ent">➊</span> and then uses a <span class="literal">for</span> loop to create a stack of wool blocks with colors based on the colors in the list <span class="ent">➋</span>.</p>
<p class="indent">When you run the program, you’ll get a single stack of wool blocks, as you can see in <a href="ch10.xhtml#ch10fig7">Figure 10-7</a>. Notice that the stack is six blocks high and one block wide. You’ve used the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables throughout this book. Each of these variables can also be referred to as a <em>dimension</em>. This program creates a stack of six blocks on the y-dimension. By changing the <span class="literal">x</span> variable on the last line of the code instead of the <span class="literal">y</span> variable, you can build a stack of blocks on the x-dimension, which you can see in <a href="ch10.xhtml#ch10fig8">Figure 10-8</a>.</p>
<div class="image"><span epub:type="pagebreak" id="page_214"></span><img alt="image" src="../images/f10-07.jpg"/></div>
<p class="figcap"><a id="ch10fig7"></a><em>Figure 10-7: The rainbow stack of blocks created by</em> rainbowStack1.py</p>
<div class="image"><img alt="image" src="../images/f10-08.jpg"/></div>
<p class="figcap"><a id="ch10fig8"></a><em>Figure 10-8: Swapping the</em> <span class="literal"><span class="codeitalic">y</span></span> <em>variable for the</em> <span class="literal"><span class="codeitalic">x</span></span> <em>variable on the last line of the program builds the blocks in a horizontal row.</em></p>
<p class="indent">Because the list is one-dimensional, you can change the value of only one variable on a single dimension at a time. In other words, you can change the value of the <span class="literal">y</span> variable, <span class="literal">x</span> variable, or <span class="literal">z</span> variable but can’t change all of them at once.</p>
<p class="indent">So, it’s time to start thinking about two dimensions! One-dimensional lists allow you to have a single list with only one value in each position, but two-dimensional lists allow you to have many values in each position of a list. You do this by putting a list at each position of the original list, as follows.</p>
<p class="programs"><span epub:type="pagebreak" id="page_215"></span><span class="ent">➊</span> twoDimensionalRainbowList = [[0, 0, 0],<br/><span class="ent">➋</span>                              [1, 1, 1],<br/><span class="ent">➌</span>                              [2, 2, 2],<br/>                                [3, 3, 3],<br/>                                [4, 4, 4],<br/><span class="ent">➍</span>                              [5, 5, 5]]</p>
<p class="indent">Look closely and you’ll see an opening square bracket on the first line followed by a list full of zeroes and then a comma <span class="ent">➊</span>. That is a list inside a list! We can call the main list the <em>outer list</em> and say that it contains <em>nested lists</em>.</p>
<p class="indent">In index position 1 is a list that contains three 1s <span class="ent">➋</span>. In index position 2 is another list, this one containing three 2s <span class="ent">➌</span>. This repeats on every line. On the last line is a list of three 5s, followed by a square bracket, which closes the outer list <span class="ent">➍</span>. This code shows a list with six items in it, each of which is also a list. This is a two-dimensional list!</p>
<p class="indent">You’ll better understand two-dimensional lists when you use them in Minecraft. Let’s look at an example. By modifying <em>rainbowStack1.py</em>, we can make it work with the two-dimensional list. This new program is named <em>rainbowRows.py</em>:</p>
<p class="sidenote"><span class="blue"><em>rainbowRows.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   twoDimensionalRainbowList = [[0, 0, 0],<br/>                                [1, 1, 1],<br/>                                [2, 2, 2],<br/>                                [3, 3, 3],<br/>                                [4, 4, 4],<br/>                                [5, 5, 5]]<br/><br/>   pos = mc.player.getTilePos()<br/>   x = pos.x<br/>   y = pos.y<br/>   z = pos.z<br/><br/><span class="ent">➊</span> startingX = x<br/><br/><span class="ent">➋</span> <span class="orange">for</span> row <span class="orange">in</span> twoDimensionalRainbowList:<br/><span class="ent">➌</span>     <span class="orange">for</span> color <span class="orange">in</span> row:<br/><span class="ent">➍</span>         mc.setBlock(x, y, z, 35, color)<br/><span class="ent">➎</span>         x += 1<br/><span class="ent">➏</span>     y += 1<br/><span class="ent">➐</span>     x = startingX</p>
<p class="indent">Before I explain the code, look at <a href="ch10.xhtml#ch10fig9">Figure 10-9</a> to see the output of <em>rainbowRows.py</em>, which is a set of blocks six blocks high on the y-dimension and three blocks wide on the x-dimension.</p>
<div class="image"><span epub:type="pagebreak" id="page_216"></span><img alt="image" src="../images/f10-09.jpg"/></div>
<p class="figcap"><a id="ch10fig9"></a><em>Figure 10-9: Using a two-dimensional list to make a rainbow wall</em></p>
<p class="indent">Because we’re working with two dimensions, we need two <span class="literal">for</span> loops to output the values in the <span class="literal">twoDimensionalRainbowList</span> list. The first loop iterates through each item in the outer list <span class="ent">➋</span>. The second loop <span class="ent">➌</span>, called a <em>nested</em> loop because it is inside another loop, then goes through each item in each nested list.</p>
<p class="indent">For example, the first time the outer loop runs, it gets the item stored in index position 0 of the <span class="literal">twoDimensionalRainbowList</span> list and stores it in a variable called <span class="literal">row</span> <span class="ent">➋</span>. The value of <span class="literal">row</span> is <span class="literal">[0, 0, 0]</span> because it’s the first item in the list.</p>
<p class="indent">The second loop then works through each item in the <span class="literal">row</span> list and stores it in the <span class="literal">color</span> variable <span class="ent">➌</span>. In this case, each item will be 0. The program then sets the blocks using the <span class="literal">color</span> variable to determine the color of each wool block <span class="ent">➍</span>. The nested loop finishes after it has placed all three blocks for that row, and then the outer loop runs again. Next, the outer loop moves to index position 1 and stores the value in the <span class="literal">row</span> variable, which is now <span class="literal">[1, 1, 1]</span>. It then runs through the nested loop to set the blocks again and iterates again until it reaches the end of the <span class="literal">twoDimensionalRainbowList</span> list.</p>
<p class="indent">When you’re working in two dimensions, you can change two coordinate variables at the same time. In this example, we increment the <span class="literal">y</span> variable on the second-to-last line of the outer <span class="literal">for</span> loop <span class="ent">➏</span> so each row of blocks will be placed above the previous row. We also increment the <span class="literal">x</span> variable inside the nested <span class="literal">for</span> loop <span class="ent">➎</span> to make sure the blocks are placed in a row. Then we need to reset the <span class="literal">x</span> variable to its original value (which is stored in the <span class="literal">startingX</span> variable <span class="ent">➊</span>) every time the outer <span class="literal">for</span> loop iterates <span class="ent">➐</span>. Resetting the <span class="literal">x</span> variable causes the first block of each row to be placed directly on top of the first block in the previous row, and so on, so the rows line up correctly with one another.</p>
<h4 class="h4" id="ch10lev2sec11"><span epub:type="pagebreak" id="page_217"></span><strong><span class="blue1">Accessing Values in 2D Lists</span></strong></h4>
<p class="noindent">When getting or setting a value in a one-dimensional list, you use square brackets and the index position. For example, this code creates a list called <span class="literal">scores</span> that records a player’s scores, and then it changes the item in index position 2 from 6 to 7:</p>
<p class="programs">scores = [1, 5, 6, 1]<br/>scores[2] = 7</p>
<p class="indent">Using or changing values in a two-dimensional list isn’t much different. You still use square brackets and the index position, but because you’re accessing two lists at the same time, you use two sets of indexes and square brackets. Let’s have a look!</p>
<p class="indent">Here’s the list you saw earlier:</p>
<p class="programs">twoDimensionalRainbowList = [[0, 0, 0],<br/>                             [1, 1, 1},<br/>                             [2, 2, 2],<br/>                             [3, 3, 3],<br/>                             [4, 4, 4],<br/>                             [5, 5, 5]]</p>
<p class="indent">If we wanted to change the second item (index position 1) in the first list (index position 0) to the value of 7, we would use this code:</p>
<p class="programs">twoDimensionalRainbowList[0][1] = 7</p>
<p class="indent">Because we’re using two lists and one list is nested inside the other, we need to use two sets of square brackets. The first one picks the index position 0 of the <span class="literal">twoDimensionalRainbowList</span> list, which is its first nested list. In the second bracket we put the index position we want to access in the nested list, 1. We then set the value of this position to 7 using the equal sign.</p>
<p class="indent">I added this code to the <em>rainbowRows.py</em> program (<a href="ch10.xhtml#page_215">page 215</a>) and reran it. <a href="ch10.xhtml#ch10fig10">Figure 10-10</a> shows the result. Notice that the second block on the first row has changed because we changed the value in the nested list to 7.</p>
<p class="indent">If you wanted to get the value of an item in a two-dimensional list, you would also use two sets of square brackets. For example, if you wanted to print the value in the first position (index 0) of the last row (index 5), you would use this code:</p>
<p class="programs"><span class="rose">print</span>(twoDimensionalRainbowList[5][0])</p>
<p class="indent">This code outputs the value 5.</p>
<div class="image"><span epub:type="pagebreak" id="page_218"></span><img alt="image" src="../images/f10-10.jpg"/></div>
<p class="figcap"><a id="ch10fig10"></a><em>Figure 10-10: Changing one of the values in a nested list to get a different result</em></p>
<h4 class="h4a" id="ch10lev2sec12"><strong>Mission #61: Pixel Art</strong></h4>
<p class="noindent"><em>Pixels</em> are single-colored squares that make up images on your computer. By combining lots of pixels in a grid, your computer can display text, images, videos, and everything else shown on your monitor. All photos and drawings on your computer are displayed using pixels.</p>
<p class="indent">Pixel art is quite popular in Minecraft. Using different colored blocks in the Minecraft game, players build pictures in Minecraft. Pictures of characters from 2D video games are some of the most popular. You can create pixel art by hand, or of course, you can use a Python program to generate the pixel art.</p>
<p class="indent">In this program, you’ll use a 2D list and nested loops to create pixel art in Minecraft. <a href="ch10.xhtml#ch10ex6">Listing 10-6</a> contains the beginning of the program. Copy it into a new file called <em>pixelArt.py</em> and save it in the <em>forLoops</em> folder.</p>
<p class="sidenote"><span class="blue"><em>pixelArt.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   pos = mc.player.getTilePos()<br/>   x, y, z = pos.x, pos.y, pos.z<br/><br/><span class="ent">➊</span> blocks = [[35, 35, 35, 35, 35, 35, 35, 35],<br/>             [35, 35, 35, 35, 35, 35, 35, 35],<br/>             [35, 35, 35, 35, 35, 35, 35, 35],<br/>             [35, 35, 35, 35, 35, 35, 35, 35]]<br/><span class="ent">➋</span> <span class="orange">for</span> row <span class="orange">in</span> <span class="rose">reversed</span>(blocks):<br/>       <span class="orange">for</span> block <span class="orange">in</span> row:<br/>           mc.setBlock(x, y, z, block)<br/>           x += 1<br/>       y += 1<br/>       x = pos.x</p>
<p class="examplet"><span epub:type="pagebreak" id="page_219"></span><a id="ch10ex6"></a><em>Listing 10-6: A two-dimensional list that draws a smiley face</em></p>
<p class="indent">The program creates a two-dimensional list called <span class="literal">blocks</span> that contains block IDs <span class="ent">➊</span> and then uses two loops to set the blocks in the Minecraft world <span class="ent">➋</span>. To make sure the first row of the list is at the top when it is placed in Minecraft and the bottom row of the list is placed at the bottom, the <span class="literal">reversed()</span> function is included with the first <span class="literal">for</span> loop <span class="ent">➋</span>. If it wasn’t, the image would be upside down compared to the order of the <span class="literal">blocks</span> list.</p>
<p class="indent">At the moment, the blocks are all white wool blocks and don’t display a picture. To finish the program, you need to rewrite the two-dimensional blocks list so it draws a smiley face, as shown in <a href="ch10.xhtml#ch10fig11">Figure 10-11</a>.</p>
<div class="image"><img alt="image" src="../images/f10-11.jpg"/></div>
<p class="figcap"><a id="ch10fig11"></a><em>Figure 10-11: A smiley face drawn with blocks</em></p>
<p class="indent">Change the values inside the lists so the output matches <a href="ch10.xhtml#ch10fig11">Figure 10-11</a>. You’ll need to change some of the values in the lists from wool blocks (block ID 35) to lapis lazuli blocks (block ID 22). For example, change the first line to this:</p>
<p class="programs">blocks = [[35, 35, 22, 22, 22, 22, 35, 35],</p>
<p class="indent">You’ll also need to add more rows to the <span class="literal">blocks</span> list so the height of the image matches the one in the picture.</p>
<div class="sidebar">
<p class="sidebart" id="ch10sb04"><span epub:type="pagebreak" id="page_220"></span><strong>BONUS OBJECTIVE: DRAW IT YOURSELF</strong></p>
<p class="noindent">Try changing the values in the two-dimensional list in <em>pixelArt.py</em> to display a different picture. You can change the lengths of the lists as well. Sketch your designs on graph paper first. Then convert them into two-dimensional lists so you can create them in Minecraft!</p>
</div>
<h4 class="h4" id="ch10lev2sec13"><strong><span class="blue1">Generating 2D Lists with Loops</span></strong></h4>
<p class="noindent">Programs that use random numbers are fun because they behave differently every time you run them. In the past, I’ve created lots of programs that use random numbers in two-dimensional lists to create pictures. Each random number might display a color, or in the case of Minecraft, a different block.</p>
<p class="indent">Here’s the beginning of a program that generates random numbers and stores them in a two-dimensional set of lists:</p>
<p class="programs">   <span class="orange">import</span> random<br/><span class="ent">➊</span> randomNumbers = []<br/>   <span class="orange">for</span> outer <span class="orange">in</span> <span class="rose">range</span>(10):<br/><span class="ent">➋</span>     randomNumbers.append([])<br/>   <span class="orange">for</span> inner <span class="orange">in</span> <span class="rose">range</span>(10):<br/><span class="ent">➌</span>         number = random.randint(1, 4)<br/>           randomNumbers[outer].append(number)<br/>   <span class="rose">print</span>(randomNumbers)</p>
<p class="indent">The program starts with an empty list called <span class="literal">randomNumbers</span> <span class="ent">➊</span>. Every time the outer <span class="literal">for</span> loop repeats, it adds a new empty list into the <span class="literal">randomNumbers</span> list <span class="ent">➋</span>. In the inner loop, the program then generates a random number between 1 and 5 and stores this in the inner list <span class="ent">➌</span>. The inner loop repeats 10 times to generate 10 items in each inner list.</p>
<p class="indent">After we add line breaks for readability, the output of the program looks like this (notice the 10 items in the 10 inner lists):</p>
<p class="programs">[[3, 1, 4, 1, 4, 1, 2, 3, 2, 2],<br/> [1, 3, 4, 2, 4, 3, 4, 1, 3, 2],<br/> [4, 2, 4, 1, 4, 3, 2, 3, 4, 4],<br/> [1, 4, 3, 4, 3, 4, 3, 3, 4, 4],<br/> [3, 1, 4, 2, 3, 3, 3, 1, 4, 2],<br/> [4, 1, 4, 2, 3, 2, 4, 3, 3, 1],<br/> [2, 4, 2, 1, 2, 1, 4, 2, 4, 3],<br/> [3, 1, 3, 4, 1, 4, 2, 2, 4, 1],<br/> [4, 3, 1, 2, 4, 2, 2, 3, 1, 2],<br/> [3, 1, 3, 3, 1, 3, 1, 4, 1, 2]]</p>
<p class="indent">By incorporating random numbers into your 2D Minecraft creations, you can create some very cool effects that would be difficult to make by hand!</p>
<h4 class="h4a" id="ch10lev2sec14"><span epub:type="pagebreak" id="page_221"></span><strong>Mission #62: A Weather-Worn Wall</strong></h4>
<p class="noindent">When I build walls in Minecraft, I don’t use a single block type. By swapping some cobblestone blocks for mossy cobblestone blocks, I can turn a plain wall into a wall that looks damaged, weather-beaten, organic, and cool. As fun as it is to build a wall by hand, I can never get the blocks I’ve added randomly to look random enough. You’ve probably guessed that the solution to making broken walls look more random is to use a Python program.</p>
<p class="indent">To generate a weather-worn wall with Python, you need to break down the program into two main steps:</p>
<ol>
<li class="noindent"><p class="list">Create a two-dimensional list and store block values in the list.</p></li>
<li class="noindent"><p class="list">Output the two-dimensional list into the Minecraft world.</p></li>
</ol>
<p class="indent">To get you started, <a href="ch10.xhtml#ch10ex7">Listing 10-7</a> includes the code to choose a random block value, set up the list, and get the player’s position. Copy the listing into a new file called <em>brokenWall.py</em> and save it in the <em>forLoops</em> folder.</p>
<p class="sidenote"><span class="blue"><em>brokenWall.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">import</span> random<br/><br/><br/><span class="ent">➊</span> <span class="orange">def</span> <span class="blue1">brokenBlock</span>():<br/>       brokenBlocks = [48, 67, 4, 4, 4, 4]<br/>       block = random.choice(brokenBlocks)<br/>       <span class="orange">return</span> block<br/><br/>   pos = mc.player.getTilePos()<br/>   x, y, z = pos.x, pos.y, pos.z<br/><br/>   brokenWall = []<br/>   height, width = 5, 10<br/><br/>   <span class="red"># Create the list of broken blocks</span><br/><br/>   <span class="red"># Set the blocks</span></p>
<p class="examplet"><a id="ch10ex7"></a><em>Listing 10-7: The start of the program to create a broken wall</em></p>
<p class="indent">The <span class="literal">brokenBlock()</span> function returns a random block value that’s used to build the wall <span class="ent">➊</span>. The <span class="literal">width</span> and <span class="literal">height</span> variables set the width and the height of the wall.</p>
<p class="indent">To finish the program, you need to generate a two-dimensional list of block values, then use those values to build the design in Minecraft.</p>
<p class="indent">Start with the blank list <span class="literal">brokenWall</span>. Using a <span class="literal">for</span> loop nested inside another <span class="literal">for</span> loop, generate random block values with the <span class="literal">brokenBlock()</span> function. Store the block values in lists, and store those lists in the <span class="literal">brokenWall</span> list. Then use another set of nested loops to place the blocks in Minecraft.</p>
<p class="indent"><span epub:type="pagebreak" id="page_222"></span>When your program is complete, move to where you want to build your weather-worn wall in your Minecraft world and run the code. You can use the program to decorate a castle or create spooky-looking ruins in the forest. Experiment with different locations to see what you like best! <a href="ch10.xhtml#ch10fig12">Figure 10-12</a> shows what a wall will look like when you run the program.</p>
<div class="image"><img alt="image" src="../images/f10-12.jpg"/></div>
<p class="figcap"><a id="ch10fig12"></a><em>Figure 10-12: A wall with randomly generated broken blocks. It looks like it might be haunted!</em></p>
<div class="sidebar">
<p class="sidebart" id="ch10sb05"><strong>BONUS OBJECTIVE: CREATE A COLORFUL WALL</strong></p>
<p class="noindent">In the <em>brokenWall.py</em> program, change the block values in the <span class="literal">brokenBlock()</span> function’s <span class="literal">brokenBlocks</span> list to create all kinds of walls. Try changing the block values to different colors of wool and see what happens!</p>
</div>
<h4 class="h4" id="ch10lev2sec15"><strong><span class="blue1">Thinking in Three Dimensions</span></strong></h4>
<p class="noindent">Of course, Minecraft is a game that uses three dimensions. And you’ve used three dimensions throughout this book. Each of the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables you used in most programs represents a dimension.</p>
<p class="indent">You’ve seen how to put one group of lists inside another to get a two-dimensional list and create cool pixel art and weathered walls. Putting a third group of lists inside a two-dimensional list creates a three-dimensional list, which lets you take your building skills to a whole new dimension!</p>
<p class="indent">Three-dimensional lists are extremely useful in Minecraft because you can use them to duplicate 3D structures, such as buildings, sculptures, and lots of other things.</p>
<p class="indent">The three-dimensional list in <a href="ch10.xhtml#ch10ex8">Listing 10-8</a> has four lists nested inside it. The kicker is that inside each index of those nested lists is another list! Basically, each item in this list is a 2D list. I’ve added blank comments to make the list easier to read.</p>
<p class="programs"><span epub:type="pagebreak" id="page_223"></span>cube = [[[57, 57, 57, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 57, 57, 57]],<br/>         <span class="red">#</span><br/>        [[57, 0, 0, 57],<br/>         [0, 0, 0, 0],<br/>         [0, 0, 0, 0],<br/>         [57, 0, 0, 57]],<br/>         <span class="red">#</span><br/>        [[57, 0, 0, 57],<br/>         [0, 0, 0, 0],<br/>         [0, 0, 0, 0],<br/>         [57, 0, 0, 57]],<br/>         <span class="red">#</span><br/>        [[57, 57, 57, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 57, 57, 57]]]</p>
<p class="examplet"><a id="ch10ex8"></a><em>Listing 10-8: A three-dimensional list with nested lists</em></p>
<p class="indent">Code like this can be used to make a cool cube structure! Next we’ll dig into a program that does just that.</p>
<h4 class="h4" id="ch10lev2sec16"><strong><span class="blue1">Outputting 3D Lists</span></strong></h4>
<p class="noindent">Lists that have three dimensions are perfect for storing data about three-dimensional objects, such as your awesome Minecraft buildings. Storing three-dimensional objects is important, and correctly outputting them to Minecraft is just as important. Because a three-dimensional list is a list within a list that is within a list, you can use a <span class="literal">for</span> loop inside another <span class="literal">for</span> loop that is also inside another <span class="literal">for</span> loop to access all the data. In other words, you can use three nested <span class="literal">for</span> loops.</p>
<p class="indent">In <a href="ch10.xhtml#ch10ex9">Listing 10-9</a>, I’ve copied the three-dimensional list from <a href="ch10.xhtml#ch10ex8">Listing 10-8</a> and created a program called <em>cube.py</em>. This program uses three nested <span class="literal">for</span> loops to output all the values of the three-dimensional list one at a time to build a cube structure in the Minecraft world.</p>
<p class="sidenote"><span class="blue"><em>cube.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   pos = mc.player.getTilePos()<br/>   x = pos.x<br/>   y = pos.y<br/>   z = pos.z<br/>   cube = [[[57, 57, 57, 57], [57, 0, 0, 57], [57, 0, 0, 57], [57, 57, 57, 57]],<br/>           [[57, 0, 0, 57], [0, 0, 0, 0], [0, 0, 0, 0], [57, 0, 0, 57]],<br/>           [[57, 0, 0, 57], [0, 0, 0, 0], [0, 0, 0, 0], [57, 0, 0, 57]],<br/>           [[57, 57, 57, 57], [57, 0, 0, 57], [57, 0, 0, 57], [57, 57, 57, 57]]]<br/><br/>   startingX = x<br/><span class="ent">➊</span> startingY = y<br/><span class="ent">➋</span> <span class="orange">for</span> depth <span class="orange">in</span> cube:<br/>       <span class="orange">for</span> height <span class="orange">in</span> <span class="rose">reversed</span>(depth):<br/>           <span class="orange">for</span> block <span class="orange">in</span> height:<br/>               mc.setBlock(x, y, z, block)<br/>               x += 1<br/>           y += 1<br/>           x = startingX<br/><span class="ent">➌</span>     z += 1<br/><span class="ent">➍</span>     y = startingY</p>
<p class="examplet"><span epub:type="pagebreak" id="page_224"></span><a id="ch10ex9"></a><em>Listing 10-9: Code to create a three-dimensional cube made of diamonds</em></p>
<p class="indent"><a href="ch10.xhtml#ch10fig13">Figure 10-13</a> shows the result of this program.</p>
<div class="image"><img alt="image" src="../images/f10-13.jpg"/></div>
<p class="figcap"><a id="ch10fig13"></a><em>Figure 10-13: The cube created by the</em> cube.py <em>program</em></p>
<p class="indent">The code in <em>cube.py</em> is very similar to the two-dimensional <em>rainbowRows.py</em> program (<a href="ch10.xhtml#page_215">page 215</a>) that builds a rainbow wall. The main difference is that <em>cube.py</em> uses three <span class="literal">for</span> loops instead of two, because it works with a three-dimensional list. The extra <span class="literal">for</span> loop adds an extra dimension to the structure, depth <span class="ent">➋</span>. So now the structure has width, height, and depth.</p>
<p class="indent">Each time the outer loop <span class="literal">for depth in cube</span> runs, it creates a two-dimensional list using the two nested loops, <span class="literal">for height in reversed(depth)</span> and <span class="literal">for block in height</span>. The code in the two nested loops is similar to the code in the <em>rainbowRows.py</em> program, which means these loops build a wall in Minecraft.</p>
<p class="indent">Let’s look at the result of the outer loop each time it repeats so we can see it build the cube step-by-step. The first time the outer loop runs, it outputs the blocks in index position 0 of the <span class="literal">cube</span> list. That list looks like this:</p>
<p class="programs">[[57, 57, 57, 57],<br/> [57, 0, 0, 57],<br/> [57, 0, 0, 57],<br/> [57, 57, 57, 57]]</p>
<p class="indent"><span epub:type="pagebreak" id="page_225"></span><a href="ch10.xhtml#ch10fig14">Figure 10-14</a> shows the output: our first wall of blocks.</p>
<div class="image"><img alt="image" src="../images/f10-14.jpg"/></div>
<p class="figcap"><a id="ch10fig14"></a><em>Figure 10-14: The result of the first two-dimensional loop,</em> <span class="literal"><span class="codeitalic">cube</span></span> <em>index 0</em></p>
<p class="indent">After each two-dimensional list is built in the game, the value of the <span class="literal">z</span> variable in <em>cube.py</em> <span class="ent">➌</span> is increased to move one block farther along the z-axis. This gives the cube depth, so we’re not just building a wall. We also need to reset the value of the <span class="literal">y</span> variable at <span class="ent">➍</span> to its original value <span class="ent">➊</span> so the blocks on the bottom of the cube line up with each other every time the outer loop repeats. If the <span class="literal">y</span> variable wasn’t reset, the y-coordinate of each set of blocks would keep getting higher and higher, creating some weird-looking stairs! <a href="ch10.xhtml#ch10fig15">Figure 10-15</a> shows what this would look like.</p>
<div class="image"><img alt="image" src="../images/f10-15.jpg"/></div>
<p class="figcap"><a id="ch10fig15"></a><em>Figure 10-15: We reset the</em> <span class="literal"><span class="codeitalic">y</span></span> <em>variable so this won’t happen!</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_226"></span>The second time the outer loop runs, it outputs the blocks in index position 1 of the <span class="literal">cube</span> list, which looks like this:</p>
<p class="programs">[[57, 0, 0, 57],<br/> [0, 0, 0, 0],<br/> [0, 0, 0, 0],<br/> [57, 0, 0, 57]]</p>
<p class="indent">This adds the next part of the cube, as you can see in <a href="ch10.xhtml#ch10fig16">Figure 10-16</a>. After this part of the cube is built, the <span class="literal">z</span> variable increases by 1 <span class="ent">➌</span> and the <span class="literal">y</span> variable is reset to its original value again <span class="ent">➍</span>.</p>
<div class="image"><img alt="image" src="../images/f10-16.jpg"/></div>
<p class="figcap"><a id="ch10fig16"></a><em>Figure 10-16: The result of the second two-dimensional loop,</em> <span class="literal"><span class="codeitalic">cube</span></span> <em>index 1</em></p>
<p class="indent">The next time the loop repeats, it outputs the two-dimensional list in index position 2 of <span class="literal">cube</span>:</p>
<p class="programs">[[57, 0, 0, 57],<br/> [0, 0, 0, 0],<br/> [0, 0, 0, 0],<br/> [57, 0, 0, 57]]</p>
<p class="indent"><a href="ch10.xhtml#ch10fig17">Figure 10-17</a> shows the result. Again, the <span class="literal">z</span> value is increased by 1 and the <span class="literal">y</span> value is reset.</p>
<p class="indent">Then the loop repeats a fourth and final time, outputting index position 3 of <span class="literal">cube</span>:</p>
<p class="programs">[[57, 57, 57, 57],<br/> [57, 0, 0, 57],<br/> [57, 0, 0, 57],<br/> [57, 57, 57, 57]]</p>
<p class="indent"><a href="ch10.xhtml#ch10fig18">Figure 10-18</a> shows the finished cube structure.</p>
<div class="image"><span epub:type="pagebreak" id="page_227"></span><img alt="image" src="../images/f10-17.jpg"/></div>
<p class="figcap"><a id="ch10fig17"></a><em>Figure 10-17: The result of the third two-dimensional loop,</em> <span class="literal"><span class="codeitalic">cube</span></span> <em>index 2</em></p>
<div class="image"><img alt="image" src="../images/f10-18.jpg"/></div>
<p class="figcap"><a id="ch10fig18"></a><em>Figure 10-18: The result of the last two-dimensional loop, in the final</em> <span class="literal"><span class="codeitalic">cube</span></span> <em>index position</em></p>
<p class="indent">Experiment with this program—use a different block type, try making a larger cube, or anything else you can imagine! In the next section, I’ll show you how to access values in three-dimensional lists so you can make some of these changes.</p>
<h4 class="h4" id="ch10lev2sec17"><strong><span class="blue1">Accessing Values in 3D Lists</span></strong></h4>
<p class="noindent">The values inside three-dimensional lists can be changed just as in one-dimensional and two-dimensional lists, using square brackets and index positions.</p>
<p class="indent"><span epub:type="pagebreak" id="page_228"></span>Let’s start with our three-dimensional diamond cube list:</p>
<p class="programs">cube = [[[57, 57, 57, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 57, 57, 57]],<br/>         <span class="red">#</span><br/>        [[57, 0, 0, 57],<br/>         [0, 0, 0, 0],<br/>         [0, 0, 0, 0],<br/>         [57, 0, 0, 57]],<br/>         <span class="red">#</span><br/>        [[57, 0, 0, 57],<br/>         [0, 0, 0, 0],<br/>         [0, 0, 0, 0],<br/>         [57, 0, 0, 57]],<br/>         <span class="red">#</span><br/>        [[57, 57, 57, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 0, 0, 57],<br/>         [57, 57, 57, 57]]]</p>
<p class="indent">I want to change the bottom-left block on the front of my cube to gold.</p>
<p class="indent">First I need to access the index of the cube list that contains the front of the cube, which is 0. So the first part of the expression will look like this:</p>
<p class="programs">cube[0]</p>
<p class="indent">If I printed the value of this expression, I would get the following output (which I’ve formatted to make it easier to read):</p>
<p class="programs">[[57, 57, 57, 57],<br/> [57, 0, 0, 57],<br/> [57, 0, 0, 57],<br/> [57, 57, 57, 57]]</p>
<p class="indent">This two-dimensional list represents the front of the cube. Next, I want to access the bottom row, which is index 3. So I add <span class="literal">[3]</span> to my expression:</p>
<p class="programs">cube[0][3]</p>
<p class="indent">If I printed the list stored at this position, I would get the following:</p>
<p class="programs">[57, 57, 57, 57]</p>
<p class="indent">Finally, I want to access the leftmost block in the row, which is index 3. So the final expression to change the bottom-left block to a gold block looks like this:</p>
<p class="programs">cube[0][3][3] = 41</p>
<p class="indent"><span epub:type="pagebreak" id="page_229"></span>When I run the <em>cube.py</em> program with this line added, I get a cube made of diamonds with one single golden block, as in <a href="ch10.xhtml#ch10fig19">Figure 10-19</a>.</p>
<div class="image"><img alt="image" src="../images/f10-19.jpg"/></div>
<p class="figcap"><a id="ch10fig19"></a><em>Figure 10-19: The modified cube with a single golden corner</em></p>
<h4 class="h4a" id="ch10lev2sec18"><strong>Mission #63: Duplicate a Building</strong></h4>
<p class="noindent">Even though building things in Minecraft using a Python program saves a lot of time, if you’re like me, you might still spend a considerable amount of effort adding details, like pictures and furniture, to your buildings. Sometimes you might need to make an identical copy of a particular object, and copying an object by hand can take lots of time. Placing each block one by one is a lot of work as well, and you might place a block in the wrong spot. The obvious solution is to make a program that copies a building in Minecraft and builds a copy of it in the game for you!</p>
<p class="indent">The finished program will need to do two things: first it will copy an area of the game and store it in a three-dimensional list, and then it will build the copied structure using that three-dimensional list.</p>
<p class="indent">I’ve included the start of the program in <a href="ch10.xhtml#ch10ex10">Listing 10-10</a> to help you. Copy the listing into a new file and save it as <em>duplicateArea.py</em> in the <em>forLoops</em> folder.</p>
<p class="sidenote"><span class="blue"><em>duplicateArea.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/><span class="ent">➊</span> <span class="orange">def</span> <span class="blue1">sortPair</span>(val1, val2):<br/>       <span class="orange">if</span> val1 &gt; val2:<br/>           <span class="orange">return</span> val2, val1<br/>       <span class="orange">else</span>:<br/>           <span class="orange">return</span> val1, val2<br/><span class="ent">➋</span> <span class="orange">def</span> <span class="blue1">copyStructure</span>(x1, y1, z1, x2, y2, z2):<br/>       <span class="red"># Sort the highest and lowest x, y, and z values</span><br/>       x1, x2 = sortPair(x1, x2)<br/>       y1, y2 = sortPair(y1, y2)<br/>       z1, z2 = sortPair(z1, z2)<br/><br/>       width = x2 - x1<br/>       height = y2 - y1<br/>       length = z2 - z1<br/><br/>       structure = []<br/><br/>       <span class="rose">print</span>(<span class="green">"Please wait..."</span>)<br/><br/><span class="ent">➌</span>     <span class="red"># Copy the structure</span><br/><br/>       <span class="orange">return</span> structure<br/><br/><span class="ent">➍</span> <span class="orange">def</span> <span class="blue1">buildStructure</span>(x, y, z, structure):<br/><br/>       xStart = x<br/>       yStart = y<br/><br/><span class="ent">➎</span>     <span class="red"># Build the structure</span><br/><br/>   <span class="red"># Get the position of the first corner</span><br/><span class="ent">➏</span> <span class="rose">input</span>(<span class="green">"Move to the first corner and press enter in this window"</span>)<br/>    pos = mc.player.getTilePos()<br/>    x1, y1, z1 = pos.x, pos.y, pos.z<br/><br/>    <span class="red"># Get the position of the second corner</span><br/><span class="ent">➐</span> <span class="rose">input</span>(<span class="green">"Move to the opposite corner and press enter in this window"</span>)<br/>    pos = mc.player.getTilePos()<br/>    x2, y2, z2 = pos.x, pos.y, pos.z<br/><br/>    <span class="red"># Copy the building</span><br/><span class="ent">➑</span> structure = copyStructure(x1, y1, z1, x2, y2, z2)<br/><br/>   <span class="red"># Set the position for the copy</span><br/><span class="ent">➒</span> <span class="rose">input</span>(<span class="green">"Move to the position you want to create the structure and press ENTER</span> <img alt="image" src="../images/enter.jpg"/><br/>          <span class="green">in this window"</span>)<br/>   <span class="green">pos = mc.player.getTilePos()</span><br/>   x, y, z = pos.x, pos.y, pos.z<br/>   buildStructure(x, y, z, structure)</p>
<p class="examplet"><span epub:type="pagebreak" id="page_230"></span><a id="ch10ex10"></a><em>Listing 10-10: When the program is finished, it will duplicate buildings.</em></p>
<p class="indent">This program is divided into several parts. First, the <span class="literal">sortPair()</span> function <span class="ent">➊</span> sorts a pair of values into a tuple with the lowest value in the first index position and the highest value in the second index position. For example, if I gave <span class="literal">sortPair()</span> the arguments 9 and 3, it would return a tuple with the value of <span class="literal">(3, 9)</span> because 3 is less than 9. I use this function to sort pairs of <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> values so the <span class="literal">width</span>, <span class="literal">length</span>, and <span class="literal">depth</span> variables are always positive when calculated.</p>
<p class="indent"><span epub:type="pagebreak" id="page_231"></span>Next, the <span class="literal">copyStructure()</span> function <span class="ent">➋</span> copies the structure from the game world, but it’s incomplete <span class="ent">➌</span>. The <span class="literal">buildStructure()</span> function <span class="ent">➍</span> builds the structure, but it is also incomplete <span class="ent">➎</span>. You’ll complete both in this mission.</p>
<p class="indent">I’ve added a neat trick to get the coordinates of the building you want to copy and the location in the game where you want to build the copy: Using the <span class="literal">input()</span> function, the program first asks you to move your character to one corner of the building and press <small>ENTER</small> ➏. The <span class="literal">input()</span> function makes the code wait until you’ve moved the player to where you want them to be. As soon as you press <small>ENTER</small>, it gets the player’s position using the <span class="literal">getTilePos()</span> function. We do the same again at the opposite corner of the building ➐. Then the <span class="literal">copyStructure()</span> function uses these two sets of coordinates to copy the building ➑. (When copying larger structures, this part of the program can take a while to run.) Finally, you move to where you want the building to be built and press <small>ENTER</small> ➒ to pass the player’s last position to the <span class="literal">buildStructure()</span> function.</p>
<p class="indent">To finish the program, it’s your job to complete the <span class="literal">copyStructure()</span> and <span class="literal">buildStructure()</span> functions. Add three nested loops to the <span class="literal">copyStructure()</span> function to copy all the blocks between the coordinates given in the argument into a three-dimensional list at <span class="ent">➌</span>. To finish the <span class="literal">buildStructure()</span> function, add three nested <span class="literal">for</span> loops that output the block values from the three-dimensional list at <span class="ent">➎</span>. The function should use the given coordinates in its arguments.</p>
<p class="indent">Make sure the program works through <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> positions inside the structure. Use the <span class="literal">for</span> loops to change the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> positions.</p>
<p class="indent">Although <em>duplicateArea.py</em> is a long program, it’s very useful and worth the effort. After you finish this mission, you’ll be able to build entire cities in your Minecraft world! I used <em>duplicateArea.py</em> to duplicate an interesting cliff I found when I was exploring. <a href="ch10.xhtml#ch10fig20">Figure 10-20</a> shows the cliff that I wanted to copy.</p>
<div class="image"><img alt="image" src="../images/f10-20.jpg"/></div>
<p class="figcap"><a id="ch10fig20"></a><em>Figure 10-20: I liked the look of this cliff, so I made a copy of it.</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_232"></span>When you’re using the <em>duplicateArea.py</em> program to make copies, first stand outside (if your structure is a building) and near the bottom corner of the object you want to copy. Then press <small>ENTER</small> in IDLE. <a href="ch10.xhtml#ch10fig21">Figure 10-21</a> shows me standing on the first corner.</p>
<div class="image"><img alt="image" src="../images/f10-21.jpg"/></div>
<p class="figcap"><a id="ch10fig21"></a><em>Figure 10-21: First I moved to one corner of the structure and pressed <small>ENTER</small> in IDLE.</em></p>
<p class="indent">Next, fly up and around to the opposite corner of the object you want to copy and press <small>ENTER</small> a second time. <a href="ch10.xhtml#ch10fig22">Figure 10-22</a> shows that I’ve flown into the air and moved around the cliff.</p>
<div class="image"><img alt="image" src="../images/f10-22.jpg"/></div>
<p class="figcap"><a id="ch10fig22"></a><em>Figure 10-22: Then I moved to the opposite corner of the structure and pressed <small>ENTER</small></em>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_233"></span>You’ll get a message asking you to wait a moment while the structure is being copied by the program. Move to the location where you want to build the copy and wait for a message asking you where you want to build the new structure (<a href="ch10.xhtml#ch10fig23">Figure 10-23</a>).</p>
<div class="image"><img alt="image" src="../images/f10-23.jpg"/></div>
<p class="figcap"><a id="ch10fig23"></a><em>Figure 10-23: I waited a while for the structure to copy. Then I moved to where I wanted to build the copy and pressed <small>ENTER</small> to build it.</em></p>
<p class="indent">Press <small>ENTER</small> when you’re in the right place for the new building, and a copy of it will be built right in front of you! <a href="ch10.xhtml#ch10fig24">Figure 10-24</a> shows my copy of the cliff.</p>
<div class="image"><img alt="image" src="../images/f10-24.jpg"/></div>
<p class="figcap"><a id="ch10fig24"></a><em>Figure 10-24: The copy of the original cliff!</em></p>
<h3 class="h3" id="ch10lev1sec06"><span epub:type="pagebreak" id="page_234"></span><strong><span class="blue1">What You Learned</span></strong></h3>
<p class="noindent">This chapter covered a lot of ground. You learned how to use <span class="literal">for</span> loops with lists, and you learned how to use the <span class="literal">range()</span> function. You also learned more about <span class="literal">for</span> loops and lists, such as reversing lists, looping over dictionaries, and breaking <span class="literal">for</span> loops. You created two- and three-dimensional lists with nested loops, which are super useful for building an awesome Minecraft world.</p>
<p class="indent">From generating stairs and pyramids to duplicating structures and creating art, you now have much more control over Minecraft than ever before. The programs in this chapter are some of my favorite programs in the book, and they’ll help you create your own advanced projects!</p>
<p class="indent">This chapter and <a href="ch09.xhtml#ch09">Chapter 9</a> focused strongly on lists and <span class="literal">for</span> loops, which are closely related. In <a href="ch11.xhtml#ch11">Chapter 11</a>, you’ll move on to files and modules, which are closely related to functions and which you’ve been using throughout this book. As part of the missions, you’ll learn how to save and load structures to and from files.</p>
</body>
</html>