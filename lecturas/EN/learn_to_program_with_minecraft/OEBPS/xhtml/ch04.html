<html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ns="http://www.w3.org/2001/10/synthesis">
<head>
<title>Learn to Program with Minecraft</title>
<link href="../styles/9781593276706.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:40af8c70-d268-482b-9282-0b537fc6ae71" name="Adept.expected.resource"/>
</head>
<body>
<h2 class="h2" id="ch04"><span epub:type="pagebreak" id="page_69"></span><strong><span class="blue1"><span class="big">4</span></span></strong><br/><strong>CHATTING WITH STRINGS</strong></h2>
<div class="image1"><img alt="image" src="../images/common01.jpg"/></div>
<p class="noindent">In <a href="ch02.xhtml#ch02">Chapters 2</a> and <a href="ch03.xhtml#ch03">3</a>, you worked with integers and floats, which are both number types. In this chapter, you’ll use another data type called <em>strings</em>. You can use strings to work with letters and symbols as well as numbers.</p>
<p class="indent">Strings help you display data to people using your programs—an important part of programming. Using strings, you can to tell Python to <em>output</em> data to the screen, which displays and communicates information to the user.</p>
<p class="indent">With Minecraft you can use strings in various places, such as posting messages to the chat, which is a way of communicating with other players when you are in multiplayer mode. Although posting messages is a standard feature in other versions of Minecraft, it is a hidden feature in the Rasp-berry Pi version. But you can access this feature through the power of programming. You’ll be able to share secret information with your friends and brag about your treasures!</p>
<p class="indent"><span epub:type="pagebreak" id="page_70"></span>You’ll also learn about functions in this chapter. If you are eagle-eyed, you’ll notice that you’ve seen some functions already. <span class="literal">setPos()</span>, <span class="literal">setTilePos()</span>, <span class="literal">setBlock()</span>, <span class="literal">setBlocks()</span>, <span class="literal">getPos()</span>, and <span class="literal">getTilePos()</span> are all <em>functions</em>—reusable blocks of code that make it easier for you to complete tasks. Pretty cool, huh?</p>
<p class="indent">In this chapter’s missions, you’ll build on the knowledge you’ve learned so far. You’ll print messages to the Minecraft chat using strings and practice inputting data to create objects in your Minecraft world.</p>
<h3 class="h3" id="ch04lev1sec01"><strong><span class="blue1">What Are Strings?</span></strong></h3>
<p class="noindent">A <em>string</em> data type includes any amount of text, from a single letter or symbol—like <span class="literal">"a"</span> or <span class="literal">"&amp;"</span>—to a large block of text. Each letter, number, or symbol in a string is called a <em>character</em>. When you want to include letters, symbols, words, sentences, or a combination of these things in your program, you use strings.</p>
<p class="indent">With the string data type, you can store letters, numbers, and symbols. All strings are enclosed in quotation marks. For example, this is a string:</p>
<p class="programs"><span class="green">"Look out! There's a zombie behind you!"</span></p>
<p class="indent">The following is also a string:</p>
<p class="programs"><span class="green">'Welcome to my secret base!'</span></p>
<p class="indent">Did you catch the slight difference in the way these examples are written? When writing a string, you can use either single or double quotation marks: <span class="literal">'</span> or <span class="literal">"</span>. Be careful not to mix quotation marks! If you start a string with a single quote, you must end it with a single quote. If you start with a double quote, end with a double quote. There is a good reason for including both of these options in the Python programming language; for example, if you want to use an apostrophe in your string, you can safely include it if you enclose your string in double quotes.</p>
<h3 class="h3" id="ch04lev1sec02"><strong><span class="blue1">The print() Function</span></strong></h3>
<p class="noindent">Displaying text and other information to the user is important for user interaction; otherwise, the user won’t know what’s going on in your programs. The information you display to the user is called <em>output</em>. To output data to the user’s screen, you use the <span class="literal">print()</span> function.</p>
<p class="indent">To output a message, pass a string to the <span class="literal">print()</span> function as an argument:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"String"</span>)</p>
<p class="indent"><span epub:type="pagebreak" id="page_71"></span>This tells Python that you want to display the word <span class="literal">String</span> to the user. So to print <span class="literal">chocolate</span> to the Python shell, you write:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"chocolate"</span>)</p>
<p class="indent">And that output would be:</p>
<p class="programs"><span class="blue1">chocolate</span></p>
<p class="indent">You can also use <span class="literal">print()</span> to print the values of variables. For example, if you have a variable called <span class="literal">name</span> that stores a name as a string, and you want to display it to the screen, you can do this:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> name = <span class="green">"Steve the Miner"</span></p>
<p class="indent">After you store the string <span class="literal">"Steve the Miner"</span> in <span class="literal">name</span>, you can simply write <span class="literal">print(name)</span> to display this output:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(name)<br/><span class="blue1">Steve the Miner</span></p>
<p class="indent">Now that you know the basics of strings, complete the mission to say hello to your Minecraft world!</p>
<h4 class="h4a" id="ch04lev2sec01"><strong>Mission #11: Hello, Minecraft World</strong></h4>
<p class="noindent">If you want to chat with other players in Minecraft Pi, the Minecraft Python API lets you send messages to the chat using the <span class="literal">postToChat()</span> function. The <span class="literal">postToChat()</span> function takes a string as an argument and posts that string to the Minecraft chat window. For example, <a href="ch04.xhtml#ch4ex1">Listing 4-1</a> posts <span class="literal">"Hello, Minecraft World"</span> to the chat.</p>
<p class="sidenote"><span class="blue"><em>message.py</em></span></p>
<p class="programs"><span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>mc = Minecraft.create()<br/>mc.postToChat(<span class="green">"Hello, Minecraft World"</span>)</p>
<p class="examplet"><a id="ch4ex1"></a><em>Listing 4-1: Use Python to send a greeting over Minecraft chat.</em></p>
<p class="indent">Recall that an argument is information that you pass to a function when you call the function. The function needs this information in order to do its job. For example, in the previous chapter, we needed to pass numbers to our functions to define what we wanted them to do. In this case, <span class="literal">postToChat()</span> needs a string, such as <span class="literal">"Hello, Minecraft World"</span>.</p>
<p class="indent">The <span class="literal">postToChat()</span> function is similar to the <span class="literal">print()</span> function. Both can show strings on the screen, and both can take a variable that stores a string as an argument. The difference is that the <span class="literal">print()</span> function outputs strings to the Python shell while <span class="literal">postToChat()</span> displays the output in the Minecraft chat.</p>
<p class="indent"><span epub:type="pagebreak" id="page_72"></span>Copy the code from <a href="ch04.xhtml#ch4ex1">Listing 4-1</a> and save it as <em>message.py</em> in a new folder called <em>strings</em>. When you run the program, you should see the message posted to chat, as shown in <a href="ch04.xhtml#ch4fig1">Figure 4-1</a>.</p>
<div class="image"><img alt="image" src="../images/f04-01.jpg"/></div>
<p class="figcap"><a id="ch4fig1"></a><em>Figure 4-1: My message was posted in the chat.</em></p>
<p class="indent">Try passing a different string to <span class="literal">postToChat()</span> to make it display a different chat message.</p>
<div class="sidebar">
<p class="sidebart" id="ch04sb01"><strong>BONUS OBJECTIVE: WHERE ARE YOU?</strong></p>
<p class="noindent">You can post all sorts of information to the chat using the <span class="literal">mc.postToChat()</span> function. Try displaying the player’s current x position or the block type they’re standing on. Recall that the <span class="literal">mc.player.getTilePos()</span> function gets the player’s current position and the <span class="literal">mc.getBlock()</span> function tells you the block type at certain coordinates.</p>
</div>
<h3 class="h3" id="ch04lev1sec03"><strong><span class="blue1">The input() Function</span></strong></h3>
<p class="noindent">So far, all of your variables have been set in your programs, or <em>hardcoded</em>. To change the value of a variable, you’d have to edit the program. It would be handy to be able to change these variables while the program is running or accept <em>user input</em> from the player.</p>
<p class="indent">One way of adding this kind of interactivity to your program is by using the <span class="literal">input()</span> function. It prints a string to the console (to tell the user what kind of information they should enter) and then waits for the user to type a response. Try entering this code into the Python shell to see what happens:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">input</span>(<span class="green">"What is your name? "</span>)</p>
<p class="indent"><span epub:type="pagebreak" id="page_73"></span>You’ll see the string that you passed to <span class="literal">input()</span>, and you’ll be able to type in a response.</p>
<p class="programs"><span class="blue1">What is your name?</span></p>
<p class="indent">When you enter a response, you should see something like this:</p>
<p class="programs"><span class="blue1">What is your name?</span> Craig<br/>'Craig'</p>
<p class="indent">Neat! But if you want to use this input somewhere in your program, you’ll have to save it to a variable. Unlike the Python shell, programs created in the text editor do not automatically output the results of statements. For example:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> name = <span class="rose">input</span>(<span class="green">"What is your name? "</span>)<br/><span class="blue1">What is your name?</span> Craig</p>
<p class="indent">Notice how this time after you type in your name and press <small>ENTER</small>, the program doesn’t automatically display your input. To see the saved input, just pass the variable <span class="literal">name</span> as an argument to the <span class="literal">print()</span> function:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(name)<br/><span class="blue1">Craig</span></p>
<p class="indent">Awesome! Now you’ve stored your input in a variable and printed the variable’s value. This is very handy because it lets you get input from the user to use anywhere in your program. Let’s use this technique to write chat messages to the Minecraft chat!</p>
<h4 class="h4a" id="ch04lev2sec02"><strong>Mission #12: Write Your Own Chat Message</strong></h4>
<p class="noindent">Let’s make the chat more interactive! You can use the Python shell to write a message in Minecraft chat, as you did in Mission #11. In this mission, we’ll write a slightly different program that saves the string you want to post to the chat in a variable named <span class="literal">message</span>.</p>
<p class="indent"><a href="ch04.xhtml#ch4ex2">Listing 4-2</a> will get you started. Copy it into a new file in IDLE and save it as <em>messageInput.py</em> in your <em>strings</em> folder.</p>
<p class="sidenote"><span class="blue"><em>messageInput.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><span class="ent">➊</span> message = <span class="green">"This is the default message."</span><br/><span class="ent">➋</span> mc.postToChat(message)</p>
<p class="examplet"><a id="ch4ex2"></a><em>Listing 4-2: How to output strings to Minecraft’s chat</em></p>
<p class="indent">The program stores the message you want to output to chat in the variable <span class="literal">message</span> <span class="ent">➊</span>. In this case, the variable is a string that says <span class="literal">"This is the default message."</span> Then the program passes <span class="literal">message</span> to the <span class="literal">postToChat()</span> function <span class="ent">➋</span>, which outputs the string to the Minecraft chat.</p>
<p class="indent"><span epub:type="pagebreak" id="page_74"></span>In this program, the string is hardcoded, meaning it will be the same every time the program runs. But with a single change, you can make it print whatever the user writes! In other words, you can write your own custom messages every time you run the program. You’ll create your very own chat program.</p>
<p class="indent">To make the program accept input, replace the string <span class="literal">"This is the default message."</span> <span class="ent">➊</span> with the <span class="literal">input()</span> function. Give the <span class="literal">input()</span> function an argument, such as <span class="literal">"Enter your message: "</span>. Remember to put this string inside the <span class="literal">input()</span> function’s parentheses! After you’ve made the changes to the program, run it. You should see a prompt in the Python shell displaying <span class="literal">"Enter your message: "</span>. Enter your message and press <small>ENTER</small>. The message displays in the shell and in the Minecraft chat, as shown in <a href="ch04.xhtml#ch4fig2">Figure 4-2</a>.</p>
<div class="image"><img alt="image" src="../images/f04-02.jpg"/></div>
<p class="figcap"><a id="ch4fig2"></a><em>Figure 4-2: When I enter a message in the IDLE shell, it’s posted to Minecraft’s chat.</em></p>
<p class="indent">Now your program lets you write a message to display to chat, instead of you having to write the message in your program. See how much easier it is to chat using input?</p>
<div class="sidebar">
<p class="sidebart" id="ch04sb02"><strong>BONUS OBJECTIVE: MORE MESSAGES</strong></p>
<p class="noindent">The program asks for one message, but can you figure out how to make it ask for one message, wait a few seconds (using the <span class="literal">sleep()</span> function), and then ask for a second message?</p>
</div>
<h3 class="h3" id="ch04lev1sec04"><span epub:type="pagebreak" id="page_75"></span><strong><span class="blue1">Joining Strings</span></strong></h3>
<p class="noindent">Often, you’ll need to print a combination of strings. This is called joining, or <em>concatenating</em>, strings, and Python makes it easy.</p>
<p class="indent">In <a href="ch03.xhtml#ch03">Chapter 3</a> we used the addition operator (<span class="literal">+</span>) to add numbers, but you can also use it to concatenate strings. For example:</p>
<p class="programs">firstName = <span class="green">"Charles"</span><br/>lastName = <span class="green">"Christopher"</span><br/><span class="rose">print</span>(firstName + lastName)</p>
<p class="indent">The output of <span class="literal">print()</span> will be <span class="literal">"CharlesChristopher"</span>. If you want a space character between the values, you can add a space by using the addition operator like this:</p>
<p class="programs"><span class="rose">print</span>(firstName + <span class="green">" "</span> + lastName)</p>
<p class="indent">Python often provides multiple ways to achieve the same result. In this case, you could use a comma to create the space instead:</p>
<p class="programs"><span class="rose">print</span>(firstName, lastName)</p>
<p class="indent">Both of these statements will output <span class="literal">"Charles Christopher"</span>. You can concatenate hardcoded strings with variables that happen to be strings too. Just write the value like you would write any other string:</p>
<p class="programs"><span class="rose">print</span>(<span class="green">"His name is "</span> + firstName + <span class="green">" "</span> + lastName)</p>
<p class="indent">This will output <span class="literal">"His name is Charles Christopher"</span>.</p>
<p class="indent">Putting together blocks of text is useful, but sometimes you’ll want to join strings to another data type, like an integer. Python will not let you concatenate a string with an integer; in this case, you need to tell Python to first convert the integer to a string. Let’s try it.</p>
<h4 class="h4" id="ch04lev2sec03"><strong><span class="blue1">Converting Numbers to Strings</span></strong></h4>
<p class="noindent">Converting one variable type to another is handy. For example, imagine you store the number of golden apples you have, which is an integer, in a variable called <span class="literal">myGoldenApples</span>. You want to brag to your friends about how many golden apples you have, because they’re rare and you like to brag. You could print a message like <span class="literal">"My not-so-secret golden apple stash: "</span>, followed by the value stored in <span class="literal">myGoldenApples</span>. But before you can include the value of <span class="literal">myGoldenApples</span> in the printed message, you have to tell Python to change the integer in <span class="literal">myGoldenApples</span> to a string.</p>
<p class="indent">The <span class="literal">str()</span> function converts non-string data types, like integers and floats, into strings. To convert to a string, put the value you want to convert inside the parentheses of the <span class="literal">str()</span> function.</p>
<p class="indent"><span epub:type="pagebreak" id="page_76"></span>Let’s go back to your golden apple stash. Say you’ve set <span class="literal">myGoldenApples</span> to 2, and you want Python to treat that 2 as a string instead of an integer. Here’s how you’d print your message:</p>
<p class="programs"><span class="rose">print</span>(<span class="green">"My not-so-secret golden apple stash: "</span> + <span class="rose">str</span>(myGoldenApples))</p>
<p class="indent">This statement outputs the string <span class="literal">"My not-so-secret golden apple stash: 2"</span>. You can convert floats to strings as well. Say you ate half a golden apple, and now <span class="literal">myGoldenApples</span> stores 1.5 apples. <span class="literal">str(myGoldenApples)</span> works the same on the 1.5 as it did on the 2. It converts 1.5 to a string so you can include it in your message.</p>
<p class="indent">After you’ve converted numbers to strings, you can concatenate them however you like. Let’s have some fun turning numbers into strings and concatenating them!</p>
<h4 class="h4" id="ch04lev2sec04"><strong><span class="blue1">Concatenating Integers and Floats</span></strong></h4>
<p class="noindent">If you want to concatenate two pieces of data, they must be strings. But the plus sign is used for both addition and concatenation, so if you’re concatenating integers, floats, and other numbers, Python will try to add them instead. You must change number values to strings in order to join them using concatenation.</p>
<p class="indent">To join two numbers instead of adding them, just use the <span class="literal">str()</span> method:</p>
<p class="programs"><span class="rose">print</span>(<span class="rose">str</span>(19) + <span class="rose">str</span>(84))</p>
<p class="indent">Because you told Python to treat the numbers 19 and 84 as strings and concatenate them, this statement outputs <span class="literal">1984</span> instead of <span class="literal">103</span>, the sum of 19 and 84.</p>
<p class="indent">You can use concatenation as many times as you want within a statement. For example:</p>
<p class="programs"><span class="rose">print</span>(<span class="green">"The year is "</span> + <span class="rose">str</span>(19) + <span class="rose">str</span>(84))</p>
<p class="indent">This line of code outputs <span class="literal">The year is 1984</span>.</p>
<p class="indent">Now that you have a bit of practice using concatenation, let’s put your new skills to the test in the next mission!</p>
<h4 class="h4a" id="ch04lev2sec05"><strong>Mission #13: Add Usernames to Chat</strong></h4>
<p class="noindent">When you’re playing a game with more than two people, it can be confusing to figure out who is writing a message in Minecraft chat. The obvious solution is to include the user’s name at the start of their message. In this mission, you’ll modify the program from Mission #12 to include a user-name for all messages sent to chat.</p>
<p class="indent">Open <em>messageInput.py</em> in IDLE and save it as a new file called <em>userChat.py</em> in the <em>strings</em> folder. Then add code to take in the user’s name as input before taking in their message. The message posted to chat should be in <span epub:type="pagebreak" id="page_77"></span>the following format: <span class="literal">"Anna: I need TNT."</span> You’ll need to use concatenation to accomplish this mission.</p>
<p class="indent">In the program, find this line of code:</p>
<p class="programs">message = <span class="rose">input</span>(<span class="green">"Enter your message: "</span>)</p>
<p class="indent">On the line above it, you need to add another variable called <span class="literal">username</span> and set its value to <span class="literal">input("Please enter a username: ")</span>. After you’ve added the <span class="literal">username</span> variable, find this line:</p>
<p class="programs">mc.postToChat(message)</p>
<p class="indent">Using concatenation, join the <span class="literal">username</span> and <span class="literal">message</span> strings inside the <span class="literal">postToChat()</span> function. Add <span class="literal">": "</span> between the two strings so the output has a colon and a space between the <span class="literal">username</span> variable and the <span class="literal">message</span> variable. <a href="ch04.xhtml#ch4fig3">Figure 4-3</a> shows what the output of the finished program should look like.</p>
<div class="image"><img alt="image" src="../images/f04-03.jpg"/></div>
<p class="figcap"><a id="ch4fig3"></a><em>Figure 4-3: Now when I post to chat using my program, it displays my username.</em></p>
<p class="indent">Save your updated program and run it. In the Python shell you will be asked to enter a username. Type your name and press <small>ENTER</small>. Then you’ll be prompted to write a message, so do that as well. Your username and message should be displayed in Minecraft chat.</p>
<div class="sidebar">
<p class="sidebart" id="ch04sb03"><strong>BONUS OBJECTIVE: A USER WITHOUT A NAME</strong></p>
<p class="noindent">What happens if you leave the username blank and press <span class="literal">ENTER</span>? Why do you think this is?</p>
</div>
<h3 class="h3" id="ch04lev1sec05"><span epub:type="pagebreak" id="page_78"></span><strong><span class="blue1">Converting Strings to Integers with int()</span></strong></h3>
<p class="noindent">Like the <span class="literal">str()</span> function, which converts non-string data types into strings, the <span class="literal">int()</span> function converts non-integer data types into integers.</p>
<p class="indent">The <span class="literal">int()</span> function is useful when used with the <span class="literal">input()</span> function. The <span class="literal">input()</span> function returns the user input as a string, but you’ll often want to use this input in math operations. To do that, you’ll first have to convert the input to an integer type using <span class="literal">int()</span>.</p>
<p class="indent">Here’s how it works. Suppose we have already assigned an integer value to a variable called <span class="literal">cansOfTunaPerCat</span>, and we want a program that tells us how much tuna gets eaten, depending on the number of cats the user has. Here’s an example of a program we could write:</p>
<p class="programs">cansOfTunaPerCat = 4<br/>cats = <span class="rose">input</span>(<span class="green">"How many cats do you have? "</span>)<br/>cats = <span class="rose">int</span>(cats)<br/>dailyTunaEaten = cats * cansOfTunaPerCat</p>
<p class="indent">You can do the same thing in a single line by putting one function inside the other:</p>
<p class="programs">cats = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"How many cats do you have? "</span>))<br/>dailyTunaEaten = cats * cansOfTunaPerCat</p>
<p class="indent">Now that you know how to convert input into an integer, you can use it to input block types into Minecraft programs.</p>
<h4 class="h4a" id="ch04lev2sec06"><strong>Mission #14: Create a Block with Input</strong></h4>
<p class="noindent">There are tons of block types in Minecraft. Although you can choose lots of blocks in creative mode, many others cannot be used. However, the Python API for Minecraft gives you access to all of the block types and lets you set them using the <span class="literal">setBlocks()</span> function.</p>
<p class="indent">You’ve used the <span class="literal">setBlocks()</span> function before, but you had to hardcode the block type into your program. This means you couldn’t change it while your program was running. Now you can use the <span class="literal">input()</span> function. By writing a program that accepts input, every time you run the program you can choose the type of block you want to create. You could create a wool block the first time you run the program, then create iron ore the second time.</p>
<p class="indent">In this mission, you’ll write a program that lets your user decide which kind of block they want to set. Copy <a href="ch04.xhtml#ch4ex3">Listing 4-3</a> into a new file and save it as <em>blockInput.py</em> in your <em>strings</em> folder.</p>
<p class="sidenote"><span class="blue"><em>blockInput.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><span class="ent">➊</span> blockType = <span class="red"># Add input() function here</span><br/>   pos = mc.player.getTilePos()<br/>   x = pos.x<br/>   y = pos.y<br/>   z = pos.z<br/>   mc.setBlock(x, y, z, blockType)</p>
<p class="examplet"><span epub:type="pagebreak" id="page_79"></span><a id="ch4ex3"></a><em>Listing 4-3: Code to set a block at the player’s position</em></p>
<p class="indent">This program sets a block at the player’s current position. Change it so the <span class="literal">blockType</span> variable is set using the <span class="literal">input()</span> function <span class="ent">➊</span>. I suggest including a question or other text prompt so the user knows to type a block number, not some other kind of input. If you don’t include a prompt, IDLE will just wait on a blank line until the user enters something, and you want to make it clear that the program needs a number from the user.</p>
<p class="indent">Recall that <span class="literal">input()</span> returns your input as a string, and in order for it to input the value as an integer, you need to use the <span class="literal">int()</span> function. The expression to collect input for the block type should look like this:</p>
<p class="programs">blockType = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter a block type: "</span>))</p>
<p class="indent">Save your modified program, run it, and enter any block number you like. <a href="ch04.xhtml#ch4fig4">Figure 4-4</a> shows the result of the program.</p>
<div class="image"><img alt="image" src="../images/f04-04.jpg"/></div>
<p class="figcap"><a id="ch4fig4"></a><em>Figure 4-4: I can now create whichever block I want!</em></p>
<div class="sidebar">
<p class="sidebart" id="ch04sb04"><strong>BONUS OBJECTIVE: MORE INTERACTIVE GAMES</strong></p>
<p class="noindent">You can use as many inputs in the program as you want. At the moment, the program creates the block at the player’s current position. Work out how you’d set the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables using input. If you’re feeling really adventurous, try teleporting the player to specific coordinates using input.</p>
</div>
<h3 class="h3" id="ch04lev1sec06"><span epub:type="pagebreak" id="page_80"></span><strong><span class="blue1">Bounce Back from Errors</span></strong></h3>
<p class="noindent">Python uses <em>exception handling</em> to make sure your program can recover from errors and continue running when they occur. For example, exception handling is one way to manage incorrect user input.</p>
<p class="indent">Say your program requested an integer, but the user entered a string. Normally, the program would display an error message, which is also called <em>throwing an exception</em>, and then stop running.</p>
<p class="indent">With exception handling, you can manage that error yourself: you can keep the program running smoothly, display a useful error message to the user—such as <span class="literal">"Please enter a number instead"</span>—and give them a chance to fix their problem without restarting the program.</p>
<p class="indent">A <span class="literal">try-except</span> statement is one tool you can use to handle errors. It is particularly good for providing useful feedback to the user when they enter incorrect input, and it can prevent your program from stopping when an error occurs.</p>
<p class="indent">The statement is made up of two parts: the <span class="literal">try</span> and the <span class="literal">except</span>. The first part, <span class="literal">try</span>, is the code you want to run if no errors occur. This code might take input or print a string. The <span class="literal">except</span> part of the statement will run only if an error occurs in the <span class="literal">try</span> part.</p>
<p class="indent">Imagine a bit of code that asks you how many pairs of sunglasses you own (I own three pairs):</p>
<p class="programs">   <span class="orange">try</span>:<br/><span class="ent">➊</span>    noOfSunglasses = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"How many sunglasses do you own? "</span>))<br/>   <span class="orange">except</span>:<br/><span class="ent">➋</span>    <span class="rose">print</span>(<span class="green">"Invalid input: please enter a number"</span>)</p>
<p class="indent">This program requires a number. If you enter letters or symbols, it will print <span class="literal">"Invalid input: please enter a number"</span>. The error occurs because the <span class="literal">int()</span> function can only convert strings that contain only integers <span class="ent">➊</span>. If you enter a number, the code will work, but if you enter something that isn’t a number, like <span class="literal">many sunglasses</span>, this input will cause an error in the <span class="literal">int()</span> function.</p>
<p class="indent">By the way, did you notice anything different about this bit of code? It is our first time using a statement that calls for <em>indentation</em>, which is when you type several spaces <em>before</em> typing any text. I’ll discuss indentation more when I cover <span class="literal">if</span> statements in <a href="ch06.xhtml#ch06">Chapter 6</a> and <span class="literal">for</span> loops in <a href="ch07.xhtml#ch07">Chapters 7</a> and <a href="ch09.xhtml#ch09">9</a>. For now, just make sure you type your code exactly as it appears in this book.</p>
<p class="indent">Usually when an error occurs, Python shows a message that is difficult to understand and doesn’t clearly tell the user how to fix the problem. But with <span class="literal">try-except</span>, you can stop Python’s error messages from being displayed to the user when they enter the wrong type of data; instead, you can give the user simple, helpful instructions on what to do. Sometimes the user will just press <small>ENTER</small> instead of entering input. Normally, this creates an error, but with the code inside the <span class="literal">try-except</span> statement <span class="ent">➊</span>, the string <span class="literal">"Invalid input: please enter a number"</span> will be printed instead <span class="ent">➋</span>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_81"></span>You can put almost any code inside a <span class="literal">try-except</span> statement, even other <span class="literal">try-except</span> statements. Try it out in the next mission!</p>
<h4 class="h4a" id="ch04lev2sec07"><strong>Mission #15: Only Numbers Allowed</strong></h4>
<p class="noindent">Remember the program you wrote in Mission #14? When you entered an integer value, the program worked exactly as it was supposed to and created a block. But if you entered a string, the program would stop working and show an error, as shown in <a href="ch04.xhtml#ch4fig5">Figure 4-5</a>.</p>
<div class="image"><img alt="image" src="../images/f04-05.jpg"/></div>
<p class="figcap"><em><a id="ch4fig5"></a>Figure 4-5:</em> <span class="literal"><span class="codeitalic">cake</span></span> <em>is not a number, so the program did not create a block.</em></p>
<p class="indent">This error message makes sense when you’re used to Python. But what if someone who had never used Python before tried to enter a string instead of an integer? They’d get an error message they wouldn’t understand. Your mission is to use error handling to write a message that’s easy to understand.</p>
<p class="indent">Open the program <em>blockInput.py</em> that you created in Mission #14. Save the program as <em>blockInputFix.py</em> in the <em>strings</em> folder.</p>
<p class="indent">You’ll change the program so it uses a <span class="literal">try-except</span> statement when it asks for a block number. Find the last line of code in the program. It should look like this:</p>
<p class="programs">mc.setBlock(x, y, z, blockType)</p>
<p class="indent">Add a <span class="literal">try</span> statement on the line above this one and add four spaces at the start of the line before the <span class="literal">mc.setBlock()</span> function. Next, on the line above <span class="literal">setBlock()</span>, add this code to get an input from the user: <span class="literal">blockType = int(input("Enter a block type: "))</span>.</p>
<p class="indent">Then, on the line just after the <span class="literal">setBlock()</span> function, write an <span class="literal">except</span> statement. Inside the <span class="literal">except</span> statement add a line of code that posts a message to the Minecraft chat to say that the block type must be a number; <span epub:type="pagebreak" id="page_82"></span>for example, <span class="literal">"You didn't enter a number! Enter a number next time."</span>. Here’s what the changed code should look like (notice the four spaces, or indentation, at the start of lines <span class="ent">➊</span> and <span class="ent">➋</span>):</p>
<p class="programs">   <span class="orange">try</span>:<br/><span class="ent">➊</span>    blockType = <span class="rose">int</span>(<span class="rose">input</span>(<span class="green">"Enter a block type: "</span>))<br/>      mc.setBlock(x, y, z, blockType)<br/>   <span class="orange">except</span>:<br/><span class="ent">➋</span>    mc.postToChat("Yo<span class="green">u did not enter a number! Enter a number next time.")</span></p>
<p class="indent">The <span class="literal">int()</span> function expects to convert the input entered by the user into an integer <span class="ent">➊</span>. Because we’ve added the <span class="literal">try-except</span> statement to the program, if the user enters input that contains something that isn’t a number (such as letters or symbols), an error will occur. Instead of displaying the normal Python error message, the program will output a string to the chat asking the user to enter only a number <span class="ent">➋</span>. You might want to change the chat message so it’s a bit more polite!</p>
<p class="indent">When you’re finished entering a friendlier error message, save the <em>blockInputFix.py</em> file, and run it to admire your handiwork. The result should look something like <a href="ch04.xhtml#ch4fig6">Figure 4-6</a>.</p>
<div class="image"><img alt="image" src="../images/f04-06.jpg"/></div>
<p class="figcap"><a id="ch4fig6"></a><em>Figure 4-6: The error message shown in the chat is much easier to understand.</em></p>
<h4 class="h4a" id="ch04lev2sec08"><strong>Mission #16: Sprint Record</strong></h4>
<p class="noindent">This chapter’s final mission combines everything you’ve learned about variables (<a href="ch02.xhtml#ch02">Chapter 2</a>) and math operators (<a href="ch03.xhtml#ch03">Chapter 3</a>) with posting messages to the chat. Your task is to create a record keeper: the program will work out how far the player travels in 10 seconds and display the results in the chat.</p>
<p class="indent"><span epub:type="pagebreak" id="page_83"></span>Remember that you can use the following code to make your programs wait, or sleep, a certain number of seconds:</p>
<p class="programs"><span class="orange">import</span> time     <span class="red"># Place this somewhere near the top of your program</span><br/>time.sleep(30)  <span class="red"># Makes the program wait 30 seconds</span></p>
<p class="indent">Use this <span class="literal">sleep()</span> example and type in the following code to get started with this new program:</p>
<p class="sidenote"><span class="blue"><em>sprint.py</em></span></p>
<p class="programs">   <span class="orange">import</span> time<br/>   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/><span class="ent">➊</span> pos1 = mc.player.getTilePos()<br/>   x1 = pos1.x<br/>   y1 = pos1.y<br/>   z1 = pos1.z<br/><br/>   time.sleep(10)<br/><br/><span class="ent">➋</span> pos2 = mc.player.getTilePos()<br/>   x2 = pos2.x<br/>   y2 = pos2.y<br/>   z2 = pos2.z<br/><br/>   <span class="red"># Compare the difference between the starting position and ending position</span><br/><span class="ent">➌</span> xDistance = x2 – x1<br/>   yDistance =<br/>   zDistance =<br/><br/>   <span class="red"># Post the results to the chat</span><br/><span class="ent">➍</span> mc.postToChat(<span class="green">""</span>)</p>
<p class="indent">Let’s break down this code. The program gets the player’s starting position <span class="ent">➊</span>, waits 10 seconds, and then gets the player’s finishing position at <span class="ent">➋</span>. To finish the program, you need to work out the difference between the starting and finishing positions. To do this, set the values of the <span class="literal">yDistance</span> and <span class="literal">zDistance</span> variables, which start at <span class="ent">➌</span>. To help you out, I’ve included the value of the <span class="literal">xDistance</span> variable, which should be <span class="literal">x2 – x1</span>. The values of the <span class="literal">yDistance</span> and <span class="literal">zDistance</span> variables should be similar to this, but use different variables instead of <span class="literal">x1</span> and <span class="literal">x2</span>.</p>
<p class="indent">On the last line, output the results to the Minecraft chat <span class="ent">➍</span>. The results should be in the following format: <span class="literal">"The player has moved x: 10, y: 6, and z: -3"</span>. Use strings, concatenation, and the values of <span class="literal">xDistance</span>, <span class="literal">yDistance</span>, and <span class="literal">zDistance</span> variables to do this.</p>
<p class="indent">Save this program in the <em>strings</em> folder as <em>sprint.py</em> and run it. <a href="ch04.xhtml#ch4fig7">Figure 4-7</a> shows the result of the program.</p>
<div class="image"><span epub:type="pagebreak" id="page_84"></span><img alt="image" src="../images/f04-07.jpg"/></div>
<p class="figcap"><a id="ch4fig7"></a><em>Figure 4-7: The distance I traveled is displayed when the program finishes.</em></p>
<p class="indent">If you have the program running but you’re finding it difficult to switch between the command line and Minecraft fast enough, try adding a three-second countdown before step 2. Post this countdown to the chat.</p>
<div class="sidebar">
<p class="sidebart" id="ch04sb05"><strong>BONUS OBJECTIVE: AS THE CROW FLIES</strong></p>
<p class="noindent">At this point, the program displays the distance traveled along each axis separately: the x direction, the y direction, and the z direction. How would you create and display the distance traveled as a single integer, that is, as the crow flies? Hint: You’ll need to use trigonometry, specifically the Pythagorean theorem. If you’re not sure how to do this now, don’t worry; you’ll see a similar program with code to calculate the distance traveled as a single integer in Mission #40 (<a href="ch07.xhtml#page_145">page 145</a>).</p>
</div>
<h3 class="h3" id="ch04lev1sec07"><strong><span class="blue1">What You Learned</span></strong></h3>
<p class="noindent">Congratulations! You’ve learned a lot in this chapter. You created strings, displayed strings using print statements, and joined them using concatenation. You wrote programs that accept user input, changed the data types of values, and handled exceptions. Along the way, you applied your Python knowledge to make your Minecraft chat more lively.</p>
<p class="indent">In <a href="ch05.xhtml#ch05">Chapter 5</a>, you’ll learn how to control the flow of the program and tell your programs how to make decisions.</p>
</body>
</html>