<html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:ns="http://www.w3.org/2001/10/synthesis">
<head>
<title>Learn to Program with Minecraft</title>
<link href="../styles/9781593276706.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:40af8c70-d268-482b-9282-0b537fc6ae71" name="Adept.expected.resource"/>
</head>
<body>
<h2 class="h2" id="ch09"><span epub:type="pagebreak" id="page_171"></span><strong><span class="blue1"><span class="big">9</span></span></strong><br/><strong>HITTING THINGS WITH LISTS AND DICTIONARIES</strong></h2>
<div class="image1"><img alt="image" src="../images/common01.jpg"/></div>
<p class="noindent">We use lists, such as shopping lists or lists of instructions, to remember a group of items or to work through steps in a certain order. Lists in Python are very similar: they’re used to store a collection of data within a sequence. A <em>list</em> can store several types of data, including strings, numbers, Booleans, and even other lists.</p>
<p class="indent">Normally, variables can hold only one value. Lists are useful because they allow you to store several values in a single variable, such as the numbers from 1 to 100 or your friends’ first names. In other programming languages, lists are sometimes called <em>arrays</em>.</p>
<p class="indent">You can use lists of block IDs, coordinates, or a variety of other things to gain lots of power over your Minecraft world. Because lists can store several kinds of values in a single variable, they give you flexibility that a regular variable can’t offer.</p>
<p class="indent"><span epub:type="pagebreak" id="page_172"></span>In this chapter, you’ll learn how to use lists with the Minecraft Python API to create a mini-game for recording height, make a progress bar, and write a program that randomly slides the player around the game.</p>
<h3 class="h3" id="ch09lev1sec01"><strong><span class="blue1">Using Lists</span></strong></h3>
<p class="noindent">Making a list with Python is straightforward. To define a list, use square brackets around any number of values—or no values at all, which is called an <em>empty</em> list. Each item in a list needs to be separated by a comma.</p>
<p class="indent">For example, a list of ingredients for noodle soup might look like this:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>]</p>
<p class="indent">The <span class="literal">noodleSoup</span> list contains several items and all of them are strings. You can create an empty list like this:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> emptyList = []</p>
<p class="indent">Use an empty list when you want to add values later in your program. You can store any data type in your list and even mix different data types. For example, you could have a list that contains integers and strings:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> wackyList = [<span class="green">"cardigan"</span>, 33, <span class="green">"goofballs"</span>]</p>
<p class="indent">Sometimes your lists will be very long, making them difficult for humans to read. But you can format long lists across several lines in Python so programmers can read them easily. Using several lines for items has no effect on how the Python code runs. For example, the following format for soup ingredients works the same as the earlier <span class="literal">noodleSoup</span> list:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>,<br/>        <span class="green">"soy sauce"</span>,<br/>        <span class="green">"spring onions"</span><br/>        <span class="green">"noodles",</span><br/>        <span class="green">"beef"</span>]</p>
<p class="indent">Next, we’ll look at how you can access and change items in a list.</p>
<h4 class="h4" id="ch09lev2sec01"><strong><span class="blue1">Accessing a List Item</span></strong></h4>
<p class="noindent">To access a value in a list, reference the item’s position in the list, which is known as its <em>index</em>. Using the noodle soup example, you can access the first item in the list like this:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(noodleSoup[0])<br/><span class="blue1">water</span></p>
<p class="indent"><span epub:type="pagebreak" id="page_173"></span>It’s important to note that the first index in a list is 0. The second item is index 1, the third is index 2, and so on. The reason for this is that computers count from zero when using lists.</p>
<p class="indent">Counting from zero might seem silly, but there’s a good reason for it. Early computers were very slow and had a very little memory. It was faster and more efficient to start counting indexes from zero. Even though computers are much faster these days, they still count from zero.</p>
<p class="indent">It’s also important to note that if you try to access a list index that is greater than the number of items in the list, you’ll get an error message. The following line tries to print the item in index position 5:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(noodleSoup[5])</p>
<p class="indent">Here’s part of the error message:</p>
<p class="programs"><span class="red">IndexError: list index out of range</span></p>
<p class="indent">The <span class="literal">IndexError</span> tells me that there is no data in the index I want to access. Index position 5 in the list has no data because it’s outside the length of the list. Python can’t return a value that doesn’t exist!</p>
<h4 class="h4" id="ch09lev2sec02"><strong><span class="blue1">Changing a List Item</span></strong></h4>
<p class="noindent">Just like you can change the value of variables, you can change individual items in lists as well. This is because lists are <em>mutable</em>, which means they can be changed. To change an item in a list, you use the item’s index position and set its value the same way you would set the value of a variable (by using an equal sign).</p>
<p class="indent">Let’s change the beef item in the noodle soup to chicken. Beef is the fifth item in the list, so it has an index of 4 (remember, you count from zero in lists). We can easily change item 4 to chicken, like so:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup[4] = <span class="green">"chicken"</span></p>
<p class="indent">Now let’s do something cool with lists in Minecraft.</p>
<h4 class="h4a" id="ch09lev2sec03"><strong>Mission #47: High and Low</strong></h4>
<p class="noindent">When I’m exploring the Minecraft world, it’s interesting to look back over my journey. From the highest mountains to the lowest caves, exploration is one of my favorite activities in the game. Sometimes when I’m playing with friends, we race each other to see who can get to the highest or lowest point in the game the fastest. So no one cheats, I wrote a program that stores the lowest and highest y-coordinates the player reaches within 60 seconds.</p>
<p class="indent">When I run the program, it tells me the highest and lowest places in the game that I traveled to during one minute. <a href="ch09.xhtml#ch9ex1">Listing 9-1</a> contains the code I’ve started for you. Copy it into a new file and save it as <em>highAndLow.py</em> in a new folder called <em>lists</em>.</p>
<p class="sidenote"><span epub:type="pagebreak" id="page_174"></span><span class="blue"><em>highAndLow.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">import</span> time<br/><br/><span class="ent">➊</span> heights = [100, 0]<br/>   count = 0<br/><br/>   <span class="orange">while</span> count &lt; 60:<br/>       pos = mc.player.getTilePos()<br/><br/>       <span class="orange">if</span> pos.y &lt; heights[0]:<br/><span class="ent">➋</span>     <span class="red"># Set the lowest height to the y variable</span><br/>           <span class="orange">elif</span> pos.y &gt; heights[1]:<br/><span class="ent">➌</span>     <span class="red"># Set the highest height to the y variable</span><br/><br/>       count += 1<br/>       time.sleep(1)<br/><br/><span class="ent">➍</span> mc.postToChat(<span class="green">"Lowest: "</span>)   <span class="red"># Output lowest height</span><br/><span class="ent">➎</span> mc.postToChat(<span class="green">"Highest: "</span>)  <span class="red"># Output highest height</span></p>
<p class="examplet"><a id="ch9ex1"></a><em>Listing 9-1: The start of the code to get the lowest and highest positions the player visits</em></p>
<p class="indent">The program will store the lowest and highest y-coordinates you’ve traveled to in a list called <span class="literal">heights</span> <span class="ent">➊</span>. The first item in the list (index position 0) stores the lowest coordinate and the second (index position 1) stores the highest. We need to start with a high “lowest” value and a low “highest” value so that the first time we run the program, the player’s position will be the new lowest or highest value and will be displayed in the chat. Here I’ve used a default lowest value of 100 and a default highest value of 0.</p>
<p class="indent">The <span class="literal">while</span> loop runs once per second for 60 seconds to constantly update the values in <span class="literal">heights</span>. The <span class="literal">if</span> statement checks whether the player’s current height is lower than the lowest value stored in the list <span class="ent">➋</span>. Then the <span class="literal">elif</span> statement checks whether the current height is greater than the highest position stored in the list <span class="ent">➌</span>.</p>
<p class="indent">To complete the code, you need to set the value of the lowest height, <span class="literal">height[0]</span>, to the value of <span class="literal">pos.y</span> at <span class="ent">➋</span>. Remember that you set the values in lists like you would a variable, so the line of code should look like this: <span class="literal">height[0] = pos.y</span>. You also need to set the highest height, <span class="literal">height[1]</span>, to the value of <span class="literal">pos.y</span> <span class="ent">➌</span>.</p>
<p class="indent">Finally, you need to output the value of the lowest <span class="ent">➍</span> and highest <span class="ent">➎</span> heights in the last two lines of the program. To do this, you’ll need to access the index positions for the lowest and highest heights from the <span class="literal">heights</span> list (again, index 0 is the lowest height and index 1 is the highest height).</p>
<p class="indent">Run the program and start running around the game. See how high and how low you can get. After 60 seconds, the loop will stop, and the program will display your highest and lowest heights. Run the program several times and see if you can beat your record!</p>
<p class="indent"><a href="ch09.xhtml#ch9fig1">Figure 9-1</a> shows one of my attempts.</p>
<div class="image"><span epub:type="pagebreak" id="page_175"></span><img alt="image" src="../images/f09-01.jpg"/></div>
<p class="figcap"><a id="ch9fig1"></a><em>Figure 9-1: The lowest y-coordinate I visited was 15 and the highest was 102.</em></p>
<div class="sidebar">
<p class="sidebart" id="ch09sb01"><strong>BONUS OBJECTIVE: AN UNEXPECTED BUG</strong></p>
<p class="noindent">In <em>highAndLow.py</em>, the default values for the lowest and highest positions are set to 100 and 0. This isn’t a problem as long as you go lower than 100 and higher than 0. However, if you don’t go lower than 100 and higher than 0, the value won’t change, which can make the program inaccurate. Can you work out how to fix this?</p>
</div>
<h3 class="h3" id="ch09lev1sec02"><strong><span class="blue1">Manipulating Lists</span></strong></h3>
<p class="noindent">Lists have a set of built-in functions that let you manipulate them. These functions include common operations like adding an item to a list, inserting an item, or deleting an item.</p>
<h4 class="h4" id="ch09lev2sec04"><strong><span class="blue1">Adding an Item</span></strong></h4>
<p class="noindent">You can add an item to the end of a list using the <span class="literal">append()</span> function: just include the value of the item you want to append as an argument.</p>
<p class="indent">The noodle soup would be better if we added some vegetables. To do this, use the <span class="literal">append()</span> function:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup.append(<span class="green">"vegetables"</span>)</p>
<p class="indent">Now the <span class="literal">noodleSoup</span> list contains a <span class="literal">"vegetables"</span> string as the last item in the list.</p>
<p class="indent"><span epub:type="pagebreak" id="page_176"></span>Appending items is very useful when you start with an empty list. By using the <span class="literal">append()</span> function, you can add the first item to an empty list:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> food = []<br/><span class="mer">&gt;&gt;&gt;</span> food.append(<span class="green">"cake"</span>)</p>
<h4 class="h4" id="ch09lev2sec05"><strong><span class="blue1">Inserting an Item</span></strong></h4>
<p class="noindent">It’s also possible to insert an item into the middle of a list. The <span class="literal">insert()</span> function places an item between two existing items and changes the index positions for all the items after the newly inserted item.</p>
<p class="indent">This function takes two arguments, the index position where you want to insert the item and the value that you want to insert.</p>
<p class="indent">For example, here’s our current <span class="literal">noodleSoup</span> list:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>,<br/><span class="green">"vegetables"</span>]</p>
<p class="indent">Let’s add <span class="literal">"pepper"</span> to the list in the third index position:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup.insert(3, <span class="green">"pepper"</span>)</p>
<p class="indent">The updated list holds the following values after the insert:</p>
<p class="programs">[<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>, <span class="green">"vegetables"</span>]</p>
<p class="indent">If you try to insert an item at an index position that is greater than the length of the list, the item will be added after the last item. For example, if your list has seven items, but you try to insert at item position 10, the item will just be added to the end of the list.</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup.insert(10, <span class="green">"salt"</span>)</p>
<p class="indent">After running this code, the last item in the list will be <span class="literal">"salt"</span>:</p>
<p class="programs">[<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>,<br/><span class="green">"vegetables"</span>, <span class="green">"salt"</span>]</p>
<p class="indent">Notice that salt isn’t in index position 10; instead it is in index position 7.</p>
<h4 class="h4" id="ch09lev2sec06"><strong><span class="blue1">Deleting an Item</span></strong></h4>
<p class="noindent">Sometimes you’ll want to get rid of an item in a list. You use the <span class="literal">del</span> keyword for this. The keyword goes before the name of the list, with the index position of the item you want to delete in the square brackets.</p>
<p class="indent">For example, to delete the <span class="literal">"beef"</span> item, which is now in index position 5 in the <span class="literal">noodleSoup</span> list, do this:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="orange">del</span> noodleSoup[5]</p>
<p class="indent"><span epub:type="pagebreak" id="page_177"></span>You can also use the <span class="literal">del</span> keyword in combination with the <span class="literal">index()</span> function if you want to find the index position of a value and then delete it:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> beefPosition = noodleSoup.index(<span class="green">"beef"</span>)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">del</span> noodleSoup[beefPosition]</p>
<p class="indent">After deleting an item, the index positions in a list will change. This is what the list will look like after we delete <span class="literal">"beef"</span> at index position 5:</p>
<p class="programs">[<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"pepper"</span>, <span class="green">"noodles"</span>, <span class="green">"vegetables"</span>, <span class="green">"salt"</span>]</p>
<p class="indent">The <span class="literal">"vegetables"</span> index position changes from 6 to 5, and the <span class="literal">"salt"</span> index position changes from 7 to 6. Note that only indexes after the deleted item will be affected; any indexes before the deleted item will be unchanged. Keep this in mind when deleting items from your lists.</p>
<h4 class="h4a" id="ch09lev2sec07"><strong>Mission #48: Progress Bar</strong></h4>
<p class="noindent">Let’s use some of the list functions to create a progress bar in Minecraft. It will look like the one you see onscreen when you’re downloading a file from the Internet or when you’re keeping track of your next level up in a role-playing game.</p>
<p class="indent">The program will use the progress bar to count to 10 seconds. When the program starts, the progress bar will be made of glass blocks. For every second that passes, the progress bar will replace a glass block with a lapis lazuli block. <a href="ch09.xhtml#ch9fig2">Figure 9-2</a> shows the first five steps in the progress bar.</p>
<div class="image"><img alt="image" src="../images/f09-02.jpg"/></div>
<p class="figcap"><a id="ch9fig2"></a><em>Figure 9-2: The progress bar shows the progress at 50 percent (5 out of 10 blocks are lapis lazuli).</em></p>
<p class="indent">Open IDLE and create a new file. Save it as <em>progressBar.py</em> in the <em>lists</em> folder. An incomplete version of the program is in <a href="ch09.xhtml#ch9ex2">Listing 9-2</a>. Copy it into your text editor.</p>
<p class="sidenote"><span epub:type="pagebreak" id="page_178"></span><span class="blue"><em>progressBar.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">import</span> time<br/><br/>   pos = mc.player.getTilePos()<br/>   x = pos.x + 1<br/>   y = pos.y<br/>   z = pos.z<br/><br/>   <span class="red"># Add 10 glass blocks (ID 20) to this empty list</span><br/><span class="ent">➊</span> blocks = [ ]<br/>   barBlock = 22 <span class="red"># Lapis lazuli</span><br/><br/>   count = 0<br/>   <span class="orange">while</span> count &lt;= <span class="rose">len</span>(blocks):<br/><br/>       mc.setBlock(x, y, z, blocks[0])<br/>       mc.setBlock(x, y + 1, z, blocks[1])<br/>       mc.setBlock(x, y + 2, z, blocks[2])<br/><span class="ent">➋</span>     <span class="red"># Add setBlock() for the remaining blocks in the list</span><br/><br/>       count += 1<br/><br/><span class="ent">➌</span>     <span class="red"># Delete the last block in the list</span><br/><br/><span class="ent">➍</span>     <span class="red"># Insert a lapis lazuli block at the first position in the list</span><br/><br/>       time.sleep(2)</p>
<p class="examplet"><a id="ch9ex2"></a><em>Listing 9-2: Incomplete code to make a progress bar</em></p>
<p class="indent">To complete the program in <a href="ch09.xhtml#ch9ex2">Listing 9-2</a>, you’ll need to do the following:</p>
<ol>
<li class="noindent"><p class="list">Add 10 glass blocks (ID 20) to the empty <span class="literal">blocks</span> list at <span class="ent">➊</span>.</p></li>
<li class="noindent"><p class="list">Use the <span class="literal">setBlock()</span> function to set all 10 blocks <span class="ent">➋</span> from the list in the game world. The first three blocks have been set for you.</p></li>
<li class="noindent"><p class="list">Write a statement that deletes the last block in the list (index position 9) <span class="ent">➌</span>. Remember that you use the <span class="literal">del</span> keyword to delete an item from a list.</p></li>
<li class="noindent"><p class="list">Insert a new lapis lazuli block at the start of the list <span class="ent">➍</span>. Use the <span class="literal">insert()</span> function with the <span class="literal">barBlock</span> variable to insert a new lapis lazuli block in index position 0.</p></li>
</ol>
<p class="indent">Comments are included in the code to help you find where you need to do these tasks.</p>
<div class="sidebar">
<p class="sidebart" id="ch09sb02"><span epub:type="pagebreak" id="page_179"></span><strong>BONUS OBJECTIVE: UP AND DOWN AGAIN</strong></p>
<p class="noindent">At the moment, the progress bar in <em>progressBar.py</em> only counts upward and stops when it’s full. Can you work out how to make the progress bar count down in the opposite direction?</p>
</div>
<h3 class="h3" id="ch09lev1sec03"><strong><span class="blue1">Treating Strings Like Lists</span></strong></h3>
<p class="noindent">Strings can be treated like lists, because a string is also a <em>sequence</em> of data. You can access individual characters in a string using their index; however, you cannot change the characters in each index position using the <span class="literal">append</span> or <span class="literal">insert</span> functions because strings are <em>immutable</em>. That means that they cannot be changed.</p>
<p class="indent">The following code will print the second letter in the string <span class="literal">"Grape"</span>:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> flavor = <span class="green">"Grape"</span><br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(flavor[1])<br/><span class="blue1">r</span></p>
<p class="indent">This shows that you can access parts of a string like you would items in a list. For example, you could access the first letters of someone’s first and last names to print their initials:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> firstName = <span class="green">"Lyra"</span><br/><span class="mer">&gt;&gt;&gt;</span> lastName = <span class="green">"Jones"</span><br/><span class="mer">&gt;&gt;&gt;</span> initials = firstName[0] + <span class="green">" "</span> + lastName[0]<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(initials)<br/><span class="blue1">L J</span></p>
<p class="indent">The new string <span class="literal">"L J"</span> that you get by accessing parts of a string using index positions is called a <em>substring</em>. Note that the index for a string also counts from zero!</p>
<h3 class="h3" id="ch09lev1sec04"><strong><span class="blue1">Tuples</span></strong></h3>
<p class="noindent"><em>Tuples</em> are a type of list that is immutable. But like other lists, they’re a sequence of items of any variable type. Tuples use parentheses instead of square brackets, and they use commas to separate items.</p>
<p class="indent">For example, say a nation’s only Olympic athlete, from an underfunded training program, records a number of distances for their long jumps in meters:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> distance = (5.17, 5.20, 4.56, 53.64, 9.58, 6.41, 2.20)</p>
<p class="indent"><span epub:type="pagebreak" id="page_180"></span>If the athlete jumped only once, you could also create a tuple with a single value. To write a tuple with a single value, you still have to include a comma:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> distance = (5.17,)</p>
<p class="indent">When you’re defining a tuple, the parentheses are optional, so you can just define a tuple by placing commas between values, like this:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> distance = 5.17, 5.20, 4.56, 53.64, 9.58, 6.41, 2.20</p>
<p class="indent">To access values of tuples, use the square bracket notation that you use with regular lists. Let’s assign the value in index 1 of the <span class="literal">distance</span> tuple to the variable <span class="literal">jump</span>:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> jump = distance[1]<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(jump)<br/><span class="blue1">5.20</span></p>
<p class="indent">The main difference between lists and tuples is that tuples are immutable: you can’t change their contents. You can’t append items to the end of the tuple, insert items, delete items, or update any values. You use tuples instead of lists when your program doesn’t need to change the values of the items in the tuple.</p>
<h4 class="h4" id="ch09lev2sec08"><strong><span class="blue1">Setting Variables with Tuples</span></strong></h4>
<p class="noindent">A useful feature of tuples is that you can use them to set more than one variable at the same time. This saves space and can keep related variables clustered together.</p>
<p class="indent">Normally, you would refer to a tuple like you would a list, by using a single variable name:</p>
<p class="programs">measurements = 6, 30</p>
<p class="indent">However, let’s say we want to store the values in two variables instead of one. The syntax to do so isn’t complex. You separate the variable names with commas, then use an equal sign, and then write the tuples on the other side of the equal sign. Each tuple value will be assigned to the variable in the corresponding position. Let’s take a look.</p>
<p class="indent">In this example, two variables, <span class="literal">width</span> and <span class="literal">height</span>, are set to the values <span class="literal">6</span> and <span class="literal">30</span>, respectively:</p>
<p class="programs">width, height = 6, 30</p>
<p class="indent">Now we have two variables. One is called <span class="literal">width</span> and has a value of <span class="literal">6</span>, and the other is called <span class="literal">height</span> and has a value of <span class="literal">30</span>. And we did it by using just a single line of code!</p>
<h4 class="h4a" id="ch09lev2sec09"><span epub:type="pagebreak" id="page_181"></span><strong>Mission #49: Sliding</strong></h4>
<p class="noindent">Setting variables with tuples is a quick and easy way to save space in your programs. It’s also useful for setting related variables together in one place in your program. For example, throughout the book you’ve used code like this for setting the values of the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables:</p>
<p class="programs">x = 10<br/>y = 11<br/>z = 12</p>
<p class="indent">Instead, you can use a tuple to set all of these values in one line:</p>
<p class="programs">x, y, z = 10, 11, 12</p>
<p class="indent">Next, you’ll put your new code-writing abilities to use! Your mission is to create a program that moves the player randomly around the game world in small steps, making it look like you’re skating on ice. I’ve started the program for you in <a href="ch09.xhtml#ch9ex3">Listing 9-3</a>; some bits are missing and you need to complete them.</p>
<p class="sidenote"><span class="blue"><em>sliding.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">import</span> random<br/>   <span class="orange">import</span> time<br/><br/><span class="ent">➊</span> <span class="red"># Get the player's position</span><br/><br/><span class="ent">➋</span> <span class="red"># Set the x, y, and z variables on the same line using a tuple</span><br/><br/>   <span class="orange">while True</span>:<br/><span class="ent">➌</span>     x += random.uniform(-0.2, 0.2)<br/>       <span class="red"># Change the z variable by a random float</span><br/><span class="ent">➍</span>     z +=<br/>       y = mc.getHeight(x, z)<br/><br/>       mc.player.setPos(x, y, z)<br/>       time.sleep(0.1)</p>
<p class="examplet"><a id="ch9ex3"></a><em>Listing 9-3: The start of the code to make the player slide around the map</em></p>
<p class="indent">Copy <a href="ch09.xhtml#ch9ex3">Listing 9-3</a> into a new file and save it as <em>sliding.py</em> in your <em>lists</em> folder. To finish the program, you need to get the player’s starting position <span class="ent">➊</span> and set the values of the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables <span class="ent">➋</span>. Use a tuple to set these values. This program also uses the <span class="literal">uniform()</span> function <span class="ent">➌</span>, which is like the <span class="literal">randint()</span> function (see “<a href="ch03.xhtml#ch03lev2sec12">Playing with Random Numbers</a>” on <a href="ch03.xhtml#page_66">page 66</a>) but returns a random float value instead of an integer value. Use the <span class="literal">uniform()</span> function to change the value of the <span class="literal">z</span> variable in the loop <span class="ent">➍</span>. This has already been done for the <span class="literal">x</span> variable <span class="ent">➌</span>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_182"></span><a href="ch09.xhtml#ch9fig3">Figure 9-3</a> shows my player sliding slowly around my game.</p>
<div class="image"><img alt="image" src="../images/f09-03.jpg"/></div>
<p class="figcap"><a id="ch9fig3"></a><em>Figure 9-3: Slowly sliding backwards around my garden</em></p>
<div class="sidebar">
<p class="sidebart" id="ch09sb03"><strong>BONUS OBJECTIVE: SLIDING BLOCKS</strong></p>
<p class="noindent">The <em>sliding.py</em> program makes the player slide randomly around the game. Can you work out how to change the program so it makes a block slide around?</p>
</div>
<h4 class="h4" id="ch09lev2sec10"><span epub:type="pagebreak" id="page_183"></span><strong><span class="blue1">Returning a Tuple</span></strong></h4>
<p class="noindent">Some of Python’s built-in functions return a tuple. When you define your own functions, they can return the result as a tuple as well. To do that, you put a tuple after the <span class="literal">return</span> keyword. For example, let’s create a function to convert a date into a tuple. We give the date as a string argument, and the function will return the year, the month, and the day in a tuple. Here’s the code:</p>
<p class="programs"><span class="orange">def</span> <span class="blue1">getDateTuple</span>(dateString):<br/>    year = <span class="rose">int</span>(dateString[0:4])<br/>    month = <span class="rose">int</span>(dateString[5:7])<br/>    day = <span class="rose">int</span>(dateString[8:10])<br/>    <span class="orange">return</span> year, month, day</p>
<p class="indent">When we call the function and give it a date as a string, it returns a tuple containing the year, month, and day in that order:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> getDateTuple(<span class="green">"1997-09-27"</span>)<br/><span class="blue1">(1997, 9, 27)</span></p>
<p class="indent">When we call the function, we can store the returned tuple however we want. This code stores each value in a separate variable:</p>
<p class="programs">year, month, day = getDateTuple(<span class="green">"1997-09-27"</span>)</p>
<p class="indent">Now we can quickly convert date strings to individual variables. In my work as a software developer, I use code that’s very similar to this all the time.</p>
<h3 class="h3" id="ch09lev1sec05"><strong><span class="blue1">Other Useful Features of Lists</span></strong></h3>
<p class="noindent">You can do many other tasks with lists. This section explains how to find the length of a list, how to randomly choose an item from a list, and how to use an <span class="literal">if</span> statement to check whether a value is in a list.</p>
<h4 class="h4" id="ch09lev2sec11"><strong><span class="blue1">List Length</span></strong></h4>
<p class="noindent">The <span class="literal">len()</span> function is a quick way to find the length of any list in Python. The function returns the number of items in a list when a list is used as an argument. Let’s see it in action:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> noodleSoup = [<span class="green">"water"</span>, <span class="green">"soy sauce"</span>, <span class="green">"spring onions"</span>, <span class="green">"noodles"</span>, <span class="green">"beef"</span>,<br/><span class="green">"vegetables"</span>]<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="rose">len</span>(noodleSoup))<br/><span class="blue1">6</span></p>
<p class="indent">Although Python starts counting indexes at zero, it counts how many items are in a list in regular counting numbers. The highest index in this list is 5, but Python knows there are 6 total items!</p>
<h4 class="h4a" id="ch09lev2sec12"><span epub:type="pagebreak" id="page_184"></span><strong>Mission #50: Block Hits</strong></h4>
<p class="noindent">The Minecraft Python API has a handy function that returns a list of locations you’ve hit with your sword. You can use the items in the list to get the coordinates of blocks you’ve hit. You’ll see how useful this is in programs later in this chapter and later in the book.</p>
<p class="indent">You can also make a short and fun game that counts the number of blocks you can hit in a minute. In this mission, you’ll do just that. It’s quite a fun game: play against a friend and try to beat each other’s scores! You can also expand it, for example, by keeping a high score.</p>
<p class="indent"><a href="ch09.xhtml#ch9fig4">Figure 9-4</a> shows the program in action.</p>
<div class="image"><img alt="image" src="../images/f09-04.jpg"/></div>
<p class="figcap"><a id="ch9fig4"></a><em>Figure 9-4: In 60 seconds I hit 197 blocks.</em></p>
<p class="indent">Not much code is required to make this game. Here’s a summary of the code structure:</p>
<ol>
<li class="noindent"><p class="list">Connect to the Minecraft game.</p></li>
<li class="noindent"><p class="list">Wait 60 seconds.</p></li>
<li class="noindent"><p class="list">Get the list of block hits.</p></li>
<li class="noindent"><p class="list">Display the length of the block hits list to chat.</p></li>
</ol>
<p class="indent">The following code shows the only part you haven’t seen so far, which is the code that gets the list of block hits from the game:</p>
<p class="programs">blockHits = mc.events.pollBlockHits()</p>
<p class="indent">This code uses the <span class="literal">pollBlockHits()</span> function to return a list of block hits and stores that list in a variable named <span class="literal">blockHits</span>. The <span class="literal">blockHits</span> variable will act like any other kind of list, so you can access data from index positions and get the length of the list.</p>
<p class="indent">When you play this game, you’ll have to right-click blocks to keep count of them. The reason is that the <span class="literal">pollBlockHits()</span> function records all the blocks you <em>right-click</em> with a sword. On the PC version of Minecraft, <span epub:type="pagebreak" id="page_185"></span>right-clicking with your sword looks more like you’re defending yourself than hitting something, but it still records which blocks you’ve clicked. <a href="ch09.xhtml#ch9fig5">Figure 9-5</a> shows what this looks like. Make sure you only right-click with your sword: left clicks with your sword won’t be recorded, and neither will right-clicking with something else in your hand! But you can use any type of sword, including iron, gold, and diamond.</p>
<div class="image"><img alt="image" src="../images/f09-05.jpg"/></div>
<p class="figcap"><a id="ch9fig5"></a><em>Figure 9-5: When I right-click, the player holds the sword like this.</em></p>
<p class="indent">When you print the output of the list, it should look similar to this, although the values will change each time depending on where you hit:</p>
<p class="programs">[BlockEvent(BlockEvent.HIT, 76, -2, 144, 1, 452),<br/>BlockEvent(BlockEvent.HIT, 79, -2, 145, 1, 452),<br/>BlockEvent(BlockEvent.HIT, 80, -3, 147, 1, 452),<br/>BlockEvent(BlockEvent.HIT, 76, -3, 149, 1, 452)]</p>
<p class="indent">This list output stores the details of four block hits. Each item contains the hit’s coordinates. You’ll learn how to access these coordinates in Mission #55 (<a href="ch10.xhtml#page_200">page 200</a>).</p>
<p class="indent"><span epub:type="pagebreak" id="page_186"></span>To help you get started with the program, I’ve written the basic structure in <a href="ch09.xhtml#ch9ex4">Listing 9-4</a>.</p>
<p class="sidenote"><span class="blue"><em>swordHits.py</em></span></p>
<p class="programs">   <span class="red"># Connect to the Minecraft game</span><br/>   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">import</span> time<br/><br/>   <span class="red"># Wait 60 seconds</span><br/>   time.sleep(60)<br/><br/>   <span class="red"># Get the list of block hits</span><br/><span class="ent">➊</span> blockHits =<br/><br/>   <span class="red"># Display the length of the block hits list to chat</span><br/><span class="ent">➋</span> blockHitsLength =<br/>   mc.postToChat(<span class="green">"Your score is "</span> + <span class="rose">str</span>(blockHitsLength))</p>
<p class="examplet"><a id="ch9ex4"></a><em>Listing 9-4: Beginnings of the sword hits game</em></p>
<p class="indent">To complete this program, open IDLE, create a new file, and copy <a href="ch09.xhtml#ch9ex4">Listing 9-4</a> into it. Save this file as <em>swordHits.py</em> in the <em>lists</em> folder. Set the <span class="literal">blockHits</span> variable using the <span class="literal">pollBlockHits()</span> function <span class="ent">➊</span> and set the <span class="literal">blockHitsLength</span> variable by getting the length of the <span class="literal">blockHits</span> variable <span class="ent">➋</span>.</p>
<h4 class="h4" id="ch09lev2sec13"><strong><span class="blue1">Randomly Choosing an Item</span></strong></h4>
<p class="noindent">By now you might have realized that I really like using randomly generated things in my programs. Randomness makes a program behave somewhat unpredictably every time you run it.</p>
<p class="indent">When you’re using lists, you’ll want to access random items from the list from time to time. For example, you might want to choose a block at random from a list of blocks.</p>
<p class="indent">The <span class="literal">choice()</span> function in the <span class="literal">random</span> module is the go-to function for choosing a list item at random. The function takes one argument, the list that you want to use, and returns a random item from within the list.</p>
<p class="indent">In <a href="ch09.xhtml#ch9ex5">Listing 9-5</a>, the <span class="literal">colors</span> list contains the names of several colors. It chooses one at random using the <span class="literal">choice()</span> function and then prints it:</p>
<p class="programs"><span class="orange">import</span> random<br/>colors = [<span class="green">"red"</span>, <span class="green">"green"</span>, <span class="green">"blue"</span>, <span class="green">"yellow"</span>, <span class="green">"orange"</span>, <span class="green">"purple"</span>]<br/><span class="rose">print</span>(random.choice(colors))</p>
<p class="examplet"><a id="ch9ex5"></a><em>Listing 9-5: Printing a random color from a list of colors</em></p>
<p class="indent">When you run the code, the program will output an item from the list at random.</p>
<h4 class="h4a" id="ch09lev2sec14"><span epub:type="pagebreak" id="page_187"></span><strong>Mission #51: Random Block</strong></h4>
<p class="noindent">In Minecraft, selecting a random block ID from a range of numbers can cause problems in the program because some block IDs don’t have corresponding blocks. One solution is to use a list of valid blocks to select from at random. Lists allow you to create a limited number of items and then select one at random using the <span class="literal">choice()</span> function.</p>
<p class="indent">Your mission is to create a list of block IDs, select a random block from that list, and then set the block to the player’s position. You can use <a href="ch09.xhtml#ch9ex5">Listing 9-5</a> as a starting point.</p>
<p class="indent">First, create a list of block IDs. Second, use the <span class="literal">random.choice()</span> function to select a block from the list. Third, use the <span class="literal">setBlock()</span> function to place the random block in the Minecraft game.</p>
<p class="indent">Save the program as <em>randomBlock.py</em> in the <em>lists</em> folder.</p>
<p class="indent">Include as many blocks as you want in your list. For my list I chose five blocks, including melon, diamond, and gold. You can see the result of running the program in <a href="ch09.xhtml#ch9fig6">Figure 9-6</a>.</p>
<div class="image"><img alt="image" src="../images/f09-06.jpg"/></div>
<p class="figcap"><a id="ch9fig6"></a><em>Figure 9-6: The program randomly selected a gold block.</em></p>
<h4 class="h4" id="ch09lev2sec15"><strong><span class="blue1">Copying a List</span></strong></h4>
<p class="noindent">Copying lists is quite tricky in most programming languages. List variables do not actually contain values; instead, they contain a reference to an address in your computer’s memory that has further references to the values contained in the list. Although your computer takes care of this capability behind the scenes, it’s worthwhile to understand how it works because it will make you a smarter programmer! You can view the memory address of a list using the <span class="literal">id()</span> function:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>,<br/>            <span class="green">"Butter"</span>,<br/>            <span class="green">"Sugar"</span>,<br/>            <span class="green">"Milk"</span>,<br/>            <span class="green">"Flour"</span>]<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="rose">id</span>(cake))</p>
<p class="indent"><span epub:type="pagebreak" id="page_188"></span>For example, the output of this code on my computer was <span class="literal">3067456428</span>. The value <span class="literal">3067456428</span> is the memory location where <span class="literal">cake</span> is stored. When you run this code on your computer, you’ll probably get a different number because it’s stored in a different place in your computer’s memory.</p>
<p class="indent">You don’t need to understand this behavior fully, but you do need to know that it has consequences when you want to copy a list into another variable. Instead of the values in the list being copied as you would expect, the memory location of the list is copied into the new variable. This means that when you change a value in either list, it will affect the other.</p>
<p class="indent">For example, the following program creates a list called <span class="literal">cake</span> and then sets the value of <span class="literal">chocolateCake</span> to be the same as <span class="literal">cake</span>. An item, <span class="literal">"Chocolate"</span>, is then added to the <span class="literal">chocolateCake</span> list:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>,<br/>            <span class="green">"Butter"</span>,<br/>            <span class="green">"Sugar"</span>,<br/>            <span class="green">"Milk"</span>,<br/>            <span class="green">"Flour"</span>]<br/><br/><span class="mer">&gt;&gt;&gt;</span> <span class="red"># Store the list in a second variable</span><br/><span class="mer">&gt;&gt;&gt;</span> chocolateCake = cake<br/><span class="mer">&gt;&gt;&gt;</span> chocolateCake.append(<span class="green">"Chocolate"</span>)</p>
<p class="indent">Unfortunately, <span class="literal">"Chocolate"</span> is also added to the <span class="literal">cake</span> list, even though you didn’t want it to be. You can see this mistake when the lists are printed:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(cake)<br/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour', 'Chocolate']</span><br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(chocolateCake)<br/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour', 'Chocolate']</span></p>
<p class="indent">This problem happens because the variables store the memory location of the list, not the items in the list.</p>
<p class="indent">A simple way to overcome this problem is to use a <em>list slice</em>. When you slice food with a knife, you are cutting it into different parts. A list slice in Python is similar. When you slice a list, you take a piece of the list. You can use a list slice to take only certain items in a list, but in this case, you’ll be using a list slice to copy every item in a list. To copy the <span class="literal">cake</span> list into the <span class="literal">chocolateCake</span> variable, use this code:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> chocolateCake = cake[:]</p>
<p class="indent">The <span class="literal">chocolateCake</span> variable will now contain the values of the <span class="literal">cake</span> list but with a different memory address.</p>
<p class="indent"><span epub:type="pagebreak" id="page_189"></span>The code for the cake ingredients can be corrected using the list slice:</p>
<p class="programs">   <span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>,<br/>               <span class="green">"Butter"</span>,<br/>               <span class="green">"Sugar"</span>,<br/>               <span class="green">"Milk"</span>,<br/>               <span class="green">"Flour"</span>]<br/><br/>   <span class="mer">&gt;&gt;&gt;</span> <span class="red"># Store the list in a second variable</span><br/><span class="ent">➊</span> <span class="mer">&gt;&gt;&gt;</span> chocolateCake = cake[:]<br/>   <span class="mer">&gt;&gt;&gt;</span> chocolateCake.append(<span class="green">"Chocolate"</span>)</p>
<p class="indent">You can see that the items in <span class="literal">cake</span> have been copied to <span class="literal">chocolateCake</span> using <span class="literal">[:]</span> at <span class="ent">➊</span>.</p>
<p class="indent">Here’s the output:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(cake)<br/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour']</span><br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(chocolateCake)<br/><span class="blue1">['Eggs', 'Butter', 'Sugar', 'Milk', 'Flour', 'Chocolate']</span></p>
<p class="indent">Notice that the values in both lists are now different—only <span class="literal">chocolateCake</span> contains the <span class="literal">"Chocolate"</span> value.</p>
<h4 class="h4" id="ch09lev2sec16"><strong><span class="blue1">Items and if Statements</span></strong></h4>
<p class="noindent">To find out whether a value is in a list, you can use the <span class="literal">in</span> operator. The <span class="literal">in</span> operator goes between a value and the list you want to check. If the value is in the list, the expression will evaluate to <span class="literal">True</span>; if the value is not in the list, the expression will evaluate to <span class="literal">False</span>.</p>
<p class="indent">The following example checks whether the value <span class="literal">"Eggs"</span> is in the <span class="literal">cake</span> list:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>, <span class="green">"Butter"</span>, <span class="green">"Sugar"</span>, <span class="green">"Milk"</span>, <span class="green">"Flour"</span>]<br/><span class="mer">&gt;&gt;&gt;</span> <span class="rose">print</span>(<span class="green">"Eggs"</span> <span class="orange">in</span> cake)</p>
<p class="indent">The value <span class="literal">True</span> will be printed, because <span class="literal">"Eggs"</span> is in the list.</p>
<p class="indent">You can of course use the <span class="literal">in</span> operator as part of an <span class="literal">if</span> statement condition. The following code extends and adapts this example to use an <span class="literal">if</span> statement instead of printing the Boolean value. It checks whether <span class="literal">"Ham"</span> is in the <span class="literal">cake</span> list and prints different messages depending on whether it is or isn’t in the list:</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>, <span class="green">"Butter"</span>, <span class="green">"Sugar"</span>, <span class="green">"Milk"</span>, <span class="green">"Flour"</span>]<br/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">if</span> <span class="green">"Ham"</span> <span class="orange">in</span> cake:<br/><span class="mer">&gt;&gt;&gt;</span>     <span class="rose">print</span>(<span class="green">"That cake sounds disgusting."</span>)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">else</span>:<br/><span class="mer">&gt;&gt;&gt;</span>     <span class="rose">print</span>(<span class="green">"Good. Ham in a cake is a terrible mistake."</span>)</p>
<p class="indent"><span epub:type="pagebreak" id="page_190"></span>You can combine the <span class="literal">not</span> operator with the <span class="literal">in</span> operator to produce the opposite effect. Instead of returning <span class="literal">True</span> when an item is in a list, the code will return <span class="literal">False</span> and vice versa. Here’s how that looks (note that the bodies of the <span class="literal">if</span> and <span class="literal">else</span> statements have also been swapped):</p>
<p class="programs"><span class="mer">&gt;&gt;&gt;</span> cake = [<span class="green">"Eggs"</span>, <span class="green">"Butter"</span>, <span class="green">"Sugar"</span>, <span class="green">"Milk"</span>, <span class="green">"Flour"</span>]<br/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">if</span> <span class="green">"Ham"</span> <span class="orange">not in</span> cake:<br/><span class="mer">&gt;&gt;&gt;</span>     <span class="rose">print</span>(<span class="green">"Good. Ham in a cake is a terrible mistake."</span>)<br/><span class="mer">&gt;&gt;&gt;</span> <span class="orange">else</span>:<br/><span class="mer">&gt;&gt;&gt;</span>     <span class="rose">print</span>(<span class="green">"That cake sounds disgusting"</span>)</p>
<p class="indent">You can use either technique in your programs. Just choose the one that you think makes the most sense!</p>
<h4 class="h4a" id="ch09lev2sec17"><strong>Mission #52: Night Vision Sword</strong></h4>
<p class="noindent">Do you forget to bring enough torches with you when you’re exploring caves in Minecraft? I do that all the time. Sometimes I forget to bring any torches, and I’m too far into the cave to go back. So I fumble around in the dark, not really sure if I’m finding anything useful. But with your Python knowledge, you can make a program to help you find diamonds with your sword.</p>
<p class="indent">Let’s write a basic program that uses the <span class="literal">pollBlockHits()</span> function to check whether any of the blocks you’ve hit are diamond ore. This is useful for exploring caves with no light or playing a game of “find the diamond ore” in the dark. The code is in <a href="ch09.xhtml#ch9ex6">Listing 9-6</a>. Copy it into a new file and save it as <em>nightVisionSword.py</em> in the <em>lists</em> folder.</p>
<p class="sidenote"><span class="blue"><em>nightVisionSword.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="orange">import</span> time<br/><br/>   blocks = []<br/><br/>   <span class="orange">while True</span>:<br/>       hits = mc.events.pollBlockHits()<br/>       <span class="orange">if</span> <span class="rose">len</span>(hits) &gt; 0:<br/>           hit = hits[0]<br/><span class="ent">➊</span>         hitX, hitY, hitZ = hit.pos.x, hit.pos.y, hit.pos.z<br/>           block = mc.getBlock(hitX, hitY, hitZ)<br/>           blocks.append(block)<br/><br/><span class="ent">➋</span>     <span class="red"># Add the if statement here</span><br/><br/>       time.sleep(0.2)</p>
<p class="examplet"><a id="ch9ex6"></a><em>Listing 9-6: This program will help you find diamond ore in the dark.</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_191"></span>Notice how <span class="literal">hit.pos.x</span>, <span class="literal">hit.pos.y</span>, and <span class="literal">hit.pos.z</span> are used <span class="ent">➊</span>. Each hit stores the coordinates of the block that was clicked using a tuple. You can access these coordinates using dot notation. In this example, the variable name <span class="literal">hit</span> is used to name the list that contains each block hit, so I access the coordinates using <span class="literal">hit.pos.x</span>, <span class="literal">hit.pos.y</span>, and <span class="literal">hit.pos.z</span>.</p>
<p class="indent">The code is nearly complete. The only remaining task is to check whether you’ve found some diamond. Add an <span class="literal">if</span> statement <span class="ent">➋</span> to check whether diamond ore (block ID 56) is in the <span class="literal">blocks</span> list and post a message to chat saying <span class="literal">"You found some diamond ore!"</span> if it is. Add a <span class="literal">break</span> statement inside the <span class="literal">if</span> statement as well so the loop stops repeating when you find the ore.</p>
<p class="indent"><a href="ch09.xhtml#ch9fig7">Figure 9-7</a> shows the program in action.</p>
<div class="image"><img alt="image" src="../images/f09-07.jpg"/></div>
<p class="figcap"><a id="ch9fig7"></a><em>Figure 9-7: It’s dark, but I found some diamond ore. Yay!</em></p>
<p class="indent">If you’re not as forgetful as I am and remember to bring torches with you into caves, you can still use this code—as a game. Make an underground room with no light and put a single diamond ore somewhere on the wall. Run the program and see how long it takes you to find the diamond ore in the dark. Remember to right-click with a sword! That’s the only way the <span class="literal">pollBlockHits()</span> function can record which blocks you’re hitting.</p>
<div class="sidebar">
<p class="sidebart" id="ch09sb04"><strong>BONUS OBJECTIVE: DIAMOND CHALLENGE</strong></p>
<p class="noindent">It would be cool to change the <em>nightVisionSword.py</em> program into a full mini-game. Can you automatically generate a room with a single diamond block placed at random, put the player in that room, and then time how long it takes them to find the block in the dark?</p>
</div>
<h3 class="h3" id="ch09lev1sec06"><span epub:type="pagebreak" id="page_192"></span><strong><span class="blue1">Dictionaries</span></strong></h3>
<p class="noindent">Dictionaries are a type of list that uses a different approach. Instead of using an index to identify items, dictionaries identify items using a set of keys defined by the programmer.</p>
<p class="indent">For example, this <span class="literal">raceTimes</span> dictionary stores the names of people who ran in a race and their race times:</p>
<p class="programs">raceTimes = {<span class="green">'Katy'</span>: 26,<br/>             <span class="green">'Alex'</span>: 30,<br/>             <span class="green">'Richard'</span>: 19}</p>
<p class="indent">The key uniquely identifies each value in the dictionary. In this example, the key is the name of the person. The <span class="literal">'Katy'</span> key has an associated value of <span class="literal">26</span>.</p>
<p class="indent">Like lists, dictionaries are mutable; their content can be changed.</p>
<h4 class="h4" id="ch09lev2sec18"><strong><span class="blue1">Defining a Dictionary</span></strong></h4>
<p class="noindent">To define a dictionary, use a pair of curly brackets around a set of key-value pairs. For example, you can use a dictionary to describe a person. You can use keys like <span class="literal">'name'</span> and <span class="literal">'favoriteAnimal'</span> to store information about the person, like so:</p>
<p class="programs">person = {<span class="green">'name'</span>: <span class="green">'David'</span>,<br/>          <span class="green">'age'</span>: 42,<br/>          <span class="green">'favoriteAnimal'</span>: <span class="green">'Snake'</span>,<br/>          <span class="green">'favoritePlace'</span>: <span class="green">'Inside a cardboard box'</span>}</p>
<p class="indent">In this example, every key is a string. Each key is paired with a value using a colon. For example, <span class="literal">'age'</span> is a key and <span class="literal">42</span> is its corresponding value. Items in the dictionary are then separated by commas.</p>
<p class="indent">You may have noticed that using dictionaries makes it easy for a programmer to understand what each item in the list represents; for example, it’s easy to understand that the <span class="literal">'name'</span> key stores a name, not a number or some other random information.</p>
<p class="indent">You can also use integers and floats as dictionary keys. Using floats or integers in dictionaries is very useful when the keys you want to match with values don’t follow a strict sequence.</p>
<p class="indent">The following example creates a dictionary of train times. The train time (which is a float) is stored as the key, and the destination of the train is stored as the value:</p>
<p class="programs">trainTimes = {1.00: <span class="green">'Castle Town'</span>,<br/>             2.30: <span class="green">'Sheep Farm'</span>,<br/>             3.15: <span class="green">'Lake City'</span>,<br/>             3.45: <span class="green">'Castle Town'</span>,<br/>             3.55: <span class="green">'Storage Land'</span><br/>             }</p>
<p class="indent"><span epub:type="pagebreak" id="page_193"></span>Because dictionaries can store two pieces of data that go together as a pair, they’re ideal for a situation like this. If I used a list of train destinations instead of a dictionary, I wouldn’t be able to match up the times to the destinations. I would only be able to use the list’s index positions, which would be 0, 1, 2, 3, 4, and so on, instead of the times.</p>
<h4 class="h4" id="ch09lev2sec19"><strong><span class="blue1">Accessing Items in Dictionaries</span></strong></h4>
<p class="noindent">To access the value of an item in a dictionary, you use square brackets and a key instead of an index. The key is usually a string or an integer. When you’re creating a dictionary that uses strings as keys, make sure you put them in quotation marks.</p>
<p class="indent">For example, to access the value of the <span class="literal">'name'</span> key in the <span class="literal">person</span> dictionary created earlier, you would use this syntax:</p>
<p class="programs">person = {<span class="green">'name'</span>: <span class="green">'David'</span>,<br/>         <span class="green">'age'</span>: 42,<br/>         <span class="green">'favoriteAnimal'</span>: <span class="green">'Snake'</span>,<br/>         <span class="green">'favoritePlace'</span>: <span class="green">'Inside a cardboard box'</span>}<br/><br/>agentName = person[<span class="green">'name'</span>]</p>
<p class="indent">The <span class="literal">agentName</span> variable will contain the value <span class="literal">'David'</span> because it accesses the value of the <span class="literal">'name'</span> key. In the same way, if you wanted to access the age of the agent, you would use the <span class="literal">'age'</span> key:</p>
<p class="programs">agentAge = person[<span class="green">'age'</span>]</p>
<p class="indent">This would store the value <span class="literal">42</span> in the <span class="literal">agentAge</span> variable.</p>
<p class="indent">In the <span class="literal">trainTimes</span> example, you can access the values in the dictionary (the destinations)using their key values (the train times), which are floats:</p>
<p class="programs">trainTimes = {1.00: <span class="green">'Castle Town'</span>,<br/>             2.30: <span class="green">'Sheep Farm'</span>,<br/>             3.15: <span class="green">'Lake City'</span>,<br/>             3.45: <span class="green">'Castle Town'</span>,<br/>             3.55: <span class="green">'Storage Land'</span><br/>             }<br/><br/>myTrain = trainTimes[3.15]</p>
<p class="indent">Accessing the <span class="literal">3.15</span> key in the <span class="literal">trainTimes</span> dictionary sets the <span class="literal">myTrain</span> variable to <span class="literal">'Lake City'</span>.</p>
<h4 class="h4a" id="ch09lev2sec20"><span epub:type="pagebreak" id="page_194"></span><strong>Mission #53: Sightseeing Guide</strong></h4>
<p class="noindent">When you’re using dictionaries, you can store any data type as the value, even lists and tuples. For example, you could store a tuple containing values for <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span>. Here’s an example of code that does just that:</p>
<p class="programs">places = {<span class="green">'Living room'</span>: (76, 1, -61), <span class="green">'Bedroom'</span>: (61, 9, -61)}</p>
<p class="indent">The <span class="literal">places</span> dictionary stores two items. The dictionary key is the name of a location in my Minecraft game (such as my living room or bedroom), and the value is a tuple of the coordinates. If I wanted to access the coordinates of my living room, I would use the following code:</p>
<p class="programs">location = places[<span class="green">'Living room'</span>]<br/>x, y, z = location[0], location[1], location[2]</p>
<p class="indent">Your mission is to create a program that uses a dictionary to store the locations of different places in your Minecraft game so you can teleport to them by name. Include as many locations in the dictionary as you want. To teleport to those locations, you need to access the tuple of coordinates stored in the dictionary and then set <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> to the values stored in the tuple. Comments in the code show where to do this.</p>
<p class="indent">Copy <a href="ch09.xhtml#ch9ex7">Listing 9-7</a> into the IDLE text editor and save it in the <em>lists</em> folder as <em>sightseeingGuide.py</em>.</p>
<p class="sidenote"><span class="blue"><em>sightseeingGuide.py</em></span></p>
<p class="programs">   <span class="orange">from</span> mcpi.minecraft <span class="orange">import</span> Minecraft<br/>   mc = Minecraft.create()<br/><br/>   <span class="red"># Add locations to the dictionary</span><br/>   places = {}<br/><br/>   choice = <span class="green">""</span><br/>   <span class="orange">while</span> choice != <span class="green">"exit"</span>:<br/><span class="ent">➊</span>     choice = <span class="rose">input</span>(<span class="green">"Enter a location ('exit' to close): "</span>)<br/><span class="ent">➋</span>     <span class="orange">if</span> choice <span class="orange">in</span> places:<br/>           <span class="red"># Store the dictionary item's value using its key (choice)</span><br/>           location =<br/>           <span class="red"># Store the values stored in the tuple in the x, y, and z variables</span><br/>           x, y, z =<br/>           mc.player.setTilePos(x, y, z)</p>
<p class="examplet"><a id="ch9ex7"></a><em>Listing 9-7: Some neat code to teleport to different locations</em></p>
<p class="indent">I’ve included a statement that asks you to enter the name of the location you want to go to. This input is stored in the <span class="literal">choice</span> variable <span class="ent">➊</span>. The program then uses an <span class="literal">if</span> statement to check whether the value of <span class="literal">choice</span> is in the dictionary <span class="ent">➋</span>. The last line uses the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables to teleport the player to the position stored in the dictionary.</p>
<p class="indent">When the program runs, enter the name of the location that you want to go to. <a href="ch09.xhtml#ch9fig8">Figure 9-8</a> shows my version of the program teleporting me to different places in my game.</p>
<div class="image"><span epub:type="pagebreak" id="page_195"></span><img alt="image" src="../images/f09-08.jpg"/></div>
<p class="figcap"><a id="ch9fig8"></a><em>Figure 9-8: I teleported to my living room (top) and my bedroom (bottom).</em></p>
<h4 class="h4" id="ch09lev2sec21"><strong><span class="blue1">Changing or Adding an Item in a Dictionary</span></strong></h4>
<p class="noindent">It doesn’t take much work to change the value of an item in a dictionary. You use square brackets with a key to access the item and set it as you would a normal variable (with an equal sign). You can also add a new item using this approach.</p>
<p class="indent">Let’s change the value of the <span class="literal">age</span> item in the <span class="literal">person</span> dictionary from 42 to 43:</p>
<p class="programs">person[<span class="green">'age'</span>] = 43</p>
<p class="indent"><span epub:type="pagebreak" id="page_196"></span>Let’s also add a new item called <span class="literal">location</span> with the value <span class="literal">'USS Discovery'</span>:</p>
<p class="programs">person[<span class="green">'location'</span>] = <span class="green">'USS Discovery'</span></p>
<p class="indent">After running this code, the dictionary will have a new key called <span class="literal">location</span> that has the value of <span class="literal">'USS Discovery'</span>.</p>
<h4 class="h4" id="ch09lev2sec22"><strong><span class="blue1">Deleting Items in Dictionaries</span></strong></h4>
<p class="noindent">Sometimes you’ll want to delete an item in a dictionary. As with a list, you use the <span class="literal">del</span> keyword to do this. For example, to delete the <span class="literal">favoriteAnimal</span> item in the <span class="literal">person</span> dictionary, you would do this:</p>
<p class="programs"><span class="orange">del</span> person[<span class="green">'favoriteAnimal'</span>]</p>
<p class="indent">As you can see, it works just like deleting items from a list.</p>
<h4 class="h4a" id="ch09lev2sec23"><strong>Mission #54: Block Hits Score</strong></h4>
<p class="noindent">In Mission #50 (<a href="ch09.xhtml#page_184">page 184</a>), you wrote a program that counts the number of times the player hits a block with their sword in 60 seconds. As fun as the program is, it would be even cooler if you could record the scores of everyone who played.</p>
<p class="indent">To add a scoreboard to the game, you’ll use a dictionary. The dictionary will store the player’s name and their score, which can then be displayed alongside everyone else’s scores.</p>
<p class="indent">To get started, open <em>swordHits.py</em> and save it as <em>swordHitsScore.py</em> in the <em>lists</em> folder. Update the code to match <a href="ch09.xhtml#ch9ex8">Listing 9-8</a>, where I’ve made some changes to the program so it repeats, asks the player for their name, and then prints all the scores. (I’ve also included the solutions to the missing code from <em>swordHits.py</em>.) The older sections are grayed out. (Remember to indent everything inside the loop.)</p>
<p class="sidenote"><span class="blue"><em>swordHitsScore.py</em></span></p>
<p class="programs">   <span class="ash"># Connect to the Minecraft game</span><br/>   <span class="ash">from mcpi.minecraft import Minecraft</span><br/>   <span class="ash">mc = Minecraft.create()</span><br/><br/>   <span class="ash">import time</span><br/><br/>   name = <span class="green">""</span><br/>   scoreboard = {}<br/><br/>   <span class="orange">while True</span>:<br/>       <span class="red"># Get the player's name</span><br/>       name = <span class="rose">input</span>(<span class="green">"What is your name? "</span>)<br/>       <span class="red"># Break loop if name is exit</span><br/>       <span class="orange">if</span> name == <span class="green">"exit"</span>:<br/>           <span class="orange">break</span><br/>       mc.postToChat("G<span class="green">o!")</span><br/><br/>       <span class="ash"># Wait 60 seconds</span><br/>       <span class="ash">time.sleep(60)</span><br/><br/>       <span class="ash"># Get the list of block hits</span><br/>       <span class="ash">blockHits = mc.events.pollBlockHits()</span><br/><br/>       <span class="ash"># Display the length of the block hits list to chat</span><br/>       <span class="ash">blockHitsLength = len(blockHits)</span><br/>       <span class="ash">mc.postToChat("Your score is " + str(blockHitsLength))</span><br/><br/><span class="ent">➊</span>     <span class="red"># Add the player to the scoreboard</span><br/><br/>       <span class="red"># Display the scoreboard</span><br/>       <span class="rose">print</span>(scoreboard)</p>
<p class="examplet"><span epub:type="pagebreak" id="page_197"></span><a id="ch9ex8"></a><em>Listing 9-8: When the code is complete, it will add a scoreboard to the block hits game.</em></p>
<p class="indent">To finish the program, you need to store the name and score of every player who plays the game. Do this by adding a new dictionary item using the pieces of data in the code at <span class="ent">➊</span>. The dictionary is called <span class="literal">scoreboard</span>, and the name of the player is stored in the <span class="literal">name</span> variable.</p>
<p class="indent"><a href="ch09.xhtml#ch9fig9">Figure 9-9</a> shows the output of my scoreboard.</p>
<div class="image"><img alt="image" src="../images/f09-09.jpg"/></div>
<p class="figcap"><a id="ch9fig9"></a><em>Figure 9-9: My friends and I played a game, and Jim is the winner with 274 block hits.</em></p>
<div class="note">
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>
<p class="notep"><em>You might have noticed that when the</em> <span class="literal"><span class="codeitalic">scoreboard</span></span> <em>dictionary is printed, it isn’t easy to read. You’ll learn how to fix this in Mission #59 (<a href="ch10.xhtml#page_209">page 209</a>).</em></p>
</div>
<div class="sidebar">
<p class="sidebart" id="ch09sb05"><span epub:type="pagebreak" id="page_198"></span><strong>BONUS OBJECTIVE: BEST SCORE</strong></p>
<p class="noindent">At the moment, if someone plays the <em>swordHitsScore.py</em> game two or more times (and enters the same username), the program will only record their most recent score. Can you work out how to use an <span class="literal">if</span> statement to check whether the player has already entered a score and store the new score only if it is greater than the previous one? Here’s the beginning of the code to help you out. It checks whether someone’s name is already in the <span class="literal">scoreboard</span> dictionary:</p>
<p class="programs">if name in scoreboard:</p>
</div>
<h3 class="h3" id="ch09lev1sec07"><strong><span class="blue1">What You Learned</span></strong></h3>
<p class="noindent">Excellent job! In this chapter you learned about lists, tuples, and dictionaries. You saw that they can store several data values in a single variable. They are a very useful way to structure and store data in your programs.</p>
<p class="indent">In the missions, you created several fun programs that use lists, dictionaries, and tuples. With lists, you created a progress bar using lapis lazuli and glass. Using tuples, you learned a quicker way to set the <span class="literal">x</span>, <span class="literal">y</span>, and <span class="literal">z</span> variables. And dictionaries allowed you to store the coordinates of things you’ve built and then teleport to them by entering their names.</p>
<p class="indent">In <a href="ch10.xhtml#ch10">Chapter 10</a>, you’ll further develop your knowledge of lists by learning about <span class="literal">for</span> loops. You’ll create some very cool programs, including one that you can use to duplicate items you’ve built.</p>
</body>
</html>