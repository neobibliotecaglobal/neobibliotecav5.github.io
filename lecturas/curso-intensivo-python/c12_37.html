<!DOCTYPE html>

<html lang="es">
<head><meta charset="utf-8"/>
<link href="Styles/Style00.css" rel="stylesheet" type="text/css"/>
<style type="text/css">body{margin:1em;background-color:transparent!important;}#sbo-rt-content *{text-indent:0pt!important;}#sbo-rt-content .bq{margin-right:1em!important;}#sbo-rt-content *{word-wrap:break-word!important;word-break:break-word!important;}#sbo-rt-content table,#sbo-rt-content pre{overflow-x:unset!important;overflow:unset!important;overflow-y:unset!important;white-space:pre-wrap!important;}</style><meta content="width=device-width, initial-scale=1.0" name="viewport"/><style>
    body {
        width: 74%;
        min-height: 84vh;
        font-size: 16px;
        line-height: 1.5;
        margin: 0;
        padding-left: 13%;
        padding-right: 13%;
        padding-top: 3%;
        }
    
    @media screen and (max-width: 768px) {
        body {
            width: 92%;
            padding-left: 4%;
            padding-right: 4%;
            padding-top: 2%;
            font-size: 14px;
        }
    }
    
    @media screen and (max-width: 480px) {
        body {
            width: 96%;
            padding-left: 2%;
            padding-right: 2%;
            padding-top: 1%;
            font-size: 12px;
        }
    }
</style>
</head>
<body>
<h3 id="h2-502703c12-0022">Almacenar viñetas en un grupo</h3>
<p class="BodyFirst">Ahora que tenemos una clase <code translate="no">Bullet</code> y los ajustes necesarios definidos, podemos escribir código para disparar una bala cada vez que el jugador pulse la barra espaciadora. Crearemos un grupo en <code translate="no">AlienInvasion</code> para almacenar todas las balas activas, de modo que podamos gestionar las balas que ya han sido disparadas. Este grupo será una instancia de la clase <code translate="no">pygame.sprite.Group</code>, que se comporta como una lista con algunas funciones adicionales que resultan útiles cuando se construyen juegos. Utilizaremos este grupo para dibujar las balas en la pantalla en cada pasada por el bucle principal y para actualizar la posición de cada bala.</p>
<p><span epub:type="pagebreak" id="Page_249" title="249"></span>En primer lugar, importaremos la nueva clase <code translate="no">Bullet</code>:</p>
<p class="CodeLabel" translate="no"><b>alien_invasion.py</b></p>
<pre translate="no"><code translate="no"><em class="LiteralGrayItalic" translate="no">--snip--</em>
<span class="LiteralGray">from ship import Ship</span>
from bullet import Bullet</code></pre>
<p>A continuación crearemos el grupo que contiene las viñetas en <code translate="no">__init__()</code>:</p>
<p class="CodeLabel" translate="no"><b>alien_invasion.py</b></p>
<pre translate="no"><code translate="no"><span class="LiteralGray">    def __init__(self):</span>
<span class="LiteralGray">        </span><em class="LiteralGrayItalic" translate="no">--snip--</em>
<span class="LiteralGray">        self.ship = Ship(self)</span>
<span class="LiteralGray">        </span>self.bullets = pygame.sprite.Group()</code></pre>
<p>Luego tendremos que actualizar la posición de las viñetas en cada pasada por el bucle <code translate="no">while</code>:</p>
<p class="CodeLabel" translate="no"><b>alien_invasion.py</b></p>
<pre translate="no"><code translate="no"><span class="LiteralGray">    def run_game(self):</span>
<span class="LiteralGray">        """Start the main loop for the game."""</span>
<span class="LiteralGray">        while True:</span>
<span class="LiteralGray">            self._check_events()</span>
<span class="LiteralGray">            self.ship.update()</span>
<span class="LiteralGray">            </span>self.bullets.update()
<span class="LiteralGray">            self._update_screen()</span>
<span class="LiteralGray">            self.clock.tick(60)</span></code></pre>
<p>Cuando llamas a <code translate="no">update()</code> en un grupo, el grupo llama automáticamente a <code translate="no">update()</code> para cada sprite del grupo. La línea <code translate="no">self.bullets.update()</code> llama a <code translate="no">bullet.update()</code> por cada bala que colocamos en el grupo <code translate="no">bullets</code>.</p>
<footer>
<style>
        footer {
            text-align: center;
            margin-top: 2em;
            padding-top: 1em;
            padding-bottom: 2em;
            border-top: 1px solid #eaeaea;
        }
        
        footer a {
            color: #0000FF; /* Color azul para los enlaces */
            text-decoration: none; /* Opcional: elimina el subrayado de los enlaces */
            margin-left: 1em;
            margin-right: 1em;
        }
        footer a:hover {
            text-decoration: underline; /* Opcional: subraya el enlace al pasar el mouse */
        }
    </style>
<p><a href="c12_36.html">anterior</a><a href="c12.html">Subtema 37 de 43: (Ver todo)</a><a href="c12_38.html">siguiente</a><br/></p>
<br/><a href="c12_37.docx" target="_blank"></a></footer>
</body>
</html>
